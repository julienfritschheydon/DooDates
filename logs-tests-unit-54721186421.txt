2025-11-06T18:07:14.6169597Z Current runner version: '2.329.0'
2025-11-06T18:07:14.6193202Z ##[group]Runner Image Provisioner
2025-11-06T18:07:14.6194058Z Hosted Compute Agent
2025-11-06T18:07:14.6194684Z Version: 20251016.436
2025-11-06T18:07:14.6195260Z Commit: 8ab8ac8bfd662a3739dab9fe09456aba92132568
2025-11-06T18:07:14.6195957Z Build Date: 2025-10-15T20:44:12Z
2025-11-06T18:07:14.6196537Z ##[endgroup]
2025-11-06T18:07:14.6197105Z ##[group]Operating System
2025-11-06T18:07:14.6197621Z Ubuntu
2025-11-06T18:07:14.6198121Z 24.04.3
2025-11-06T18:07:14.6198690Z LTS
2025-11-06T18:07:14.6199153Z ##[endgroup]
2025-11-06T18:07:14.6199747Z ##[group]Runner Image
2025-11-06T18:07:14.6200429Z Image: ubuntu-24.04
2025-11-06T18:07:14.6200926Z Version: 20251030.96.2
2025-11-06T18:07:14.6201893Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20251030.96/images/ubuntu/Ubuntu2404-Readme.md
2025-11-06T18:07:14.6203520Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20251030.96
2025-11-06T18:07:14.6204522Z ##[endgroup]
2025-11-06T18:07:14.6205760Z ##[group]GITHUB_TOKEN Permissions
2025-11-06T18:07:14.6207820Z Contents: write
2025-11-06T18:07:14.6208555Z Issues: write
2025-11-06T18:07:14.6209592Z Metadata: read
2025-11-06T18:07:14.6210422Z PullRequests: write
2025-11-06T18:07:14.6211397Z ##[endgroup]
2025-11-06T18:07:14.6214170Z Secret source: Actions
2025-11-06T18:07:14.6215279Z Prepare workflow directory
2025-11-06T18:07:14.6592111Z Prepare all required actions
2025-11-06T18:07:14.6635352Z Getting action download info
2025-11-06T18:07:15.1209581Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-11-06T18:07:15.5870531Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2025-11-06T18:07:15.7198213Z Download action repository 'actions/cache@v4' (SHA:0057852bfaa89a56745cba8c7296529d2fc39830)
2025-11-06T18:07:15.9686268Z Complete job name: tests-unit
2025-11-06T18:07:16.0494393Z ##[group]Run actions/checkout@v4
2025-11-06T18:07:16.0495742Z with:
2025-11-06T18:07:16.0496583Z   repository: julienfritschheydon/DooDates
2025-11-06T18:07:16.0497958Z   token: ***
2025-11-06T18:07:16.0498725Z   ssh-strict: true
2025-11-06T18:07:16.0499695Z   ssh-user: git
2025-11-06T18:07:16.0500521Z   persist-credentials: true
2025-11-06T18:07:16.0501431Z   clean: true
2025-11-06T18:07:16.0502261Z   sparse-checkout-cone-mode: true
2025-11-06T18:07:16.0503246Z   fetch-depth: 1
2025-11-06T18:07:16.0504039Z   fetch-tags: false
2025-11-06T18:07:16.0504874Z   show-progress: true
2025-11-06T18:07:16.0505729Z   lfs: false
2025-11-06T18:07:16.0506489Z   submodules: false
2025-11-06T18:07:16.0507335Z   set-safe-directory: true
2025-11-06T18:07:16.0508485Z ##[endgroup]
2025-11-06T18:07:16.1584155Z Syncing repository: julienfritschheydon/DooDates
2025-11-06T18:07:16.1587058Z ##[group]Getting Git version info
2025-11-06T18:07:16.1588623Z Working directory is '/home/runner/work/DooDates/DooDates'
2025-11-06T18:07:16.1591048Z [command]/usr/bin/git version
2025-11-06T18:07:16.2596773Z git version 2.51.2
2025-11-06T18:07:16.2624974Z ##[endgroup]
2025-11-06T18:07:16.2639954Z Temporarily overriding HOME='/home/runner/work/_temp/5acb6ca4-a1d4-4391-a91f-ed9af66b8262' before making global git config changes
2025-11-06T18:07:16.2653038Z Adding repository directory to the temporary git global config as a safe directory
2025-11-06T18:07:16.2655348Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/DooDates/DooDates
2025-11-06T18:07:16.2727956Z Deleting the contents of '/home/runner/work/DooDates/DooDates'
2025-11-06T18:07:16.2731714Z ##[group]Initializing the repository
2025-11-06T18:07:16.2735480Z [command]/usr/bin/git init /home/runner/work/DooDates/DooDates
2025-11-06T18:07:16.3274774Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-11-06T18:07:16.3276747Z hint: is subject to change. To configure the initial branch name to use in all
2025-11-06T18:07:16.3278638Z hint: of your new repositories, which will suppress this warning, call:
2025-11-06T18:07:16.3280529Z hint:
2025-11-06T18:07:16.3281471Z hint: 	git config --global init.defaultBranch <name>
2025-11-06T18:07:16.3282630Z hint:
2025-11-06T18:07:16.3283716Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-11-06T18:07:16.3285557Z hint: 'development'. The just-created branch can be renamed via this command:
2025-11-06T18:07:16.3286998Z hint:
2025-11-06T18:07:16.3287739Z hint: 	git branch -m <name>
2025-11-06T18:07:16.3288620Z hint:
2025-11-06T18:07:16.3289929Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-11-06T18:07:16.3314984Z Initialized empty Git repository in /home/runner/work/DooDates/DooDates/.git/
2025-11-06T18:07:16.3327091Z [command]/usr/bin/git remote add origin https://github.com/julienfritschheydon/DooDates
2025-11-06T18:07:16.3402689Z ##[endgroup]
2025-11-06T18:07:16.3404199Z ##[group]Disabling automatic garbage collection
2025-11-06T18:07:16.3405950Z [command]/usr/bin/git config --local gc.auto 0
2025-11-06T18:07:16.3434111Z ##[endgroup]
2025-11-06T18:07:16.3435472Z ##[group]Setting up auth
2025-11-06T18:07:16.3440545Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-11-06T18:07:16.3469638Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-11-06T18:07:16.5028347Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-06T18:07:16.5057391Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-11-06T18:07:16.5274544Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-11-06T18:07:16.5317278Z ##[endgroup]
2025-11-06T18:07:16.5320047Z ##[group]Fetching the repository
2025-11-06T18:07:16.5329012Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +8df910d22961f6102876667582e8a7c3dceed3b2:refs/remotes/origin/develop
2025-11-06T18:07:20.7826582Z From https://github.com/julienfritschheydon/DooDates
2025-11-06T18:07:20.7828548Z  * [new ref]         8df910d22961f6102876667582e8a7c3dceed3b2 -> origin/develop
2025-11-06T18:07:20.7907326Z ##[endgroup]
2025-11-06T18:07:20.7908183Z ##[group]Determining the checkout info
2025-11-06T18:07:20.7909955Z ##[endgroup]
2025-11-06T18:07:20.7915355Z [command]/usr/bin/git sparse-checkout disable
2025-11-06T18:07:20.7998055Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-11-06T18:07:20.8024838Z ##[group]Checking out the ref
2025-11-06T18:07:20.8028997Z [command]/usr/bin/git checkout --progress --force -B develop refs/remotes/origin/develop
2025-11-06T18:07:21.8063082Z Updating files:  97% (670/685)
2025-11-06T18:07:21.8064690Z Updating files:  98% (672/685)
2025-11-06T18:07:21.8067682Z Updating files:  99% (679/685)
2025-11-06T18:07:21.8068597Z Updating files: 100% (685/685)
2025-11-06T18:07:21.8069155Z Updating files: 100% (685/685), done.
2025-11-06T18:07:21.8088736Z Switched to a new branch 'develop'
2025-11-06T18:07:21.8092351Z branch 'develop' set up to track 'origin/develop'.
2025-11-06T18:07:21.8164976Z ##[endgroup]
2025-11-06T18:07:21.8206560Z [command]/usr/bin/git log -1 --format=%H
2025-11-06T18:07:21.8231929Z 8df910d22961f6102876667582e8a7c3dceed3b2
2025-11-06T18:07:21.8456385Z ##[group]Run actions/setup-node@v4
2025-11-06T18:07:21.8456667Z with:
2025-11-06T18:07:21.8456859Z   node-version: 20
2025-11-06T18:07:21.8457041Z   cache: npm
2025-11-06T18:07:21.8457222Z   always-auth: false
2025-11-06T18:07:21.8457524Z   check-latest: false
2025-11-06T18:07:21.8458099Z   token: ***
2025-11-06T18:07:21.8458475Z ##[endgroup]
2025-11-06T18:07:22.0461333Z Found in cache @ /opt/hostedtoolcache/node/20.19.5/x64
2025-11-06T18:07:22.0467985Z ##[group]Environment details
2025-11-06T18:07:24.5506658Z node: v20.19.5
2025-11-06T18:07:24.5507279Z npm: 10.8.2
2025-11-06T18:07:24.5507593Z yarn: 1.22.22
2025-11-06T18:07:24.5509009Z ##[endgroup]
2025-11-06T18:07:24.5531092Z [command]/opt/hostedtoolcache/node/20.19.5/x64/bin/npm config get cache
2025-11-06T18:07:24.8400813Z /home/runner/.npm
2025-11-06T18:07:25.0723567Z Cache hit for: node-cache-Linux-x64-npm-ef5b18348fb37d26adc6f73485b78d3e39c53fac58f6018ead24814f1997c378
2025-11-06T18:07:26.3198390Z Received 71303168 of 91910531 (77.6%), 68.0 MBs/sec
2025-11-06T18:07:26.5396680Z Received 91910531 of 91910531 (100.0%), 71.8 MBs/sec
2025-11-06T18:07:26.5397939Z Cache Size: ~88 MB (91910531 B)
2025-11-06T18:07:26.5435307Z [command]/usr/bin/tar -xf /home/runner/work/_temp/7f1ebc7e-a5a1-4881-9e4c-c8d815f64ecf/cache.tzst -P -C /home/runner/work/DooDates/DooDates --use-compress-program unzstd
2025-11-06T18:07:26.8169795Z Cache restored successfully
2025-11-06T18:07:26.8351494Z Cache restored from key: node-cache-Linux-x64-npm-ef5b18348fb37d26adc6f73485b78d3e39c53fac58f6018ead24814f1997c378
2025-11-06T18:07:26.9083285Z ##[group]Run actions/cache@v4
2025-11-06T18:07:26.9083546Z with:
2025-11-06T18:07:26.9083740Z   path: node_modules
~/.npm

2025-11-06T18:07:26.9084137Z   key: Linux-node-ef5b18348fb37d26adc6f73485b78d3e39c53fac58f6018ead24814f1997c378
2025-11-06T18:07:26.9084559Z   restore-keys: Linux-node-

2025-11-06T18:07:26.9084800Z   enableCrossOsArchive: false
2025-11-06T18:07:26.9085031Z   fail-on-cache-miss: false
2025-11-06T18:07:26.9085249Z   lookup-only: false
2025-11-06T18:07:26.9085444Z   save-always: false
2025-11-06T18:07:26.9085635Z ##[endgroup]
2025-11-06T18:07:27.2292345Z Cache hit for: Linux-node-ef5b18348fb37d26adc6f73485b78d3e39c53fac58f6018ead24814f1997c378
2025-11-06T18:07:28.3954145Z Received 100663296 of 174523565 (57.7%), 96.0 MBs/sec
2025-11-06T18:07:28.9737781Z Received 174523565 of 174523565 (100.0%), 105.3 MBs/sec
2025-11-06T18:07:28.9745116Z Cache Size: ~166 MB (174523565 B)
2025-11-06T18:07:28.9783923Z [command]/usr/bin/tar -xf /home/runner/work/_temp/c3ab76c2-130e-4808-8641-4415913a2bb4/cache.tzst -P -C /home/runner/work/DooDates/DooDates --use-compress-program unzstd
2025-11-06T18:07:30.8510645Z Cache restored successfully
2025-11-06T18:07:30.8924351Z Cache restored from key: Linux-node-ef5b18348fb37d26adc6f73485b78d3e39c53fac58f6018ead24814f1997c378
2025-11-06T18:07:30.9058457Z ##[group]Run npm ci
2025-11-06T18:07:30.9058738Z [36;1mnpm ci[0m
2025-11-06T18:07:30.9147196Z shell: /usr/bin/bash -e {0}
2025-11-06T18:07:30.9147460Z ##[endgroup]
2025-11-06T18:07:36.4856931Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-11-06T18:07:36.7597280Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-11-06T18:07:36.7601377Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-11-06T18:07:36.7606695Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-11-06T18:07:36.7618961Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-11-06T18:07:37.9127958Z npm warn deprecated later@1.2.0: Please upgrade to the maintained and new drop-in replacement @breejs/later at https://github.com/breejs/later üöÄ Thanks and happy hacking! üöÄ  @niftylettuce
2025-11-06T18:07:40.7726933Z 
2025-11-06T18:07:40.7727535Z > vite_react_shadcn_ts@0.0.0 prepare
2025-11-06T18:07:40.7727979Z > husky
2025-11-06T18:07:40.7728108Z 
2025-11-06T18:07:40.8406142Z 
2025-11-06T18:07:40.8407810Z added 949 packages, and audited 950 packages in 10s
2025-11-06T18:07:40.8408299Z 
2025-11-06T18:07:40.8408601Z 227 packages are looking for funding
2025-11-06T18:07:40.8409119Z   run `npm fund` for details
2025-11-06T18:07:40.8421489Z 
2025-11-06T18:07:40.8421721Z found 0 vulnerabilities
2025-11-06T18:07:40.9032483Z ##[group]Run npm run test:unit
2025-11-06T18:07:40.9032802Z [36;1mnpm run test:unit[0m
2025-11-06T18:07:40.9072575Z shell: /usr/bin/bash -e {0}
2025-11-06T18:07:40.9072841Z ##[endgroup]
2025-11-06T18:07:41.0195898Z 
2025-11-06T18:07:41.0196554Z > vite_react_shadcn_ts@0.0.0 test:unit
2025-11-06T18:07:41.0197159Z > vitest run
2025-11-06T18:07:41.0197366Z 
2025-11-06T18:07:41.3389890Z 
2025-11-06T18:07:41.3392192Z [1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/home/runner/work/DooDates/DooDates[39m
2025-11-06T18:07:41.3392781Z 
2025-11-06T18:07:42.9503700Z  [32m‚úì[39m src/lib/simulation/__tests__/SimulationComparison.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 19[2mms[22m[39m
2025-11-06T18:07:43.0791977Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts
2025-11-06T18:07:43.0793192Z [22m[39müîß Supabase Config Debug: {
2025-11-06T18:07:43.0800431Z   url: [32m'https://test.supabase.co...'[39m,
2025-11-06T18:07:43.0801955Z   key: [32m'test-anon-key...'[39m,
2025-11-06T18:07:43.0802809Z   isLocalDev: [33mfalse[39m
2025-11-06T18:07:43.0803431Z }
2025-11-06T18:07:43.0803740Z 
2025-11-06T18:07:43.1966792Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mTri par favoris[2m > [22m[2mshould place favorites at the top of the list
2025-11-06T18:07:43.1968637Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:43.1969241Z   count: [33m3[39m,
2025-11-06T18:07:43.1970030Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.1970478Z   conversations: [
2025-11-06T18:07:43.1970805Z     {
2025-11-06T18:07:43.1971201Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.1971820Z       title: [32m'Conversation normale 1'[39m,
2025-11-06T18:07:43.1972452Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.1972878Z     },
2025-11-06T18:07:43.1973172Z     {
2025-11-06T18:07:43.1973550Z       id: [32m'conv2'[39m,
2025-11-06T18:07:43.1974171Z       title: [32m'Conversation favorite'[39m,
2025-11-06T18:07:43.1974788Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.1975220Z     },
2025-11-06T18:07:43.1975560Z     {
2025-11-06T18:07:43.1975999Z       id: [32m'conv3'[39m,
2025-11-06T18:07:43.1976651Z       title: [32m'Conversation normale 2'[39m,
2025-11-06T18:07:43.1977320Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.1977755Z     }
2025-11-06T18:07:43.1978064Z   ]
2025-11-06T18:07:43.1978351Z }
2025-11-06T18:07:43.1978888Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:43.1979646Z   count: [33m3[39m,
2025-11-06T18:07:43.1980020Z   filters: {},
2025-11-06T18:07:43.1980598Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.1981087Z   conversations: [
2025-11-06T18:07:43.1981449Z     {
2025-11-06T18:07:43.1981863Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.1982488Z       title: [32m'Conversation normale 1'[39m,
2025-11-06T18:07:43.1983115Z       status: [32m'active'[39m,
2025-11-06T18:07:43.1983726Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.1984191Z     },
2025-11-06T18:07:43.1984486Z     {
2025-11-06T18:07:43.1984938Z       id: [32m'conv2'[39m,
2025-11-06T18:07:43.1985568Z       title: [32m'Conversation favorite'[39m,
2025-11-06T18:07:43.1986234Z       status: [32m'active'[39m,
2025-11-06T18:07:43.1986831Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.1987270Z     },
2025-11-06T18:07:43.1987573Z     {
2025-11-06T18:07:43.1987970Z       id: [32m'conv3'[39m,
2025-11-06T18:07:43.1988581Z       title: [32m'Conversation normale 2'[39m,
2025-11-06T18:07:43.1989205Z       status: [32m'active'[39m,
2025-11-06T18:07:43.2010858Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.2011303Z     }
2025-11-06T18:07:43.2011600Z   ]
2025-11-06T18:07:43.2011899Z }
2025-11-06T18:07:43.2012412Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:43.2012959Z   totalCount: [33m3[39m,
2025-11-06T18:07:43.2013489Z   pageParam: [33m0[39m,
2025-11-06T18:07:43.2014449Z   pageSize: [33m20[39m,
2025-11-06T18:07:43.2015073Z   start: [33m0[39m,
2025-11-06T18:07:43.2015498Z   end: [33m20[39m,
2025-11-06T18:07:43.2015937Z   paginatedCount: [33m3[39m,
2025-11-06T18:07:43.2016394Z   hasMore: [33mfalse[39m
2025-11-06T18:07:43.2016736Z }
2025-11-06T18:07:43.2016893Z 
2025-11-06T18:07:43.2078745Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mTri par favoris[2m > [22m[2mshould place favorites at the top of the list
2025-11-06T18:07:43.2080901Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:43.2082353Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:43.2083868Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:43.2085407Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:43.2086312Z     at new Promise (<anonymous>)
2025-11-06T18:07:43.2087612Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:43.2089590Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:43.2091477Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:43.2093442Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:43.2095313Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:43.2097052Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:43.2097846Z 
2025-11-06T18:07:43.3124218Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mTri par favoris[2m > [22m[2mshould sort favorites by favorite_rank
2025-11-06T18:07:43.3153097Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:43.3155543Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mTri par favoris[2m > [22m[2mshould sort favorites by favorite_rank
2025-11-06T18:07:43.3157651Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:43.3158415Z   count: [33m4[39m,
2025-11-06T18:07:43.3159111Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.3161769Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:43.3163515Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:43.3165293Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:43.3166320Z     at new Promise (<anonymous>)
2025-11-06T18:07:43.3167777Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:43.3170090Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:43.3172673Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:43.3175121Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:43.3177186Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:43.3179190Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:43.3213250Z 
2025-11-06T18:07:43.3213463Z   conversations: [
2025-11-06T18:07:43.3214364Z     { id: [32m'conv1'[39m, title: [32m'Favori rang 3'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:43.3215548Z     { id: [32m'conv2'[39m, title: [32m'Favori rang 1'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:43.3216697Z     { id: [32m'conv3'[39m, title: [32m'Favori rang 2'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:43.3217831Z     { id: [32m'conv4'[39m, title: [32m'Non favori'[39m, userId: [32m'test-user'[39m }
2025-11-06T18:07:43.3218464Z   ]
2025-11-06T18:07:43.3218752Z }
2025-11-06T18:07:43.3219552Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:43.3220159Z   count: [33m4[39m,
2025-11-06T18:07:43.3220564Z   filters: {},
2025-11-06T18:07:43.3221126Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.3221642Z   conversations: [
2025-11-06T18:07:43.3222012Z     {
2025-11-06T18:07:43.3222478Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.3223083Z       title: [32m'Favori rang 3'[39m,
2025-11-06T18:07:43.3223723Z       status: [32m'active'[39m,
2025-11-06T18:07:43.3224284Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.3224719Z     },
2025-11-06T18:07:43.3225000Z     {
2025-11-06T18:07:43.3225408Z       id: [32m'conv2'[39m,
2025-11-06T18:07:43.3225980Z       title: [32m'Favori rang 1'[39m,
2025-11-06T18:07:43.3226515Z       status: [32m'active'[39m,
2025-11-06T18:07:43.3227132Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.3227564Z     },
2025-11-06T18:07:43.3227885Z     {
2025-11-06T18:07:43.3228283Z       id: [32m'conv3'[39m,
2025-11-06T18:07:43.3228797Z       title: [32m'Favori rang 2'[39m,
2025-11-06T18:07:43.3229592Z       status: [32m'active'[39m,
2025-11-06T18:07:43.3230216Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.3230667Z     },
2025-11-06T18:07:43.3230987Z     {
2025-11-06T18:07:43.3231405Z       id: [32m'conv4'[39m,
2025-11-06T18:07:43.3231972Z       title: [32m'Non favori'[39m,
2025-11-06T18:07:43.3232567Z       status: [32m'active'[39m,
2025-11-06T18:07:43.3233176Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.3233614Z     }
2025-11-06T18:07:43.3233933Z   ]
2025-11-06T18:07:43.3234251Z }
2025-11-06T18:07:43.3234804Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:43.3235360Z   totalCount: [33m4[39m,
2025-11-06T18:07:43.3235840Z   pageParam: [33m0[39m,
2025-11-06T18:07:43.3236322Z   pageSize: [33m20[39m,
2025-11-06T18:07:43.3236768Z   start: [33m0[39m,
2025-11-06T18:07:43.3237172Z   end: [33m20[39m,
2025-11-06T18:07:43.3237698Z   paginatedCount: [33m4[39m,
2025-11-06T18:07:43.3238233Z   hasMore: [33mfalse[39m
2025-11-06T18:07:43.3238614Z }
2025-11-06T18:07:43.3238780Z 
2025-11-06T18:07:43.3400576Z [90mstderr[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mRendu initial[2m > [22m[2maffiche le titre et le header
2025-11-06T18:07:43.3405701Z [22m[39mWarning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:43.3408584Z 
2025-11-06T18:07:43.3411584Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:43.3414255Z 
2025-11-06T18:07:43.3416532Z act(() => {
2025-11-06T18:07:43.3419189Z   /* fire events that update state */
2025-11-06T18:07:43.3422036Z });
2025-11-06T18:07:43.3424541Z /* assert on the output */
2025-11-06T18:07:43.3426922Z 
2025-11-06T18:07:43.3438487Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:43.3460489Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:43.3461907Z Warning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:43.3462482Z 
2025-11-06T18:07:43.3463043Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:43.3463595Z 
2025-11-06T18:07:43.3463734Z act(() => {
2025-11-06T18:07:43.3464138Z   /* fire events that update state */
2025-11-06T18:07:43.3464572Z });
2025-11-06T18:07:43.3464936Z /* assert on the output */
2025-11-06T18:07:43.3465212Z 
2025-11-06T18:07:43.3466187Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:43.3467841Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:43.3468644Z 
2025-11-06T18:07:43.3653607Z [90mstderr[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mRendu initial[2m > [22m[2maffiche le bouton d'actualisation
2025-11-06T18:07:43.3655615Z [22m[39mWarning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:43.3656235Z 
2025-11-06T18:07:43.3656825Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:43.3657386Z 
2025-11-06T18:07:43.3657539Z act(() => {
2025-11-06T18:07:43.3657956Z   /* fire events that update state */
2025-11-06T18:07:43.3658397Z });
2025-11-06T18:07:43.3658752Z /* assert on the output */
2025-11-06T18:07:43.3659012Z 
2025-11-06T18:07:43.3660194Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:43.3661810Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:43.3663188Z Warning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:43.3663768Z 
2025-11-06T18:07:43.3664328Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:43.3664880Z 
2025-11-06T18:07:43.3665019Z act(() => {
2025-11-06T18:07:43.3665427Z   /* fire events that update state */
2025-11-06T18:07:43.3665869Z });
2025-11-06T18:07:43.3666219Z /* assert on the output */
2025-11-06T18:07:43.3666488Z 
2025-11-06T18:07:43.3667449Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:43.3669060Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:43.3670013Z 
2025-11-06T18:07:43.3824531Z [90mstderr[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mRendu initial[2m > [22m[2maffiche le formulaire de requ√™te
2025-11-06T18:07:43.3854825Z [22m[39mWarning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:43.3855731Z 
2025-11-06T18:07:43.3856354Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:43.3856952Z 
2025-11-06T18:07:43.3857183Z act(() => {
2025-11-06T18:07:43.3857666Z   /* fire events that update state */
2025-11-06T18:07:43.3858160Z });
2025-11-06T18:07:43.3858570Z /* assert on the output */
2025-11-06T18:07:43.3858908Z 
2025-11-06T18:07:43.3860058Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:43.3881191Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:43.3882931Z Warning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:43.3883597Z 
2025-11-06T18:07:43.3884216Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:43.3885434Z 
2025-11-06T18:07:43.3885742Z act(() => {
2025-11-06T18:07:43.3886256Z   /* fire events that update state */
2025-11-06T18:07:43.3886780Z });
2025-11-06T18:07:43.3887207Z /* assert on the output */
2025-11-06T18:07:43.3887548Z 
2025-11-06T18:07:43.3888576Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:43.3890424Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:43.3891304Z 
2025-11-06T18:07:43.4031131Z [90mstderr[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mRendu initial[2m > [22m[2maffiche les quick queries
2025-11-06T18:07:43.4035863Z [22m[39mWarning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:43.4036470Z 
2025-11-06T18:07:43.4037016Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:43.4037561Z 
2025-11-06T18:07:43.4037698Z act(() => {
2025-11-06T18:07:43.4038095Z   /* fire events that update state */
2025-11-06T18:07:43.4038521Z });
2025-11-06T18:07:43.4038855Z /* assert on the output */
2025-11-06T18:07:43.4039105Z 
2025-11-06T18:07:43.4040290Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:43.4041831Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:43.4043153Z Warning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:43.4043718Z 
2025-11-06T18:07:43.4044263Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:43.4044838Z 
2025-11-06T18:07:43.4044970Z act(() => {
2025-11-06T18:07:43.4045346Z   /* fire events that update state */
2025-11-06T18:07:43.4045755Z });
2025-11-06T18:07:43.4046086Z /* assert on the output */
2025-11-06T18:07:43.4046335Z 
2025-11-06T18:07:43.4047270Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:43.4048809Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:43.4049757Z 
2025-11-06T18:07:43.4296996Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mTri par favoris[2m > [22m[2mshould handle favorites without favorite_rank
2025-11-06T18:07:43.4300329Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mTri par favoris[2m > [22m[2mshould handle favorites without favorite_rank
2025-11-06T18:07:43.4302503Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:43.4304068Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:43.4305770Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:43.4307494Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:43.4308500Z     at new Promise (<anonymous>)
2025-11-06T18:07:43.4310439Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:43.4312630Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:43.4314612Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:43.4316626Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:43.4318611Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:43.4320832Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:43.4321722Z 
2025-11-06T18:07:43.4322223Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:43.4322836Z   count: [33m3[39m,
2025-11-06T18:07:43.4323370Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.4323840Z   conversations: [
2025-11-06T18:07:43.4324671Z     { id: [32m'conv1'[39m, title: [32m'Favori avec rang'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:43.4325792Z     { id: [32m'conv2'[39m, title: [32m'Favori sans rang'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:43.4326449Z     {
2025-11-06T18:07:43.4326842Z       id: [32m'conv3'[39m,
2025-11-06T18:07:43.4327437Z       title: [32m'Autre favori sans rang'[39m,
2025-11-06T18:07:43.4328040Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.4328471Z     }
2025-11-06T18:07:43.4328766Z   ]
2025-11-06T18:07:43.4329062Z }
2025-11-06T18:07:43.4329693Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:43.4330223Z   count: [33m3[39m,
2025-11-06T18:07:43.4330593Z   filters: {},
2025-11-06T18:07:43.4331071Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.4331537Z   conversations: [
2025-11-06T18:07:43.4331888Z     {
2025-11-06T18:07:43.4332271Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.4332816Z       title: [32m'Favori avec rang'[39m,
2025-11-06T18:07:43.4333384Z       status: [32m'active'[39m,
2025-11-06T18:07:43.4333912Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.4334323Z     },
2025-11-06T18:07:43.4334611Z     {
2025-11-06T18:07:43.4334993Z       id: [32m'conv2'[39m,
2025-11-06T18:07:43.4335548Z       title: [32m'Favori sans rang'[39m,
2025-11-06T18:07:43.4336114Z       status: [32m'active'[39m,
2025-11-06T18:07:43.4336659Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.4336993Z     },
2025-11-06T18:07:43.4337226Z     {
2025-11-06T18:07:43.4337521Z       id: [32m'conv3'[39m,
2025-11-06T18:07:43.4337972Z       title: [32m'Autre favori sans rang'[39m,
2025-11-06T18:07:43.4338456Z       status: [32m'active'[39m,
2025-11-06T18:07:43.4338879Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.4339208Z     }
2025-11-06T18:07:43.4339598Z   ]
2025-11-06T18:07:43.4339837Z }
2025-11-06T18:07:43.4340220Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:43.4340616Z   totalCount: [33m3[39m,
2025-11-06T18:07:43.4340988Z   pageParam: [33m0[39m,
2025-11-06T18:07:43.4341355Z   pageSize: [33m20[39m,
2025-11-06T18:07:43.4341709Z   start: [33m0[39m,
2025-11-06T18:07:43.4342041Z   end: [33m20[39m,
2025-11-06T18:07:43.4342415Z   paginatedCount: [33m3[39m,
2025-11-06T18:07:43.4342804Z   hasMore: [33mfalse[39m
2025-11-06T18:07:43.4343102Z }
2025-11-06T18:07:43.4343236Z 
2025-11-06T18:07:43.4421703Z [90mstderr[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mRendu initial[2m > [22m[2maffiche l'indicateur de quota
2025-11-06T18:07:43.4423714Z [22m[39mWarning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:43.4424878Z 
2025-11-06T18:07:43.4425558Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:43.4426808Z 
2025-11-06T18:07:43.4427056Z act(() => {
2025-11-06T18:07:43.4427567Z   /* fire events that update state */
2025-11-06T18:07:43.4428091Z });
2025-11-06T18:07:43.4428530Z /* assert on the output */
2025-11-06T18:07:43.4428886Z 
2025-11-06T18:07:43.4430123Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:43.4431830Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:43.4433292Z Warning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:43.4433959Z 
2025-11-06T18:07:43.4434598Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:43.4435243Z 
2025-11-06T18:07:43.4435463Z act(() => {
2025-11-06T18:07:43.4435952Z   /* fire events that update state */
2025-11-06T18:07:43.4436484Z });
2025-11-06T18:07:43.4436934Z /* assert on the output */
2025-11-06T18:07:43.4437265Z 
2025-11-06T18:07:43.4438181Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:43.4439812Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:43.4440664Z 
2025-11-06T18:07:43.5324998Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mTri par activit√© pour non-favoris[2m > [22m[2mshould sort non-favorites by activity (updatedAt + messageCount)
2025-11-06T18:07:43.5329034Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mTri par activit√© pour non-favoris[2m > [22m[2mshould sort non-favorites by activity (updatedAt + messageCount)
2025-11-06T18:07:43.5332961Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:43.5334111Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:43.5334919Z   count: [33m3[39m,
2025-11-06T18:07:43.5335444Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.5335890Z   conversations: [
2025-11-06T18:07:43.5336226Z     {
2025-11-06T18:07:43.5336592Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.5337199Z       title: [32m'Ancienne avec peu de messages'[39m,
2025-11-06T18:07:43.5337807Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.5338214Z     },
2025-11-06T18:07:43.5338495Z     {
2025-11-06T18:07:43.5338849Z       id: [32m'conv2'[39m,
2025-11-06T18:07:43.5339629Z       title: [32m'R√©cente avec peu de messages'[39m,
2025-11-06T18:07:43.5340249Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.5340638Z     },
2025-11-06T18:07:43.5340916Z     {
2025-11-06T18:07:43.5341282Z       id: [32m'conv3'[39m,
2025-11-06T18:07:43.5341900Z       title: [32m'Ancienne avec beaucoup de messages'[39m,
2025-11-06T18:07:43.5342536Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.5342930Z     }
2025-11-06T18:07:43.5343208Z   ]
2025-11-06T18:07:43.5343485Z }
2025-11-06T18:07:43.5343955Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:43.5344432Z   count: [33m3[39m,
2025-11-06T18:07:43.5344781Z   filters: {},
2025-11-06T18:07:43.5345821Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:43.5347459Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:43.5349203Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:43.5350395Z     at new Promise (<anonymous>)
2025-11-06T18:07:43.5352187Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:43.5354631Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:43.5356729Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:43.5358863Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:43.5361132Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:43.5363154Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:43.5364433Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.5364933Z   conversations: [
2025-11-06T18:07:43.5365320Z     {
2025-11-06T18:07:43.5365741Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.5366416Z       title: [32m'Ancienne avec peu de messages'[39m,
2025-11-06T18:07:43.5367089Z       status: [32m'active'[39m,
2025-11-06T18:07:43.5367685Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.5368136Z     },
2025-11-06T18:07:43.5368450Z     {
2025-11-06T18:07:43.5368856Z       id: [32m'conv2'[39m,
2025-11-06T18:07:43.5369706Z       title: [32m'R√©cente avec peu de messages'[39m,
2025-11-06T18:07:43.5370393Z       status: [32m'active'[39m,
2025-11-06T18:07:43.5370977Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.5371414Z     },
2025-11-06T18:07:43.5371720Z     {
2025-11-06T18:07:43.5372133Z       id: [32m'conv3'[39m,
2025-11-06T18:07:43.5372822Z       title: [32m'Ancienne avec beaucoup de messages'[39m,
2025-11-06T18:07:43.5373520Z       status: [32m'active'[39m,
2025-11-06T18:07:43.5374091Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.5377886Z     }
2025-11-06T18:07:43.5378216Z   ]
2025-11-06T18:07:43.5378499Z }
2025-11-06T18:07:43.5379016Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:43.5379741Z   totalCount: [33m3[39m,
2025-11-06T18:07:43.5380204Z   pageParam: [33m0[39m,
2025-11-06T18:07:43.5380661Z   pageSize: [33m20[39m,
2025-11-06T18:07:43.5381101Z   start: [33m0[39m,
2025-11-06T18:07:43.5381512Z   end: [33m20[39m,
2025-11-06T18:07:43.5381987Z   paginatedCount: [33m3[39m,
2025-11-06T18:07:43.5382462Z   hasMore: [33mfalse[39m
2025-11-06T18:07:43.5382827Z }
2025-11-06T18:07:43.5382997Z 
2025-11-06T18:07:43.5383020Z 
2025-11-06T18:07:43.6423440Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould automatically assign favorite_rank when marking as favorite
2025-11-06T18:07:43.6438414Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould automatically assign favorite_rank when marking as favorite
2025-11-06T18:07:43.6441161Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:43.6442845Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:43.6444653Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:43.6446479Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:43.6447543Z     at new Promise (<anonymous>)
2025-11-06T18:07:43.6449065Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:43.6452136Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:43.6454475Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:43.6456474Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:43.6458289Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:43.6460222Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:43.6461086Z 
2025-11-06T18:07:43.6461654Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:43.6462240Z   count: [33m2[39m,
2025-11-06T18:07:43.6462742Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.6463213Z   conversations: [
2025-11-06T18:07:43.6463973Z     { id: [32m'conv1'[39m, title: [32m'Favori existant'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:43.6465022Z     { id: [32m'conv2'[39m, title: [32m'√Ä marquer favori'[39m, userId: [32m'test-user'[39m }
2025-11-06T18:07:43.6465619Z   ]
2025-11-06T18:07:43.6465887Z }
2025-11-06T18:07:43.6466370Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:43.6466863Z   count: [33m2[39m,
2025-11-06T18:07:43.6467199Z   filters: {},
2025-11-06T18:07:43.6467659Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.6468130Z   conversations: [
2025-11-06T18:07:43.6468466Z     {
2025-11-06T18:07:43.6468845Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.6469538Z       title: [32m'Favori existant'[39m,
2025-11-06T18:07:43.6470108Z       status: [32m'active'[39m,
2025-11-06T18:07:43.6470617Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.6471011Z     },
2025-11-06T18:07:43.6471310Z     {
2025-11-06T18:07:43.6471710Z       id: [32m'conv2'[39m,
2025-11-06T18:07:43.6472656Z       title: [32m'√Ä marquer favori'[39m,
2025-11-06T18:07:43.6473257Z       status: [32m'active'[39m,
2025-11-06T18:07:43.6473796Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.6474227Z     }
2025-11-06T18:07:43.6474499Z   ]
2025-11-06T18:07:43.6474795Z }
2025-11-06T18:07:43.6475301Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:43.6475792Z   totalCount: [33m2[39m,
2025-11-06T18:07:43.6476251Z   pageParam: [33m0[39m,
2025-11-06T18:07:43.6476723Z   pageSize: [33m20[39m,
2025-11-06T18:07:43.6477159Z   start: [33m0[39m,
2025-11-06T18:07:43.6477576Z   end: [33m20[39m,
2025-11-06T18:07:43.6478073Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:43.6478550Z   hasMore: [33mfalse[39m
2025-11-06T18:07:43.6478928Z }
2025-11-06T18:07:43.6479085Z 
2025-11-06T18:07:43.7468398Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould automatically assign favorite_rank when marking as favorite
2025-11-06T18:07:43.7471596Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:43.7473355Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:43.7475425Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:43.7477475Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:43.7478786Z     at new Promise (<anonymous>)
2025-11-06T18:07:43.7480702Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:43.7483498Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:43.7486893Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:43.7489246Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:43.7491761Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:43.7493861Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:43.7494912Z 
2025-11-06T18:07:43.7542360Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould automatically assign favorite_rank when marking as favorite
2025-11-06T18:07:43.7592499Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:43.7593167Z   count: [33m2[39m,
2025-11-06T18:07:43.7593761Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.7594281Z   conversations: [
2025-11-06T18:07:43.7595159Z     { id: [32m'conv1'[39m, title: [32m'Favori existant'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:43.7596347Z     { id: [32m'conv2'[39m, title: [32m'√Ä marquer favori'[39m, userId: [32m'test-user'[39m }
2025-11-06T18:07:43.7597022Z   ]
2025-11-06T18:07:43.7597339Z }
2025-11-06T18:07:43.7597904Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:43.7604208Z   count: [33m2[39m,
2025-11-06T18:07:43.7604606Z   filters: {},
2025-11-06T18:07:43.7605121Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.7605603Z   conversations: [
2025-11-06T18:07:43.7605946Z     {
2025-11-06T18:07:43.7606380Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.7606965Z       title: [32m'Favori existant'[39m,
2025-11-06T18:07:43.7607597Z       status: [32m'active'[39m,
2025-11-06T18:07:43.7608163Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.7608610Z     },
2025-11-06T18:07:43.7608918Z     {
2025-11-06T18:07:43.7609536Z       id: [32m'conv2'[39m,
2025-11-06T18:07:43.7610171Z       title: [32m'√Ä marquer favori'[39m,
2025-11-06T18:07:43.7610815Z       status: [32m'active'[39m,
2025-11-06T18:07:43.7611383Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.7611829Z     }
2025-11-06T18:07:43.7612129Z   ]
2025-11-06T18:07:43.7612412Z }
2025-11-06T18:07:43.7612907Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:43.7613418Z   totalCount: [33m2[39m,
2025-11-06T18:07:43.7613893Z   pageParam: [33m0[39m,
2025-11-06T18:07:43.7614351Z   pageSize: [33m20[39m,
2025-11-06T18:07:43.7614803Z   start: [33m0[39m,
2025-11-06T18:07:43.7615244Z   end: [33m20[39m,
2025-11-06T18:07:43.7615785Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:43.7616324Z   hasMore: [33mfalse[39m
2025-11-06T18:07:43.7616708Z }
2025-11-06T18:07:43.7616885Z 
2025-11-06T18:07:43.7637524Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould remove favorite_rank when unmarking as favorite
2025-11-06T18:07:43.7639629Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:43.7640246Z   count: [33m1[39m,
2025-11-06T18:07:43.7640781Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.7641819Z   conversations: [ { id: [32m'conv1'[39m, title: [32m'Favori √† retirer'[39m, userId: [32m'test-user'[39m } ]
2025-11-06T18:07:43.7642544Z }
2025-11-06T18:07:43.7643046Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:43.7643620Z   count: [33m1[39m,
2025-11-06T18:07:43.7643995Z   filters: {},
2025-11-06T18:07:43.7644481Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.7645311Z   conversations: [
2025-11-06T18:07:43.7645912Z     {
2025-11-06T18:07:43.7646348Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.7646960Z       title: [32m'Favori √† retirer'[39m,
2025-11-06T18:07:43.7647694Z       status: [32m'active'[39m,
2025-11-06T18:07:43.7648289Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.7648720Z     }
2025-11-06T18:07:43.7649027Z   ]
2025-11-06T18:07:43.7649533Z }
2025-11-06T18:07:43.7650057Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:43.7650602Z   totalCount: [33m1[39m,
2025-11-06T18:07:43.7651092Z   pageParam: [33m0[39m,
2025-11-06T18:07:43.7651572Z   pageSize: [33m20[39m,
2025-11-06T18:07:43.7652044Z   start: [33m0[39m,
2025-11-06T18:07:43.7652490Z   end: [33m20[39m,
2025-11-06T18:07:43.7653016Z   paginatedCount: [33m1[39m,
2025-11-06T18:07:43.7653565Z   hasMore: [33mfalse[39m
2025-11-06T18:07:43.7653976Z }
2025-11-06T18:07:43.7654927Z 
2025-11-06T18:07:43.7660364Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould remove favorite_rank when unmarking as favorite
2025-11-06T18:07:43.7664038Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:43.7665853Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:43.7667794Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:43.7670056Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:43.7671268Z     at new Promise (<anonymous>)
2025-11-06T18:07:43.7672927Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:43.7675247Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:43.7677521Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:43.7679995Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:43.7682598Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:43.7772707Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:43.7775681Z 
2025-11-06T18:07:43.8355400Z [90mstdout[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mSoumission de requ√™te[2m > [22m[2msoumet une requ√™te et affiche la r√©ponse
2025-11-06T18:07:43.8358106Z [22m[39mQuota incr√©ment√©, peut continuer: [33mtrue[39m Quota actuel: {
2025-11-06T18:07:43.8359901Z   used: [33m0[39m,
2025-11-06T18:07:43.8360623Z   limit: [33m5[39m,
2025-11-06T18:07:43.8361230Z   remaining: [33m5[39m,
2025-11-06T18:07:43.8361973Z   resetAt: [35m2025-11-07T18:07:43.253Z[39m,
2025-11-06T18:07:43.8365542Z   canQuery: [33mtrue[39m
2025-11-06T18:07:43.8368135Z }
2025-11-06T18:07:43.8370603Z 
2025-11-06T18:07:43.8671055Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould remove favorite_rank when unmarking as favorite
2025-11-06T18:07:43.8673336Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:43.8675333Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:43.8677365Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:43.8679113Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:43.8680309Z     at new Promise (<anonymous>)
2025-11-06T18:07:43.8681590Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:43.8731883Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:43.8733924Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:43.8736029Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:43.8738004Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:43.8751431Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:43.8752205Z 
2025-11-06T18:07:43.8753975Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould remove favorite_rank when unmarking as favorite
2025-11-06T18:07:43.8755594Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:43.8756121Z   count: [33m1[39m,
2025-11-06T18:07:43.8756595Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.8757592Z   conversations: [ { id: [32m'conv1'[39m, title: [32m'Favori √† retirer'[39m, userId: [32m'test-user'[39m } ]
2025-11-06T18:07:43.8758297Z }
2025-11-06T18:07:43.8758752Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:43.8759223Z   count: [33m1[39m,
2025-11-06T18:07:43.8759754Z   filters: {},
2025-11-06T18:07:43.8760271Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.8760698Z   conversations: [
2025-11-06T18:07:43.8761012Z     {
2025-11-06T18:07:43.8761364Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.8761856Z       title: [32m'Favori √† retirer'[39m,
2025-11-06T18:07:43.8762361Z       status: [32m'active'[39m,
2025-11-06T18:07:43.8762826Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.8763229Z     }
2025-11-06T18:07:43.8763513Z   ]
2025-11-06T18:07:43.8763785Z }
2025-11-06T18:07:43.8764281Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:43.8764826Z   totalCount: [33m1[39m,
2025-11-06T18:07:43.8765338Z   pageParam: [33m0[39m,
2025-11-06T18:07:43.8765848Z   pageSize: [33m20[39m,
2025-11-06T18:07:43.8766368Z   start: [33m0[39m,
2025-11-06T18:07:43.8766826Z   end: [33m20[39m,
2025-11-06T18:07:43.8767305Z   paginatedCount: [33m1[39m,
2025-11-06T18:07:43.8767815Z   hasMore: [33mfalse[39m
2025-11-06T18:07:43.8768182Z }
2025-11-06T18:07:43.8768359Z 
2025-11-06T18:07:43.8812240Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould allow manual reordering of favorites
2025-11-06T18:07:43.8815370Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould allow manual reordering of favorites
2025-11-06T18:07:43.8818063Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:43.8819163Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:43.8821388Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:43.8822384Z   count: [33m2[39m,
2025-11-06T18:07:43.8825544Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:43.8827340Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:43.8828374Z     at new Promise (<anonymous>)
2025-11-06T18:07:43.8830100Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:43.8832148Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:43.8834216Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:43.8836324Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:43.8838348Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:43.8840659Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:43.8841587Z 
2025-11-06T18:07:43.8841968Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.8842470Z   conversations: [
2025-11-06T18:07:43.8843274Z     { id: [32m'conv1'[39m, title: [32m'Favori 1'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:43.8844389Z     { id: [32m'conv2'[39m, title: [32m'Favori 2'[39m, userId: [32m'test-user'[39m }
2025-11-06T18:07:43.8845027Z   ]
2025-11-06T18:07:43.8845337Z }
2025-11-06T18:07:43.8845864Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:43.8846422Z   count: [33m2[39m,
2025-11-06T18:07:43.8846817Z   filters: {},
2025-11-06T18:07:43.8847346Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.8847901Z   conversations: [
2025-11-06T18:07:43.8848232Z     {
2025-11-06T18:07:43.8848621Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.8849168Z       title: [32m'Favori 1'[39m,
2025-11-06T18:07:43.8849988Z       status: [32m'active'[39m,
2025-11-06T18:07:43.8850581Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.8851027Z     },
2025-11-06T18:07:43.8851337Z     {
2025-11-06T18:07:43.8851737Z       id: [32m'conv2'[39m,
2025-11-06T18:07:43.8852268Z       title: [32m'Favori 2'[39m,
2025-11-06T18:07:43.8852805Z       status: [32m'active'[39m,
2025-11-06T18:07:43.8853292Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.8853662Z     }
2025-11-06T18:07:43.8853921Z   ]
2025-11-06T18:07:43.8854183Z }
2025-11-06T18:07:43.8854654Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:43.8855132Z   totalCount: [33m2[39m,
2025-11-06T18:07:43.8855595Z   pageParam: [33m0[39m,
2025-11-06T18:07:43.8856042Z   pageSize: [33m20[39m,
2025-11-06T18:07:43.8856455Z   start: [33m0[39m,
2025-11-06T18:07:43.8856841Z   end: [33m20[39m,
2025-11-06T18:07:43.8857297Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:43.8857772Z   hasMore: [33mfalse[39m
2025-11-06T18:07:43.8858139Z }
2025-11-06T18:07:43.8858295Z 
2025-11-06T18:07:43.9691658Z [90mstdout[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mSoumission de requ√™te[2m > [22m[2mn'incr√©mente pas le quota si r√©ponse du cache
2025-11-06T18:07:43.9697644Z [22m[39mR√©ponse du cache - quota NON incr√©ment√©
2025-11-06T18:07:43.9702127Z 
2025-11-06T18:07:43.9822574Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould allow manual reordering of favorites
2025-11-06T18:07:43.9826658Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mR√©ordonnancement des favoris[2m > [22m[2mshould allow manual reordering of favorites
2025-11-06T18:07:43.9829257Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:43.9831480Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:43.9833431Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:43.9835441Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:43.9836721Z     at new Promise (<anonymous>)
2025-11-06T18:07:43.9838412Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:43.9840916Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:43.9843056Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:43.9845393Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:43.9847658Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:43.9850024Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:43.9851256Z 
2025-11-06T18:07:43.9852942Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:43.9853680Z   count: [33m2[39m,
2025-11-06T18:07:43.9854290Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.9854824Z   conversations: [
2025-11-06T18:07:43.9855697Z     { id: [32m'conv1'[39m, title: [32m'Favori 1'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:43.9856859Z     { id: [32m'conv2'[39m, title: [32m'Favori 2'[39m, userId: [32m'test-user'[39m }
2025-11-06T18:07:43.9857531Z   ]
2025-11-06T18:07:43.9857852Z }
2025-11-06T18:07:43.9858418Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:43.9859026Z   count: [33m2[39m,
2025-11-06T18:07:43.9859638Z   filters: {},
2025-11-06T18:07:43.9860214Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:43.9860724Z   conversations: [
2025-11-06T18:07:43.9861088Z     {
2025-11-06T18:07:43.9861551Z       id: [32m'conv1'[39m,
2025-11-06T18:07:43.9862159Z       title: [32m'Favori 1'[39m,
2025-11-06T18:07:43.9862843Z       status: [32m'active'[39m,
2025-11-06T18:07:43.9863482Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.9863946Z     },
2025-11-06T18:07:43.9864267Z     {
2025-11-06T18:07:43.9864725Z       id: [32m'conv2'[39m,
2025-11-06T18:07:43.9865306Z       title: [32m'Favori 2'[39m,
2025-11-06T18:07:43.9865884Z       status: [32m'active'[39m,
2025-11-06T18:07:43.9866492Z       userId: [32m'test-user'[39m
2025-11-06T18:07:43.9866931Z     }
2025-11-06T18:07:43.9867252Z   ]
2025-11-06T18:07:43.9867551Z }
2025-11-06T18:07:43.9868095Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:43.9868655Z   totalCount: [33m2[39m,
2025-11-06T18:07:43.9869163Z   pageParam: [33m0[39m,
2025-11-06T18:07:43.9869909Z   pageSize: [33m20[39m,
2025-11-06T18:07:43.9870388Z   start: [33m0[39m,
2025-11-06T18:07:43.9870845Z   end: [33m20[39m,
2025-11-06T18:07:43.9871364Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:43.9871928Z   hasMore: [33mfalse[39m
2025-11-06T18:07:43.9872336Z }
2025-11-06T18:07:43.9872817Z 
2025-11-06T18:07:44.0013199Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mConfiguration du tri[2m > [22m[2mshould respect sortBy configuration for non-favorites
2025-11-06T18:07:44.0016585Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mConfiguration du tri[2m > [22m[2mshould respect sortBy configuration for non-favorites
2025-11-06T18:07:44.0019137Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:44.0020876Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:44.0022571Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:44.0024333Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:44.0025388Z     at new Promise (<anonymous>)
2025-11-06T18:07:44.0026864Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:44.0028859Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:44.0031006Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:44.0033037Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:44.0034995Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:44.0036925Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:44.0037783Z 
2025-11-06T18:07:44.0038298Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:44.0038905Z   count: [33m3[39m,
2025-11-06T18:07:44.0059092Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:44.0059830Z   conversations: [
2025-11-06T18:07:44.0060700Z     { id: [32m'conv1'[39m, title: [32m'B - Titre'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:44.0061800Z     { id: [32m'conv2'[39m, title: [32m'A - Titre'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:44.0062886Z     { id: [32m'conv3'[39m, title: [32m'Favori'[39m, userId: [32m'test-user'[39m }
2025-11-06T18:07:44.0063523Z   ]
2025-11-06T18:07:44.0063793Z }
2025-11-06T18:07:44.0064284Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:44.0064761Z   count: [33m3[39m,
2025-11-06T18:07:44.0065129Z   filters: {},
2025-11-06T18:07:44.0065617Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:44.0066049Z   conversations: [
2025-11-06T18:07:44.0066391Z     {
2025-11-06T18:07:44.0066812Z       id: [32m'conv1'[39m,
2025-11-06T18:07:44.0067360Z       title: [32m'B - Titre'[39m,
2025-11-06T18:07:44.0067925Z       status: [32m'active'[39m,
2025-11-06T18:07:44.0068516Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.0068959Z     },
2025-11-06T18:07:44.0069451Z     {
2025-11-06T18:07:44.0069916Z       id: [32m'conv2'[39m,
2025-11-06T18:07:44.0070473Z       title: [32m'A - Titre'[39m,
2025-11-06T18:07:44.0071066Z       status: [32m'active'[39m,
2025-11-06T18:07:44.0071648Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.0072088Z     },
2025-11-06T18:07:44.0072387Z     {
2025-11-06T18:07:44.0072807Z       id: [32m'conv3'[39m,
2025-11-06T18:07:44.0073353Z       title: [32m'Favori'[39m,
2025-11-06T18:07:44.0073912Z       status: [32m'active'[39m,
2025-11-06T18:07:44.0079955Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.0082414Z     }
2025-11-06T18:07:44.0083672Z   ]
2025-11-06T18:07:44.0084030Z }
2025-11-06T18:07:44.0086988Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:44.0089077Z   totalCount: [33m3[39m,
2025-11-06T18:07:44.0090294Z   pageParam: [33m0[39m,
2025-11-06T18:07:44.0090837Z   pageSize: [33m20[39m,
2025-11-06T18:07:44.0091279Z   start: [33m0[39m,
2025-11-06T18:07:44.0091713Z   end: [33m20[39m,
2025-11-06T18:07:44.0092244Z   paginatedCount: [33m3[39m,
2025-11-06T18:07:44.0092783Z   hasMore: [33mfalse[39m
2025-11-06T18:07:44.0093186Z }
2025-11-06T18:07:44.0093363Z 
2025-11-06T18:07:44.0650849Z [90mstdout[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mSoumission de requ√™te[2m > [22m[2mincr√©mente le quota si r√©ponse non-cach√©e
2025-11-06T18:07:44.0655617Z [22m[39mQuota incr√©ment√©, peut continuer: [33mtrue[39m Quota actuel: {
2025-11-06T18:07:44.0656363Z   used: [33m0[39m,
2025-11-06T18:07:44.0656835Z   limit: [33m5[39m,
2025-11-06T18:07:44.0657290Z   remaining: [33m5[39m,
2025-11-06T18:07:44.0657898Z   resetAt: [35m2025-11-07T18:07:43.253Z[39m,
2025-11-06T18:07:44.0658459Z   canQuery: [33mtrue[39m
2025-11-06T18:07:44.0658848Z }
2025-11-06T18:07:44.0659075Z 
2025-11-06T18:07:44.1017927Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mConfiguration du tri[2m > [22m[2mshould use activity sorting when sortBy is updatedAt
2025-11-06T18:07:44.1020431Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:44.1021974Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:44.1023630Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:44.1025330Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:44.1026311Z     at new Promise (<anonymous>)
2025-11-06T18:07:44.1027688Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:44.1029844Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:44.1031824Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:44.1033736Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:44.1035301Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:44.1037035Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:44.1037859Z 
2025-11-06T18:07:44.1039768Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mConfiguration du tri[2m > [22m[2mshould use activity sorting when sortBy is updatedAt
2025-11-06T18:07:44.1041367Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:44.1041894Z   count: [33m2[39m,
2025-11-06T18:07:44.1042360Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:44.1042788Z   conversations: [
2025-11-06T18:07:44.1043489Z     { id: [32m'conv1'[39m, title: [32m'Ancienne'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:44.1044419Z     { id: [32m'conv2'[39m, title: [32m'R√©cente'[39m, userId: [32m'test-user'[39m }
2025-11-06T18:07:44.1045548Z   ]
2025-11-06T18:07:44.1045825Z }
2025-11-06T18:07:44.1046302Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:44.1046752Z   count: [33m2[39m,
2025-11-06T18:07:44.1047051Z   filters: {},
2025-11-06T18:07:44.1047450Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:44.1047845Z   conversations: [
2025-11-06T18:07:44.1048154Z     {
2025-11-06T18:07:44.1048483Z       id: [32m'conv1'[39m,
2025-11-06T18:07:44.1048939Z       title: [32m'Ancienne'[39m,
2025-11-06T18:07:44.1049606Z       status: [32m'active'[39m,
2025-11-06T18:07:44.1050085Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.1050459Z     },
2025-11-06T18:07:44.1050726Z     {
2025-11-06T18:07:44.1051066Z       id: [32m'conv2'[39m,
2025-11-06T18:07:44.1051526Z       title: [32m'R√©cente'[39m,
2025-11-06T18:07:44.1052004Z       status: [32m'active'[39m,
2025-11-06T18:07:44.1052471Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.1052851Z     }
2025-11-06T18:07:44.1053109Z   ]
2025-11-06T18:07:44.1053369Z }
2025-11-06T18:07:44.1053789Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:44.1054232Z   totalCount: [33m2[39m,
2025-11-06T18:07:44.1054646Z   pageParam: [33m0[39m,
2025-11-06T18:07:44.1055054Z   pageSize: [33m20[39m,
2025-11-06T18:07:44.1055438Z   start: [33m0[39m,
2025-11-06T18:07:44.1055810Z   end: [33m20[39m,
2025-11-06T18:07:44.1056223Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:44.1056650Z   hasMore: [33mfalse[39m
2025-11-06T18:07:44.1056976Z }
2025-11-06T18:07:44.1057122Z 
2025-11-06T18:07:44.1150931Z  [32m‚úì[39m src/hooks/__tests__/useConversationSearch.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 18[2mms[22m[39m
2025-11-06T18:07:44.1866693Z [90mstderr[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mSoumission de requ√™te[2m > [22m[2mn'envoie pas de requ√™te si input vide
2025-11-06T18:07:44.1868875Z [22m[39mWarning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:44.1869801Z 
2025-11-06T18:07:44.1870381Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:44.1870966Z 
2025-11-06T18:07:44.1871115Z act(() => {
2025-11-06T18:07:44.1871542Z   /* fire events that update state */
2025-11-06T18:07:44.1872001Z });
2025-11-06T18:07:44.1872375Z /* assert on the output */
2025-11-06T18:07:44.1872641Z 
2025-11-06T18:07:44.1873635Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:44.1875305Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:44.1876742Z Warning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:44.1877326Z 
2025-11-06T18:07:44.1877939Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:44.1878523Z 
2025-11-06T18:07:44.1878699Z act(() => {
2025-11-06T18:07:44.1879152Z   /* fire events that update state */
2025-11-06T18:07:44.1879831Z });
2025-11-06T18:07:44.1880223Z /* assert on the output */
2025-11-06T18:07:44.1880525Z 
2025-11-06T18:07:44.1881690Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:44.1883395Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:44.1884239Z 
2025-11-06T18:07:44.1997613Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mV√©rifications de coh√©rence[2m > [22m[2mshould maintain favorites at top regardless of other sorting
2025-11-06T18:07:44.2003305Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:44.2003966Z   count: [33m2[39m,
2025-11-06T18:07:44.2004537Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:44.2005693Z   conversations: [
2025-11-06T18:07:44.2006090Z     {
2025-11-06T18:07:44.2006532Z       id: [32m'conv1'[39m,
2025-11-06T18:07:44.2007171Z       title: [32m'Z - Non favori r√©cent'[39m,
2025-11-06T18:07:44.2007829Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.2008276Z     },
2025-11-06T18:07:44.2009098Z     { id: [32m'conv2'[39m, title: [32m'A - Favori ancien'[39m, userId: [32m'test-user'[39m }
2025-11-06T18:07:44.2009985Z   ]
2025-11-06T18:07:44.2010298Z }
2025-11-06T18:07:44.2010837Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:44.2011415Z   count: [33m2[39m,
2025-11-06T18:07:44.2011810Z   filters: {},
2025-11-06T18:07:44.2012319Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:44.2012810Z   conversations: [
2025-11-06T18:07:44.2013179Z     {
2025-11-06T18:07:44.2013606Z       id: [32m'conv1'[39m,
2025-11-06T18:07:44.2014251Z       title: [32m'Z - Non favori r√©cent'[39m,
2025-11-06T18:07:44.2014917Z       status: [32m'active'[39m,
2025-11-06T18:07:44.2015523Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.2015950Z     },
2025-11-06T18:07:44.2016252Z     {
2025-11-06T18:07:44.2016658Z       id: [32m'conv2'[39m,
2025-11-06T18:07:44.2017246Z       title: [32m'A - Favori ancien'[39m,
2025-11-06T18:07:44.2017851Z       status: [32m'active'[39m,
2025-11-06T18:07:44.2018433Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.2018876Z     }
2025-11-06T18:07:44.2019187Z   ]
2025-11-06T18:07:44.2019703Z }
2025-11-06T18:07:44.2020207Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:44.2020760Z   totalCount: [33m2[39m,
2025-11-06T18:07:44.2021248Z   pageParam: [33m0[39m,
2025-11-06T18:07:44.2021718Z   pageSize: [33m20[39m,
2025-11-06T18:07:44.2022178Z   start: [33m0[39m,
2025-11-06T18:07:44.2022614Z   end: [33m20[39m,
2025-11-06T18:07:44.2023126Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:44.2023660Z   hasMore: [33mfalse[39m
2025-11-06T18:07:44.2024062Z }
2025-11-06T18:07:44.2029036Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mV√©rifications de coh√©rence[2m > [22m[2mshould maintain favorites at top regardless of other sorting
2025-11-06T18:07:44.2030701Z 
2025-11-06T18:07:44.2031691Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:44.2033340Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:44.2035147Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:44.2036878Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:44.2037898Z     at new Promise (<anonymous>)
2025-11-06T18:07:44.2039479Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:44.2041531Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:44.2043639Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:44.2045761Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:44.2047803Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:44.2050003Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:44.2050907Z 
2025-11-06T18:07:44.2806539Z [90mstdout[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mSoumission de requ√™te[2m > [22m[2md√©sactive le bouton pendant le chargement
2025-11-06T18:07:44.2814893Z [22m[39mQuota incr√©ment√©, peut continuer: [33mtrue[39m Quota actuel: {
2025-11-06T18:07:44.2815629Z   used: [33m0[39m,
2025-11-06T18:07:44.2816074Z   limit: [33m5[39m,
2025-11-06T18:07:44.2816519Z   remaining: [33m5[39m,
2025-11-06T18:07:44.2817137Z   resetAt: [35m2025-11-07T18:07:43.253Z[39m,
2025-11-06T18:07:44.2817703Z   canQuery: [33mtrue[39m
2025-11-06T18:07:44.2818093Z }
2025-11-06T18:07:44.2818260Z 
2025-11-06T18:07:44.3113899Z [90mstderr[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mV√©rifications de coh√©rence[2m > [22m[2mshould handle empty favorite_rank gracefully
2025-11-06T18:07:44.3117327Z [90mstdout[2m | src/hooks/__tests__/useConversations.favorites.test.ts[2m > [22m[2museConversations - Favorites Sorting[2m > [22m[2mV√©rifications de coh√©rence[2m > [22m[2mshould handle empty favorite_rank gracefully
2025-11-06T18:07:44.3130041Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:44.3131310Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:44.3133018Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.favorites.test.ts:75:7
2025-11-06T18:07:44.3134115Z   count: [33m3[39m,
2025-11-06T18:07:44.3135696Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:44.3136830Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:44.3138399Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:44.3139630Z   conversations: [
2025-11-06T18:07:44.3141695Z     at new Promise (<anonymous>)
2025-11-06T18:07:44.3142771Z     { id: [32m'conv1'[39m, title: [32m'Favori sans rang 1'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:44.3144060Z     { id: [32m'conv2'[39m, title: [32m'Favori sans rang 2'[39m, userId: [32m'test-user'[39m },
2025-11-06T18:07:44.3145207Z     { id: [32m'conv3'[39m, title: [32m'Favori avec rang'[39m, userId: [32m'test-user'[39m }
2025-11-06T18:07:44.3145858Z   ]
2025-11-06T18:07:44.3146166Z }
2025-11-06T18:07:44.3146679Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:44.3147217Z   count: [33m3[39m,
2025-11-06T18:07:44.3147597Z   filters: {},
2025-11-06T18:07:44.3148121Z   currentUserId: [32m'test-user'[39m,
2025-11-06T18:07:44.3148582Z   conversations: [
2025-11-06T18:07:44.3148912Z     {
2025-11-06T18:07:44.3149428Z       id: [32m'conv1'[39m,
2025-11-06T18:07:44.3149989Z       title: [32m'Favori sans rang 1'[39m,
2025-11-06T18:07:44.3150555Z       status: [32m'active'[39m,
2025-11-06T18:07:44.3151095Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.3151535Z     },
2025-11-06T18:07:44.3151842Z     {
2025-11-06T18:07:44.3152223Z       id: [32m'conv2'[39m,
2025-11-06T18:07:44.3152780Z       title: [32m'Favori sans rang 2'[39m,
2025-11-06T18:07:44.3153352Z       status: [32m'active'[39m,
2025-11-06T18:07:44.3153898Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.3154309Z     },
2025-11-06T18:07:44.3154595Z     {
2025-11-06T18:07:44.3154968Z       id: [32m'conv3'[39m,
2025-11-06T18:07:44.3155514Z       title: [32m'Favori avec rang'[39m,
2025-11-06T18:07:44.3156085Z       status: [32m'active'[39m,
2025-11-06T18:07:44.3156630Z       userId: [32m'test-user'[39m
2025-11-06T18:07:44.3157040Z     }
2025-11-06T18:07:44.3157327Z   ]
2025-11-06T18:07:44.3157607Z }
2025-11-06T18:07:44.3158068Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:44.3158573Z   totalCount: [33m3[39m,
2025-11-06T18:07:44.3159051Z   pageParam: [33m0[39m,
2025-11-06T18:07:44.3159699Z   pageSize: [33m20[39m,
2025-11-06T18:07:44.3160133Z   start: [33m0[39m,
2025-11-06T18:07:44.3161109Z   end: [33m20[39m,
2025-11-06T18:07:44.3161593Z   paginatedCount: [33m3[39m,
2025-11-06T18:07:44.3162072Z   hasMore: [33mfalse[39m
2025-11-06T18:07:44.3162444Z }
2025-11-06T18:07:44.3162604Z 
2025-11-06T18:07:44.3165391Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:44.3167401Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:44.3169772Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:44.3171885Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:44.3173933Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:44.3175930Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:44.3176915Z 
2025-11-06T18:07:44.3732616Z [90mstderr[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mGestion des quotas[2m > [22m[2maffiche l'indicateur de quota √©puis√©
2025-11-06T18:07:44.3735113Z [22m[39mWarning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:44.3735987Z 
2025-11-06T18:07:44.3736763Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:44.3737556Z 
2025-11-06T18:07:44.3737897Z act(() => {
2025-11-06T18:07:44.3738546Z   /* fire events that update state */
2025-11-06T18:07:44.3739231Z });
2025-11-06T18:07:44.3740016Z /* assert on the output */
2025-11-06T18:07:44.3740533Z 
2025-11-06T18:07:44.3741731Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:44.3743587Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:44.3745256Z Warning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:44.3746072Z 
2025-11-06T18:07:44.3746830Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:44.3747618Z 
2025-11-06T18:07:44.3747944Z act(() => {
2025-11-06T18:07:44.3748562Z   /* fire events that update state */
2025-11-06T18:07:44.3749223Z });
2025-11-06T18:07:44.3750018Z /* assert on the output */
2025-11-06T18:07:44.3750490Z 
2025-11-06T18:07:44.3751667Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:44.3753542Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:44.3754580Z 
2025-11-06T18:07:44.3944794Z [90mstderr[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mGestion des quotas[2m > [22m[2maffiche le nombre de requ√™tes utilis√©es
2025-11-06T18:07:44.3947806Z [22m[39mWarning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:44.3950472Z 
2025-11-06T18:07:44.3951110Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:44.3951682Z 
2025-11-06T18:07:44.3951840Z act(() => {
2025-11-06T18:07:44.3952258Z   /* fire events that update state */
2025-11-06T18:07:44.3952703Z });
2025-11-06T18:07:44.3953060Z /* assert on the output */
2025-11-06T18:07:44.3953324Z 
2025-11-06T18:07:44.3954693Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:44.3956596Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:44.3958014Z Warning: An update to PollAnalyticsPanel inside a test was not wrapped in act(...).
2025-11-06T18:07:44.3958604Z 
2025-11-06T18:07:44.3959162Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:07:44.3959939Z 
2025-11-06T18:07:44.3960097Z act(() => {
2025-11-06T18:07:44.3960525Z   /* fire events that update state */
2025-11-06T18:07:44.3960971Z });
2025-11-06T18:07:44.3961328Z /* assert on the output */
2025-11-06T18:07:44.3961602Z 
2025-11-06T18:07:44.3962550Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:07:44.3964137Z     at PollAnalyticsPanel (/home/runner/work/DooDates/DooDates/src/components/polls/PollAnalyticsPanel.tsx:24:31)
2025-11-06T18:07:44.3964962Z 
2025-11-06T18:07:44.4194991Z  [32m‚úì[39m src/hooks/__tests__/useConversations.favorites.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 1257[2mms[22m[39m
2025-11-06T18:07:44.5120726Z [90mstdout[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mQuick queries[2m > [22m[2msoumet automatiquement apr√®s quick query
2025-11-06T18:07:44.5123866Z [22m[39mQuota incr√©ment√©, peut continuer: [33mtrue[39m Quota actuel: {
2025-11-06T18:07:44.5124830Z   used: [33m0[39m,
2025-11-06T18:07:44.5125470Z   limit: [33m5[39m,
2025-11-06T18:07:44.5126070Z   remaining: [33m5[39m,
2025-11-06T18:07:44.5148127Z   resetAt: [35m2025-11-07T18:07:43.253Z[39m,
2025-11-06T18:07:44.5150683Z   canQuery: [33mtrue[39m
2025-11-06T18:07:44.5151157Z }
2025-11-06T18:07:44.5151336Z 
2025-11-06T18:07:44.6235688Z [90mstdout[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mAffichage de la r√©ponse[2m > [22m[2maffiche la r√©ponse avec confiance
2025-11-06T18:07:44.6237595Z [22m[39mQuota incr√©ment√©, peut continuer: [33mtrue[39m Quota actuel: {
2025-11-06T18:07:44.6238334Z   used: [33m0[39m,
2025-11-06T18:07:44.6238762Z   limit: [33m5[39m,
2025-11-06T18:07:44.6239221Z   remaining: [33m5[39m,
2025-11-06T18:07:44.6240041Z   resetAt: [35m2025-11-07T18:07:43.253Z[39m,
2025-11-06T18:07:44.6240590Z   canQuery: [33mtrue[39m
2025-11-06T18:07:44.6240962Z }
2025-11-06T18:07:44.6241144Z 
2025-11-06T18:07:44.7145090Z [90mstdout[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mAffichage de la r√©ponse[2m > [22m[2maffiche les insights additionnels s'ils existent
2025-11-06T18:07:44.7147159Z [22m[39mQuota incr√©ment√©, peut continuer: [33mtrue[39m Quota actuel: {
2025-11-06T18:07:44.7147888Z   used: [33m0[39m,
2025-11-06T18:07:44.7148339Z   limit: [33m5[39m,
2025-11-06T18:07:44.7148816Z   remaining: [33m5[39m,
2025-11-06T18:07:44.7149686Z   resetAt: [35m2025-11-07T18:07:43.253Z[39m,
2025-11-06T18:07:44.7150276Z   canQuery: [33mtrue[39m
2025-11-06T18:07:44.7150681Z }
2025-11-06T18:07:44.7150855Z 
2025-11-06T18:07:44.8192197Z [90mstdout[2m | src/components/polls/__tests__/PollAnalyticsPanel.test.tsx[2m > [22m[2mPollAnalyticsPanel[2m > [22m[2mAffichage de la r√©ponse[2m > [22m[2maffiche l'indicateur de cache si r√©ponse mise en cache
2025-11-06T18:07:44.8194272Z [22m[39mR√©ponse du cache - quota NON incr√©ment√©
2025-11-06T18:07:44.8194826Z 
2025-11-06T18:07:44.9960334Z  [32m‚úì[39m src/components/polls/__tests__/PollAnalyticsPanel.test.tsx [2m([22m[2m29 tests[22m[2m)[22m[33m 1733[2mms[22m[39m
2025-11-06T18:07:45.4512303Z  [32m‚úì[39m src/components/conversations/__tests__/ConversationCard.test.tsx [2m([22m[2m34 tests[22m[2m | [22m[33m4 skipped[39m[2m)[22m[33m 1771[2mms[22m[39m
2025-11-06T18:07:45.7668450Z  [32m‚úì[39m src/hooks/__tests__/useAiMessageQuota.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 225[2mms[22m[39m
2025-11-06T18:07:46.2721522Z  [32m‚úì[39m src/lib/services/__tests__/deleteCascade.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 23[2mms[22m[39m
2025-11-06T18:07:46.8682665Z [90mstderr[2m | src/services/__tests__/PollAnalyticsService.test.ts[2m > [22m[2mPollAnalyticsService[2m > [22m[2mqueryPoll[2m > [22m[2ml√®ve une erreur si Gemini n'est pas initialis√©
2025-11-06T18:07:46.8756502Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:46.8757248Z   message: [32m'Gemini model not initialized'[39m,
2025-11-06T18:07:46.8757951Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:46.8758795Z   stack: [32m'DooDatesError: Gemini model not initialized\n'[39m +
2025-11-06T18:07:46.8760317Z     [32m'    at Object.api (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:150:8)\n'[39m +
2025-11-06T18:07:46.8762156Z     [32m'    at PollAnalyticsService.queryPoll (/home/runner/work/DooDates/DooDates/src/services/PollAnalyticsService.ts:233:28)\n'[39m +
2025-11-06T18:07:46.8764081Z     [32m'    at /home/runner/work/DooDates/DooDates/src/services/__tests__/PollAnalyticsService.test.ts:259:38\n'[39m +
2025-11-06T18:07:46.8770038Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n'[39m +
2025-11-06T18:07:46.8771706Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n'[39m +
2025-11-06T18:07:46.8773347Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n'[39m +
2025-11-06T18:07:46.8774472Z     [32m'    at new Promise (<anonymous>)\n'[39m +
2025-11-06T18:07:46.8775909Z     [32m'    at runWithTimeout (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n'[39m +
2025-11-06T18:07:46.8777829Z     [32m'    at runTest (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n'[39m +
2025-11-06T18:07:46.8779828Z     [32m'    at runSuite (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)'[39m,
2025-11-06T18:07:46.8781036Z   timestamp: [32m'2025-11-06T18:07:46.860Z'[39m,
2025-11-06T18:07:46.8782058Z   context: { component: [32m'PollAnalyticsService'[39m, operation: [32m'queryPoll'[39m },
2025-11-06T18:07:46.8782905Z   severity: [32m'high'[39m,
2025-11-06T18:07:46.8783395Z   category: [32m'api'[39m,
2025-11-06T18:07:46.8784088Z   userMessage: [32m"Service d'analytics non disponible"[39m
2025-11-06T18:07:46.8784676Z }
2025-11-06T18:07:46.8784855Z 
2025-11-06T18:07:46.8786422Z [90mstderr[2m | src/services/__tests__/PollAnalyticsService.test.ts[2m > [22m[2mPollAnalyticsService[2m > [22m[2mqueryPoll[2m > [22m[2ml√®ve une erreur si le poll n'existe pas
2025-11-06T18:07:46.8787828Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:46.8788386Z   message: [32m'Poll not found'[39m,
2025-11-06T18:07:46.8788991Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:46.8810073Z   stack: [32m'DooDatesError: Poll not found\n'[39m +
2025-11-06T18:07:46.8811313Z     [32m'    at Object.validation (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:136:5)\n'[39m +
2025-11-06T18:07:46.8813105Z     [32m'    at PollAnalyticsService.queryPoll (/home/runner/work/DooDates/DooDates/src/services/PollAnalyticsService.ts:243:28)\n'[39m +
2025-11-06T18:07:46.8815050Z     [32m'    at /home/runner/work/DooDates/DooDates/src/services/__tests__/PollAnalyticsService.test.ts:270:7\n'[39m +
2025-11-06T18:07:46.8816827Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20'[39m,
2025-11-06T18:07:46.8818050Z   timestamp: [32m'2025-11-06T18:07:46.864Z'[39m,
2025-11-06T18:07:46.8819089Z   context: { component: [32m'PollAnalyticsService'[39m, operation: [32m'queryPoll'[39m },
2025-11-06T18:07:46.8820212Z   severity: [32m'medium'[39m,
2025-11-06T18:07:46.8821183Z   category: [32m'validation'[39m,
2025-11-06T18:07:46.8822145Z   userMessage: [32m'Sondage introuvable'[39m
2025-11-06T18:07:46.8822648Z }
2025-11-06T18:07:46.8822838Z 
2025-11-06T18:07:46.8824423Z [90mstderr[2m | src/services/__tests__/PollAnalyticsService.test.ts[2m > [22m[2mPollAnalyticsService[2m > [22m[2mqueryPoll[2m > [22m[2mg√®re les erreurs de Gemini gracieusement
2025-11-06T18:07:46.8825886Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:46.8826432Z   message: [32m'API Error'[39m,
2025-11-06T18:07:46.8826974Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:46.8827586Z   stack: [32m'DooDatesError: API Error\n'[39m +
2025-11-06T18:07:46.8828778Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:103:22)\n'[39m +
2025-11-06T18:07:46.8830813Z     [32m'    at PollAnalyticsService.queryPoll (/home/runner/work/DooDates/DooDates/src/services/PollAnalyticsService.ts:311:30)\n'[39m +
2025-11-06T18:07:46.8832694Z     [32m'    at /home/runner/work/DooDates/DooDates/src/services/__tests__/PollAnalyticsService.test.ts:281:7\n'[39m +
2025-11-06T18:07:46.8834410Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20'[39m,
2025-11-06T18:07:46.8889918Z   timestamp: [32m'2025-11-06T18:07:46.866Z'[39m,
2025-11-06T18:07:46.8891098Z   context: { component: [32m'PollAnalyticsService'[39m, operation: [32m'queryPoll'[39m },
2025-11-06T18:07:46.8892061Z   severity: [32m'medium'[39m,
2025-11-06T18:07:46.8892677Z   category: [32m'system'[39m,
2025-11-06T18:07:46.8893395Z   userMessage: [32m"Erreur lors de l'analyse du sondage"[39m
2025-11-06T18:07:46.8893969Z }
2025-11-06T18:07:46.8894136Z 
2025-11-06T18:07:46.8895973Z [90mstderr[2m | src/services/__tests__/PollAnalyticsService.test.ts[2m > [22m[2mPollAnalyticsService[2m > [22m[2mgenerateAutoInsights[2m > [22m[2mretourne un tableau vide si Gemini √©choue (non-bloquant)
2025-11-06T18:07:46.8897605Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:46.8898229Z   message: [32m'API Error'[39m,
2025-11-06T18:07:46.8898805Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:46.8899686Z   stack: [32m'DooDatesError: API Error\n'[39m +
2025-11-06T18:07:46.8900854Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:103:22)\n'[39m +
2025-11-06T18:07:46.8902740Z     [32m'    at PollAnalyticsService.generateAutoInsights (/home/runner/work/DooDates/DooDates/src/services/PollAnalyticsService.ts:404:29)\n'[39m +
2025-11-06T18:07:46.8904676Z     [32m'    at /home/runner/work/DooDates/DooDates/src/services/__tests__/PollAnalyticsService.test.ts:363:24\n'[39m +
2025-11-06T18:07:46.8906318Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20'[39m,
2025-11-06T18:07:46.8907401Z   timestamp: [32m'2025-11-06T18:07:46.873Z'[39m,
2025-11-06T18:07:46.8907880Z   context: {
2025-11-06T18:07:46.8908414Z     component: [32m'PollAnalyticsService'[39m,
2025-11-06T18:07:46.8909119Z     operation: [32m'generateAutoInsights'[39m
2025-11-06T18:07:46.8909796Z   },
2025-11-06T18:07:46.8910225Z   severity: [32m'medium'[39m,
2025-11-06T18:07:46.8910747Z   category: [32m'system'[39m,
2025-11-06T18:07:46.8911485Z   userMessage: [32m'Erreur lors de la g√©n√©ration des insights'[39m
2025-11-06T18:07:46.8912063Z }
2025-11-06T18:07:46.8912240Z 
2025-11-06T18:07:46.8914161Z [90mstderr[2m | src/services/__tests__/PollAnalyticsService.test.ts[2m > [22m[2mPollAnalyticsService[2m > [22m[2mgenerateAutoInsights[2m > [22m[2mretourne un tableau vide si Gemini n'est pas initialis√© (non-bloquant)
2025-11-06T18:07:46.8915951Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:46.8916584Z   message: [32m'Gemini model not initialized'[39m,
2025-11-06T18:07:46.8917219Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:46.8917967Z   stack: [32m'DooDatesError: Gemini model not initialized\n'[39m +
2025-11-06T18:07:46.8949912Z     [32m'    at Object.api (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:150:8)\n'[39m +
2025-11-06T18:07:46.8952258Z     [32m'    at PollAnalyticsService.generateAutoInsights (/home/runner/work/DooDates/DooDates/src/services/PollAnalyticsService.ts:336:28)\n'[39m +
2025-11-06T18:07:46.8954335Z     [32m'    at /home/runner/work/DooDates/DooDates/src/services/__tests__/PollAnalyticsService.test.ts:374:48\n'[39m +
2025-11-06T18:07:46.8956163Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n'[39m +
2025-11-06T18:07:46.8957957Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n'[39m +
2025-11-06T18:07:46.8959914Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n'[39m +
2025-11-06T18:07:46.8961127Z     [32m'    at new Promise (<anonymous>)\n'[39m +
2025-11-06T18:07:46.8962639Z     [32m'    at runWithTimeout (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n'[39m +
2025-11-06T18:07:46.8964660Z     [32m'    at runTest (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n'[39m +
2025-11-06T18:07:46.8966561Z     [32m'    at runSuite (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)'[39m,
2025-11-06T18:07:46.8967850Z   timestamp: [32m'2025-11-06T18:07:46.874Z'[39m,
2025-11-06T18:07:46.8968365Z   context: {
2025-11-06T18:07:46.8968981Z     component: [32m'PollAnalyticsService'[39m,
2025-11-06T18:07:46.8969965Z     operation: [32m'generateAutoInsights'[39m
2025-11-06T18:07:46.8970475Z   },
2025-11-06T18:07:46.8970959Z   severity: [32m'high'[39m,
2025-11-06T18:07:46.8971505Z   category: [32m'api'[39m,
2025-11-06T18:07:46.8972245Z   userMessage: [32m"Service d'analytics non disponible"[39m
2025-11-06T18:07:46.8972836Z }
2025-11-06T18:07:46.8973022Z 
2025-11-06T18:07:46.8974976Z [90mstderr[2m | src/services/__tests__/PollAnalyticsService.test.ts[2m > [22m[2mPollAnalyticsService[2m > [22m[2mgenerateAutoInsights[2m > [22m[2mretourne un tableau vide si le poll n'existe pas (non-bloquant)
2025-11-06T18:07:46.8976685Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:46.8977328Z   message: [32m'Poll not found'[39m,
2025-11-06T18:07:46.8977964Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:46.8978723Z   stack: [32m'DooDatesError: Poll not found\n'[39m +
2025-11-06T18:07:46.9010332Z     [32m'    at Object.validation (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:136:5)\n'[39m +
2025-11-06T18:07:46.9012456Z     [32m'    at PollAnalyticsService.generateAutoInsights (/home/runner/work/DooDates/DooDates/src/services/PollAnalyticsService.ts:345:28)\n'[39m +
2025-11-06T18:07:46.9014549Z     [32m'    at /home/runner/work/DooDates/DooDates/src/services/__tests__/PollAnalyticsService.test.ts:383:24\n'[39m +
2025-11-06T18:07:46.9016425Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20'[39m,
2025-11-06T18:07:46.9017647Z   timestamp: [32m'2025-11-06T18:07:46.876Z'[39m,
2025-11-06T18:07:46.9018185Z   context: {
2025-11-06T18:07:46.9018785Z     component: [32m'PollAnalyticsService'[39m,
2025-11-06T18:07:46.9019754Z     operation: [32m'generateAutoInsights'[39m
2025-11-06T18:07:46.9020247Z   },
2025-11-06T18:07:46.9020725Z   severity: [32m'medium'[39m,
2025-11-06T18:07:46.9021312Z   category: [32m'validation'[39m,
2025-11-06T18:07:46.9022004Z   userMessage: [32m'Sondage introuvable'[39m
2025-11-06T18:07:46.9022511Z }
2025-11-06T18:07:46.9022697Z 
2025-11-06T18:07:46.9023703Z  [32m‚úì[39m src/services/__tests__/PollAnalyticsService.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 74[2mms[22m[39m
2025-11-06T18:07:47.4157358Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mBasic Hook Functionality[2m > [22m[2mshould initialize correctly with default options
2025-11-06T18:07:47.4159016Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.4159586Z 
2025-11-06T18:07:47.4234541Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mBasic Hook Functionality[2m > [22m[2mshould detect guest mode when user is not authenticated
2025-11-06T18:07:47.4253627Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.4254172Z 
2025-11-06T18:07:47.4332844Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mBasic Hook Functionality[2m > [22m[2mshould detect authenticated mode when user is logged in
2025-11-06T18:07:47.4334548Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.4335092Z 
2025-11-06T18:07:47.4471456Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mData Operations[2m > [22m[2mshould fetch conversations successfully
2025-11-06T18:07:47.4473094Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.4473467Z 
2025-11-06T18:07:47.5017770Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mData Operations[2m > [22m[2mshould create conversation successfully
2025-11-06T18:07:47.5019501Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.5019844Z 
2025-11-06T18:07:47.5674921Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mData Operations[2m > [22m[2mshould update conversation successfully
2025-11-06T18:07:47.5676519Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.5676885Z 
2025-11-06T18:07:47.6299688Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mData Operations[2m > [22m[2mshould delete conversation successfully
2025-11-06T18:07:47.6301348Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.6301961Z 
2025-11-06T18:07:47.6858315Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mData Operations[2m > [22m[2mshould add message successfully
2025-11-06T18:07:47.6860199Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.6860818Z 
2025-11-06T18:07:47.7441886Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mQuota Management[2m > [22m[2mshould calculate quota correctly for guest users
2025-11-06T18:07:47.7443625Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.7444033Z 
2025-11-06T18:07:47.7504005Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mQuota Management[2m > [22m[2mshould detect when quota is exceeded
2025-11-06T18:07:47.7506940Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.7539622Z 
2025-11-06T18:07:47.7548117Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mError Handling[2m > [22m[2mshould provide error handling structure
2025-11-06T18:07:47.7550308Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.7570991Z 
2025-11-06T18:07:47.7632435Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mHook Queries[2m > [22m[2mshould provide useConversation hook
2025-11-06T18:07:47.7637503Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.7640428Z 
2025-11-06T18:07:47.7737246Z [90mstdout[2m | src/hooks/__tests__/useConversationStorage.test.ts[2m > [22m[2museConversationStorage[2m > [22m[2mHook Queries[2m > [22m[2mshould provide useMessages hook
2025-11-06T18:07:47.7744083Z [22m[39müêõ ‚ÑπÔ∏è Using localStorage for guest user 
2025-11-06T18:07:47.7748583Z 
2025-11-06T18:07:47.7775667Z  [32m‚úì[39m src/hooks/__tests__/useConversationStorage.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 392[2mms[22m[39m
2025-11-06T18:07:47.8061885Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts
2025-11-06T18:07:47.8065037Z [22m[39müîß Supabase Config Debug: {
2025-11-06T18:07:47.8066051Z   url: [32m'https://test.supabase.co...'[39m,
2025-11-06T18:07:47.8068123Z   key: [32m'test-anon-key...'[39m,
2025-11-06T18:07:47.8068975Z   isLocalDev: [33mfalse[39m
2025-11-06T18:07:47.8071041Z }
2025-11-06T18:07:47.8071444Z 
2025-11-06T18:07:47.8568441Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconversations list[2m > [22m[2mshould fetch and return conversations
2025-11-06T18:07:47.8572455Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconversations list[2m > [22m[2mshould fetch and return conversations
2025-11-06T18:07:47.8585900Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:47.8587368Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:47.8588924Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:47.8590756Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:47.8591734Z     at new Promise (<anonymous>)
2025-11-06T18:07:47.8593080Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:47.8594982Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:47.8596889Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:47.8598822Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:47.8600964Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:47.8602808Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:47.8603666Z 
2025-11-06T18:07:47.8604157Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:47.8604729Z   count: [33m2[39m,
2025-11-06T18:07:47.8605250Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:47.8605718Z   conversations: [
2025-11-06T18:07:47.8606074Z     {
2025-11-06T18:07:47.8606474Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:47.8607043Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:47.8607645Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:47.8608063Z     },
2025-11-06T18:07:47.8608347Z     {
2025-11-06T18:07:47.8608714Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:47.8609266Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:47.8610115Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:47.8610564Z     }
2025-11-06T18:07:47.8610865Z   ]
2025-11-06T18:07:47.8611157Z }
2025-11-06T18:07:47.8611671Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:47.8612224Z   count: [33m2[39m,
2025-11-06T18:07:47.8612593Z   filters: {},
2025-11-06T18:07:47.8613101Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:47.8613590Z   conversations: [
2025-11-06T18:07:47.8613948Z     {
2025-11-06T18:07:47.8614382Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:47.8615428Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:47.8616823Z       status: [32m'active'[39m,
2025-11-06T18:07:47.8617499Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:47.8617964Z     },
2025-11-06T18:07:47.8618288Z     {
2025-11-06T18:07:47.8618877Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:47.8619874Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:47.8620949Z       status: [32m'completed'[39m,
2025-11-06T18:07:47.8621749Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:47.8622389Z     }
2025-11-06T18:07:47.8622932Z   ]
2025-11-06T18:07:47.8623442Z }
2025-11-06T18:07:47.8624176Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:47.8625029Z   totalCount: [33m2[39m,
2025-11-06T18:07:47.8636662Z   pageParam: [33m0[39m,
2025-11-06T18:07:47.8637264Z   pageSize: [33m20[39m,
2025-11-06T18:07:47.8637755Z   start: [33m0[39m,
2025-11-06T18:07:47.8638182Z   end: [33m20[39m,
2025-11-06T18:07:47.8638679Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:47.8639202Z   hasMore: [33mfalse[39m
2025-11-06T18:07:47.8639799Z }
2025-11-06T18:07:47.8639976Z 
2025-11-06T18:07:47.9094328Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconversations list[2m > [22m[2mshould handle empty conversations list
2025-11-06T18:07:47.9096842Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconversations list[2m > [22m[2mshould handle empty conversations list
2025-11-06T18:07:47.9099234Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:47.9101055Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:47.9102863Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:47.9104775Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:47.9105954Z     at new Promise (<anonymous>)
2025-11-06T18:07:47.9107483Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:47.9110210Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:47.9112684Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:47.9114837Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:47.9116906Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:47.9118957Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:47.9120100Z 
2025-11-06T18:07:47.9121299Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) { count: [33m0[39m, currentUserId: [32m'test-user-id'[39m, conversations: [] }
2025-11-06T18:07:47.9122425Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:47.9122972Z   count: [33m0[39m,
2025-11-06T18:07:47.9123362Z   filters: {},
2025-11-06T18:07:47.9123892Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:47.9124391Z   conversations: []
2025-11-06T18:07:47.9124749Z }
2025-11-06T18:07:47.9125228Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:47.9125754Z   totalCount: [33m0[39m,
2025-11-06T18:07:47.9126233Z   pageParam: [33m0[39m,
2025-11-06T18:07:47.9126709Z   pageSize: [33m20[39m,
2025-11-06T18:07:47.9127162Z   start: [33m0[39m,
2025-11-06T18:07:47.9127589Z   end: [33m20[39m,
2025-11-06T18:07:47.9128478Z   paginatedCount: [33m0[39m,
2025-11-06T18:07:47.9129205Z   hasMore: [33mfalse[39m
2025-11-06T18:07:47.9129774Z }
2025-11-06T18:07:47.9129947Z 
2025-11-06T18:07:47.9673545Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconversations list[2m > [22m[2mshould handle storage errors gracefully
2025-11-06T18:07:47.9700862Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:47.9702840Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:47.9704905Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:47.9707017Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:47.9708408Z     at new Promise (<anonymous>)
2025-11-06T18:07:47.9710396Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:47.9712494Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:47.9714715Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:47.9716749Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:47.9718673Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:47.9720840Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:47.9722117Z ‚ùå ‚ÑπÔ∏è [useConversations] Erreur chargement 
2025-11-06T18:07:47.9722467Z 
2025-11-06T18:07:47.9739181Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconversations list[2m > [22m[2mshould apply filters correctly
2025-11-06T18:07:47.9741428Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:47.9742947Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:47.9744604Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:47.9746391Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:47.9747403Z     at new Promise (<anonymous>)
2025-11-06T18:07:47.9748931Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:47.9751256Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:47.9753474Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:47.9755603Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:47.9757667Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:47.9760052Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:47.9761016Z 
2025-11-06T18:07:47.9763209Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconversations list[2m > [22m[2mshould apply filters correctly
2025-11-06T18:07:47.9764758Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:47.9765399Z   count: [33m2[39m,
2025-11-06T18:07:47.9765969Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:47.9766487Z   conversations: [
2025-11-06T18:07:47.9766835Z     {
2025-11-06T18:07:47.9767272Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:47.9767881Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:47.9768508Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:47.9769032Z     },
2025-11-06T18:07:47.9769929Z     {
2025-11-06T18:07:47.9770453Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:47.9771086Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:47.9771764Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:47.9772224Z     }
2025-11-06T18:07:47.9772565Z   ]
2025-11-06T18:07:47.9772883Z }
2025-11-06T18:07:47.9773428Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:47.9774000Z   count: [33m1[39m,
2025-11-06T18:07:47.9774588Z   filters: { status: [ [32m'active'[39m ] },
2025-11-06T18:07:47.9775290Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:47.9775818Z   conversations: [
2025-11-06T18:07:47.9776189Z     {
2025-11-06T18:07:47.9776623Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:47.9777276Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:47.9777916Z       status: [32m'active'[39m,
2025-11-06T18:07:47.9778514Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:47.9778985Z     }
2025-11-06T18:07:47.9779503Z   ]
2025-11-06T18:07:47.9779822Z }
2025-11-06T18:07:47.9780364Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:47.9780899Z   totalCount: [33m1[39m,
2025-11-06T18:07:47.9781429Z   pageParam: [33m0[39m,
2025-11-06T18:07:47.9781941Z   pageSize: [33m20[39m,
2025-11-06T18:07:47.9782418Z   start: [33m0[39m,
2025-11-06T18:07:47.9782893Z   end: [33m20[39m,
2025-11-06T18:07:47.9783427Z   paginatedCount: [33m1[39m,
2025-11-06T18:07:47.9783983Z   hasMore: [33mfalse[39m
2025-11-06T18:07:47.9784395Z }
2025-11-06T18:07:47.9784587Z 
2025-11-06T18:07:48.0319904Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconversations list[2m > [22m[2mshould handle pagination config
2025-11-06T18:07:48.0322373Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconversations list[2m > [22m[2mshould handle pagination config
2025-11-06T18:07:48.0325263Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.0326726Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.0328385Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.0330326Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.0331351Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.0332785Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.0334769Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.0336755Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.0338765Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.0341374Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.0343573Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.0344481Z 
2025-11-06T18:07:48.0360398Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.0361243Z   count: [33m2[39m,
2025-11-06T18:07:48.0361930Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.0362585Z   conversations: [
2025-11-06T18:07:48.0363075Z     {
2025-11-06T18:07:48.0363597Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.0364276Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.0365033Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.0366299Z     },
2025-11-06T18:07:48.0366600Z     {
2025-11-06T18:07:48.0366990Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.0367559Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.0368220Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.0368663Z     }
2025-11-06T18:07:48.0368954Z   ]
2025-11-06T18:07:48.0369485Z }
2025-11-06T18:07:48.0369992Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.0370504Z   count: [33m2[39m,
2025-11-06T18:07:48.0370859Z   filters: {},
2025-11-06T18:07:48.0371348Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.0371816Z   conversations: [
2025-11-06T18:07:48.0372145Z     {
2025-11-06T18:07:48.0372523Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.0373084Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.0373658Z       status: [32m'active'[39m,
2025-11-06T18:07:48.0374235Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.0374677Z     },
2025-11-06T18:07:48.0374972Z     {
2025-11-06T18:07:48.0375355Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.0375919Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.0376518Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.0377113Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.0377531Z     }
2025-11-06T18:07:48.0377809Z   ]
2025-11-06T18:07:48.0378092Z }
2025-11-06T18:07:48.0378546Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.0379032Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.0379663Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.0380120Z   pageSize: [33m10[39m,
2025-11-06T18:07:48.0380553Z   start: [33m0[39m,
2025-11-06T18:07:48.0380961Z   end: [33m10[39m,
2025-11-06T18:07:48.0381429Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.0381898Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.0382263Z }
2025-11-06T18:07:48.0382439Z 
2025-11-06T18:07:48.1036916Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2msingle conversation[2m > [22m[2mshould return conversation and messages
2025-11-06T18:07:48.1039733Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2msingle conversation[2m > [22m[2mshould return conversation and messages
2025-11-06T18:07:48.1067713Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.1068922Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.1070199Z   count: [33m2[39m,
2025-11-06T18:07:48.1071463Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.1072766Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.1074270Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.1075442Z   conversations: [
2025-11-06T18:07:48.1076825Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.1077948Z     {
2025-11-06T18:07:48.1078544Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.1079736Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.1081722Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.1083093Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.1084817Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.1086089Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.1099903Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.1102117Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.1104090Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.1106035Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.1106885Z 
2025-11-06T18:07:48.1107153Z     },
2025-11-06T18:07:48.1107451Z     {
2025-11-06T18:07:48.1107842Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.1108422Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.1109035Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.1109627Z     }
2025-11-06T18:07:48.1109912Z   ]
2025-11-06T18:07:48.1110196Z }
2025-11-06T18:07:48.1110702Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.1111220Z   count: [33m2[39m,
2025-11-06T18:07:48.1111589Z   filters: {},
2025-11-06T18:07:48.1112097Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.1112562Z   conversations: [
2025-11-06T18:07:48.1112884Z     {
2025-11-06T18:07:48.1113253Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.1113819Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.1114391Z       status: [32m'active'[39m,
2025-11-06T18:07:48.1114950Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.1115387Z     },
2025-11-06T18:07:48.1115672Z     {
2025-11-06T18:07:48.1116077Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.1116646Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.1117253Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.1117821Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.1118225Z     }
2025-11-06T18:07:48.1118513Z   ]
2025-11-06T18:07:48.1118795Z }
2025-11-06T18:07:48.1119262Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.1119938Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.1120391Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.1120839Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.1121267Z   start: [33m0[39m,
2025-11-06T18:07:48.1121669Z   end: [33m20[39m,
2025-11-06T18:07:48.1122141Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.1122625Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.1122997Z }
2025-11-06T18:07:48.1123165Z 
2025-11-06T18:07:48.2327662Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2msingle conversation[2m > [22m[2mshould return conversation and messages
2025-11-06T18:07:48.2330477Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:48.2332245Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:48.2334003Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:48.2335844Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:48.2344518Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:48.2351717Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:07:48.2353441Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:48.2355627Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:07:48.2357613Z     [32m'    at queryFn (/home/runner/work/DooDates/DooDates/src/hooks/useConversations.ts:349:40)'[39m,
2025-11-06T18:07:48.2358745Z   timestamp: [32m'2025-11-06T18:07:48.231Z'[39m,
2025-11-06T18:07:48.2359505Z   context: {
2025-11-06T18:07:48.2360179Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.2360968Z     operation: [32m'getConversation'[39m
2025-11-06T18:07:48.2361458Z   },
2025-11-06T18:07:48.2361944Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.2362536Z   category: [32m'system'[39m,
2025-11-06T18:07:48.2363409Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:07:48.2364102Z }
2025-11-06T18:07:48.2364560Z üö® DooDates Error: {
2025-11-06T18:07:48.2365132Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:48.2365880Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:48.2366751Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:48.2367997Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:48.2370061Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:07:48.2371771Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:48.2373473Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:07:48.2375220Z     [32m'    at queryFn (/home/runner/work/DooDates/DooDates/src/hooks/useConversations.ts:349:40)'[39m,
2025-11-06T18:07:48.2376318Z   timestamp: [32m'2025-11-06T18:07:48.232Z'[39m,
2025-11-06T18:07:48.2376834Z   context: {
2025-11-06T18:07:48.2377438Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.2442450Z     operation: [32m'getConversation'[39m,
2025-11-06T18:07:48.2443427Z     conversationId: [32m'conv-1'[39m
2025-11-06T18:07:48.2443869Z   },
2025-11-06T18:07:48.2444288Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.2444793Z   category: [32m'system'[39m,
2025-11-06T18:07:48.2445583Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:07:48.2446202Z }
2025-11-06T18:07:48.2446361Z 
2025-11-06T18:07:48.2447802Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2msingle conversation[2m > [22m[2mshould return conversation and messages
2025-11-06T18:07:48.2449124Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:48.2449916Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:48.2450512Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:48.2451253Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:48.2452499Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:48.2454314Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:07:48.2455932Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:48.2457595Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:07:48.2459186Z     [32m'    at queryFn (/home/runner/work/DooDates/DooDates/src/hooks/useConversations.ts:349:40)'[39m,
2025-11-06T18:07:48.2460551Z   timestamp: [32m'2025-11-06T18:07:48.232Z'[39m,
2025-11-06T18:07:48.2461013Z   context: {
2025-11-06T18:07:48.2461567Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.2465421Z     operation: [32m'getMessages'[39m
2025-11-06T18:07:48.2465811Z   },
2025-11-06T18:07:48.2466164Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.2467192Z   category: [32m'system'[39m,
2025-11-06T18:07:48.2467945Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:07:48.2468561Z }
2025-11-06T18:07:48.2468938Z üö® DooDates Error: {
2025-11-06T18:07:48.2469604Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:48.2470168Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:48.2470807Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:48.2471918Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:48.2473534Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:07:48.2475148Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:48.2476722Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:07:48.2478290Z     [32m'    at queryFn (/home/runner/work/DooDates/DooDates/src/hooks/useConversations.ts:349:40)'[39m,
2025-11-06T18:07:48.2479205Z   timestamp: [32m'2025-11-06T18:07:48.232Z'[39m,
2025-11-06T18:07:48.2510003Z   context: {
2025-11-06T18:07:48.2510667Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.2511354Z     operation: [32m'getMessages'[39m,
2025-11-06T18:07:48.2511964Z     conversationId: [32m'conv-1'[39m
2025-11-06T18:07:48.2512395Z   },
2025-11-06T18:07:48.2512814Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.2513318Z   category: [32m'system'[39m,
2025-11-06T18:07:48.2514101Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:07:48.2514719Z }
2025-11-06T18:07:48.2514889Z 
2025-11-06T18:07:48.2516323Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2msingle conversation[2m > [22m[2mshould return conversation and messages
2025-11-06T18:07:48.2518372Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement des messages depuis Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:48.2520635Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:48.2522270Z     at getConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:173:28[90m)[39m
2025-11-06T18:07:48.2523833Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:48.2525355Z     at getMessages [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:371:26[90m)[39m
2025-11-06T18:07:48.2526934Z     at queryFn [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useConversations.ts:349:40[90m)[39m {
2025-11-06T18:07:48.2527885Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.2528414Z   category: [32m'system'[39m,
2025-11-06T18:07:48.2528825Z   context: {
2025-11-06T18:07:48.2529608Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.2530322Z     operation: [32m'getConversation'[39m
2025-11-06T18:07:48.2530774Z   },
2025-11-06T18:07:48.2531290Z   timestamp: [32m'2025-11-06T18:07:48.230Z'[39m,
2025-11-06T18:07:48.2532209Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:07:48.2532898Z }
2025-11-06T18:07:48.2533083Z 
2025-11-06T18:07:48.2534640Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2msingle conversation[2m > [22m[2mshould return conversation and messages
2025-11-06T18:07:48.2535999Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:48.2536560Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:48.2537135Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:48.2537800Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:48.2539224Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:48.2541327Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:07:48.2542895Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:48.2544264Z     [32m'    at queryFn (/home/runner/work/DooDates/DooDates/src/hooks/useConversations.ts:321:36)'[39m,
2025-11-06T18:07:48.2545260Z   timestamp: [32m'2025-11-06T18:07:48.234Z'[39m,
2025-11-06T18:07:48.2545815Z   context: {
2025-11-06T18:07:48.2546409Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.2547126Z     operation: [32m'getConversation'[39m
2025-11-06T18:07:48.2547576Z   },
2025-11-06T18:07:48.2547998Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.2548520Z   category: [32m'system'[39m,
2025-11-06T18:07:48.2590480Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:07:48.2591237Z }
2025-11-06T18:07:48.2591709Z üö® DooDates Error: {
2025-11-06T18:07:48.2592245Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:48.2592823Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:48.2593514Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:48.2594652Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:48.2596382Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:07:48.2597891Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:48.2599187Z     [32m'    at queryFn (/home/runner/work/DooDates/DooDates/src/hooks/useConversations.ts:321:36)'[39m,
2025-11-06T18:07:48.2600403Z   timestamp: [32m'2025-11-06T18:07:48.234Z'[39m,
2025-11-06T18:07:48.2600868Z   context: {
2025-11-06T18:07:48.2601431Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.2602111Z     operation: [32m'getConversation'[39m,
2025-11-06T18:07:48.2602704Z     conversationId: [32m'conv-1'[39m
2025-11-06T18:07:48.2603133Z   },
2025-11-06T18:07:48.2603543Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.2604062Z   category: [32m'system'[39m,
2025-11-06T18:07:48.2604862Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:07:48.2605478Z }
2025-11-06T18:07:48.2605648Z 
2025-11-06T18:07:48.2607126Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2msingle conversation[2m > [22m[2mshould return conversation and messages
2025-11-06T18:07:48.2609081Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:48.2610784Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:48.2612546Z     at getConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:173:28[90m)[39m
2025-11-06T18:07:48.2613980Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:48.2615194Z     at queryFn [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useConversations.ts:321:36[90m)[39m {
2025-11-06T18:07:48.2616053Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.2616541Z   category: [32m'system'[39m,
2025-11-06T18:07:48.2616899Z   context: {
2025-11-06T18:07:48.2617417Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.2618033Z     operation: [32m'getConversation'[39m
2025-11-06T18:07:48.2618434Z   },
2025-11-06T18:07:48.2618885Z   timestamp: [32m'2025-11-06T18:07:48.234Z'[39m,
2025-11-06T18:07:48.2649985Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:07:48.2650582Z }
2025-11-06T18:07:48.2650736Z 
2025-11-06T18:07:48.2652095Z  [32m‚úì[39m src/services/__tests__/sort-comparator.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 17[2mms[22m[39m
2025-11-06T18:07:48.2811072Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould create conversation
2025-11-06T18:07:48.2812775Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.2813548Z   count: [33m2[39m,
2025-11-06T18:07:48.2814208Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.2814786Z   conversations: [
2025-11-06T18:07:48.2815238Z     {
2025-11-06T18:07:48.2815744Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.2816408Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.2817098Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.2817621Z     },
2025-11-06T18:07:48.2818023Z     {
2025-11-06T18:07:48.2818508Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.2819212Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.2820282Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.2820830Z     }
2025-11-06T18:07:48.2821227Z   ]
2025-11-06T18:07:48.2821629Z }
2025-11-06T18:07:48.2822208Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.2822893Z   count: [33m2[39m,
2025-11-06T18:07:48.2823383Z   filters: {},
2025-11-06T18:07:48.2823997Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.2824580Z   conversations: [
2025-11-06T18:07:48.2825054Z     {
2025-11-06T18:07:48.2825535Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.2826210Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.2826905Z       status: [32m'active'[39m,
2025-11-06T18:07:48.2827571Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.2828120Z     },
2025-11-06T18:07:48.2828530Z     {
2025-11-06T18:07:48.2828972Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.2829975Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.2830788Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.2831482Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.2831989Z     }
2025-11-06T18:07:48.2832366Z   ]
2025-11-06T18:07:48.2832746Z }
2025-11-06T18:07:48.2833352Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.2834242Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.2835093Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.2835738Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.2836309Z   start: [33m0[39m,
2025-11-06T18:07:48.2836841Z   end: [33m20[39m,
2025-11-06T18:07:48.2837511Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.2838235Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.2838764Z }
2025-11-06T18:07:48.2839101Z 
2025-11-06T18:07:48.2851321Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould create conversation
2025-11-06T18:07:48.2853470Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.2855195Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.2857174Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.2859271Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.2860828Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.2862674Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.2864648Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.2866848Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.2868947Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.2871011Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.2872885Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.2873757Z 
2025-11-06T18:07:48.3444399Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould create conversation
2025-11-06T18:07:48.3446626Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.3448655Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:111:7
2025-11-06T18:07:48.3453185Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.3455105Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.3456274Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.3457860Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.3460560Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.3463405Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.3465588Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.3467509Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.3469530Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.3470424Z 
2025-11-06T18:07:48.3471747Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould create conversation
2025-11-06T18:07:48.3473535Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.3474966Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.3476537Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.3478191Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.3479156Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.3480726Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.3482662Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.3484592Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.3486516Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.3488806Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.3491153Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.3492035Z 
2025-11-06T18:07:48.3493425Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould create conversation
2025-11-06T18:07:48.3494899Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.3495516Z   count: [33m2[39m,
2025-11-06T18:07:48.3496060Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.3496553Z   conversations: [
2025-11-06T18:07:48.3496903Z     {
2025-11-06T18:07:48.3497310Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.3497919Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.3498562Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.3499040Z     },
2025-11-06T18:07:48.3499557Z     {
2025-11-06T18:07:48.3499998Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.3500617Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.3501248Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.3501701Z     }
2025-11-06T18:07:48.3501994Z   ]
2025-11-06T18:07:48.3502280Z }
2025-11-06T18:07:48.3502753Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.3503220Z   count: [33m2[39m,
2025-11-06T18:07:48.3503550Z   filters: {},
2025-11-06T18:07:48.3504005Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.3504474Z   conversations: [
2025-11-06T18:07:48.3504788Z     {
2025-11-06T18:07:48.3505153Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.3505712Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.3506314Z       status: [32m'active'[39m,
2025-11-06T18:07:48.3506893Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.3507336Z     },
2025-11-06T18:07:48.3507614Z     {
2025-11-06T18:07:48.3508068Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.3508656Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.3509229Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.3510069Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.3510515Z     }
2025-11-06T18:07:48.3510818Z   ]
2025-11-06T18:07:48.3511109Z }
2025-11-06T18:07:48.3511625Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.3512169Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.3512662Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.3513125Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.3513589Z   start: [33m0[39m,
2025-11-06T18:07:48.3514018Z   end: [33m20[39m,
2025-11-06T18:07:48.3514531Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.3515053Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.3515443Z }
2025-11-06T18:07:48.3515623Z 
2025-11-06T18:07:48.3596916Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould update conversation
2025-11-06T18:07:48.3599184Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould update conversation
2025-11-06T18:07:48.3600780Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.3601368Z   count: [33m2[39m,
2025-11-06T18:07:48.3601887Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.3602358Z   conversations: [
2025-11-06T18:07:48.3602841Z     {
2025-11-06T18:07:48.3604060Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.3605608Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.3607311Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.3609789Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.3611052Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.3612520Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.3614481Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.3616494Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.3618532Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.3620921Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.3622982Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.3623898Z 
2025-11-06T18:07:48.3660149Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.3662526Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.3663245Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.3663688Z     },
2025-11-06T18:07:48.3663985Z     {
2025-11-06T18:07:48.3664366Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.3664921Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.3665508Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.3665916Z     }
2025-11-06T18:07:48.3666188Z   ]
2025-11-06T18:07:48.3666461Z }
2025-11-06T18:07:48.3666942Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.3667424Z   count: [33m2[39m,
2025-11-06T18:07:48.3667771Z   filters: {},
2025-11-06T18:07:48.3668259Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.3668744Z   conversations: [
2025-11-06T18:07:48.3669069Z     {
2025-11-06T18:07:48.3669631Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.3670231Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.3670951Z       status: [32m'active'[39m,
2025-11-06T18:07:48.3671558Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.3672005Z     },
2025-11-06T18:07:48.3672302Z     {
2025-11-06T18:07:48.3672705Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.3673299Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.3673923Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.3674542Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.3674989Z     }
2025-11-06T18:07:48.3675289Z   ]
2025-11-06T18:07:48.3675577Z }
2025-11-06T18:07:48.3676079Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.3676614Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.3677095Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.3677567Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.3678048Z   start: [33m0[39m,
2025-11-06T18:07:48.3678483Z   end: [33m20[39m,
2025-11-06T18:07:48.3678985Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.3679720Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.3680122Z }
2025-11-06T18:07:48.3680299Z 
2025-11-06T18:07:48.4141851Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould update conversation
2025-11-06T18:07:48.4143308Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:48.4143907Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:48.4144524Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:48.4145278Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:48.4146435Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:48.4148605Z     [32m'    at getConversations (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:122:28)\n'[39m +
2025-11-06T18:07:48.4150639Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:48.4152068Z     [32m'    at queryFn (/home/runner/work/DooDates/DooDates/src/hooks/useConversations.ts:134:43)\n'[39m +
2025-11-06T18:07:48.4153916Z     [32m'    at fetchPage (file:///home/runner/work/DooDates/DooDates/node_modules/@tanstack/query-core/src/infiniteQueryBehavior.ts:69:24)\n'[39m +
2025-11-06T18:07:48.4156218Z     [32m'    at Object.fetchFn [as fn] (file:///home/runner/work/DooDates/DooDates/node_modules/@tanstack/query-core/src/infiniteQueryBehavior.ts:105:22)'[39m,
2025-11-06T18:07:48.4157641Z   timestamp: [32m'2025-11-06T18:07:48.408Z'[39m,
2025-11-06T18:07:48.4158140Z   context: {
2025-11-06T18:07:48.4158752Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.4159642Z     operation: [32m'getConversations'[39m
2025-11-06T18:07:48.4160109Z   },
2025-11-06T18:07:48.4160558Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.4161129Z   category: [32m'system'[39m,
2025-11-06T18:07:48.4161993Z   userMessage: [32m'Erreur lors de la r√©cup√©ration des conversations'[39m
2025-11-06T18:07:48.4162670Z }
2025-11-06T18:07:48.4163081Z üö® DooDates Error: {
2025-11-06T18:07:48.4163614Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:48.4164223Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:48.4164944Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:48.4166165Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:48.4168036Z     [32m'    at getConversations (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:122:28)\n'[39m +
2025-11-06T18:07:48.4169921Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:48.4171387Z     [32m'    at queryFn (/home/runner/work/DooDates/DooDates/src/hooks/useConversations.ts:134:43)\n'[39m +
2025-11-06T18:07:48.4173301Z     [32m'    at fetchPage (file:///home/runner/work/DooDates/DooDates/node_modules/@tanstack/query-core/src/infiniteQueryBehavior.ts:69:24)\n'[39m +
2025-11-06T18:07:48.4175451Z     [32m'    at Object.fetchFn [as fn] (file:///home/runner/work/DooDates/DooDates/node_modules/@tanstack/query-core/src/infiniteQueryBehavior.ts:105:22)'[39m,
2025-11-06T18:07:48.4176874Z   timestamp: [32m'2025-11-06T18:07:48.408Z'[39m,
2025-11-06T18:07:48.4177385Z   context: {
2025-11-06T18:07:48.4178020Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.4178755Z     operation: [32m'getConversations'[39m
2025-11-06T18:07:48.4179225Z   },
2025-11-06T18:07:48.4179903Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.4180480Z   category: [32m'system'[39m,
2025-11-06T18:07:48.4181327Z   userMessage: [32m'Erreur lors de la r√©cup√©ration des conversations'[39m
2025-11-06T18:07:48.4181999Z }
2025-11-06T18:07:48.4182187Z 
2025-11-06T18:07:48.4183630Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould update conversation
2025-11-06T18:07:48.4185683Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:48.4187256Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:48.4189051Z     at getConversations [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:122:28[90m)[39m
2025-11-06T18:07:48.4190954Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:48.4192391Z     at queryFn [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useConversations.ts:134:43[90m)[39m
2025-11-06T18:07:48.4194582Z     at fetchPage [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@tanstack[24m/query-core/src/infiniteQueryBehavior.ts:69:24[90m)[39m
2025-11-06T18:07:48.4197210Z     at Object.fetchFn [as fn] [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@tanstack[24m/query-core/src/infiniteQueryBehavior.ts:105:22[90m)[39m {
2025-11-06T18:07:48.4198713Z   severity: [32m'medium'[39m,
2025-11-06T18:07:48.4199444Z   category: [32m'system'[39m,
2025-11-06T18:07:48.4199877Z   context: {
2025-11-06T18:07:48.4200499Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:48.4201232Z     operation: [32m'getConversations'[39m
2025-11-06T18:07:48.4201705Z   },
2025-11-06T18:07:48.4202230Z   timestamp: [32m'2025-11-06T18:07:48.408Z'[39m,
2025-11-06T18:07:48.4203101Z   userMessage: [32m'Erreur lors de la r√©cup√©ration des conversations'[39m
2025-11-06T18:07:48.4203759Z }
2025-11-06T18:07:48.4203940Z 
2025-11-06T18:07:48.4205346Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould update conversation
2025-11-06T18:07:48.4206816Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.4207426Z   count: [33m2[39m,
2025-11-06T18:07:48.4208000Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.4208526Z   conversations: [
2025-11-06T18:07:48.4208898Z     {
2025-11-06T18:07:48.4209537Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.4210168Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.4210820Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4211265Z     },
2025-11-06T18:07:48.4211567Z     {
2025-11-06T18:07:48.4211941Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.4212398Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.4212969Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4213407Z     }
2025-11-06T18:07:48.4213712Z   ]
2025-11-06T18:07:48.4214003Z }
2025-11-06T18:07:48.4214503Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.4215110Z   count: [33m2[39m,
2025-11-06T18:07:48.4215439Z   filters: {},
2025-11-06T18:07:48.4215935Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.4216376Z   conversations: [
2025-11-06T18:07:48.4216706Z     {
2025-11-06T18:07:48.4217112Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.4217692Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.4218278Z       status: [32m'active'[39m,
2025-11-06T18:07:48.4218891Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4219525Z     },
2025-11-06T18:07:48.4219840Z     {
2025-11-06T18:07:48.4220259Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.4220824Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.4221447Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.4222026Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4222469Z     }
2025-11-06T18:07:48.4222751Z   ]
2025-11-06T18:07:48.4223040Z }
2025-11-06T18:07:48.4223621Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.4224162Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.4224643Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.4225117Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.4225553Z   start: [33m0[39m,
2025-11-06T18:07:48.4225966Z   end: [33m20[39m,
2025-11-06T18:07:48.4226442Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.4226935Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.4227300Z }
2025-11-06T18:07:48.4227474Z 
2025-11-06T18:07:48.4228832Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould update conversation
2025-11-06T18:07:48.4248128Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.4248718Z   count: [33m2[39m,
2025-11-06T18:07:48.4249247Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.4250063Z   conversations: [
2025-11-06T18:07:48.4250408Z     {
2025-11-06T18:07:48.4250806Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.4251377Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.4252037Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4252947Z     },
2025-11-06T18:07:48.4253269Z     {
2025-11-06T18:07:48.4253684Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.4254290Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.4254940Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4255401Z     }
2025-11-06T18:07:48.4255725Z   ]
2025-11-06T18:07:48.4256016Z }
2025-11-06T18:07:48.4256557Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.4257120Z   count: [33m2[39m,
2025-11-06T18:07:48.4257503Z   filters: {},
2025-11-06T18:07:48.4258033Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.4258573Z   conversations: [
2025-11-06T18:07:48.4258940Z     {
2025-11-06T18:07:48.4275527Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.4276285Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.4276927Z       status: [32m'active'[39m,
2025-11-06T18:07:48.4277534Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4278006Z     },
2025-11-06T18:07:48.4278308Z     {
2025-11-06T18:07:48.4278758Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.4279699Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.4280414Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.4281047Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4281498Z     }
2025-11-06T18:07:48.4281807Z   ]
2025-11-06T18:07:48.4282101Z }
2025-11-06T18:07:48.4282618Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.4283182Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.4283716Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.4284216Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.4284682Z   start: [33m0[39m,
2025-11-06T18:07:48.4285142Z   end: [33m20[39m,
2025-11-06T18:07:48.4285666Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.4286225Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.4286629Z }
2025-11-06T18:07:48.4286814Z 
2025-11-06T18:07:48.4288253Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould update conversation
2025-11-06T18:07:48.4290615Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.4292128Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.4293798Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.4295601Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.4296629Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.4298132Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.4305513Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.4307626Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.4309972Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.4312074Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.4314135Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.4315053Z 
2025-11-06T18:07:48.4343891Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould delete conversation
2025-11-06T18:07:48.4345686Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.4348990Z   count: [33m2[39m,
2025-11-06T18:07:48.4350184Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.4352116Z   conversations: [
2025-11-06T18:07:48.4358667Z     {
2025-11-06T18:07:48.4359150Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.4360055Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.4360711Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4361176Z     },
2025-11-06T18:07:48.4361486Z     {
2025-11-06T18:07:48.4361896Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.4362502Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.4363144Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4363593Z     }
2025-11-06T18:07:48.4363893Z   ]
2025-11-06T18:07:48.4364181Z }
2025-11-06T18:07:48.4364702Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.4365266Z   count: [33m2[39m,
2025-11-06T18:07:48.4365644Z   filters: {},
2025-11-06T18:07:48.4366167Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.4366686Z   conversations: [
2025-11-06T18:07:48.4367037Z     {
2025-11-06T18:07:48.4367453Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.4368074Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.4368707Z       status: [32m'active'[39m,
2025-11-06T18:07:48.4369494Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4369961Z     },
2025-11-06T18:07:48.4370275Z     {
2025-11-06T18:07:48.4370715Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.4371320Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.4371940Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.4372547Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4373002Z     }
2025-11-06T18:07:48.4373299Z   ]
2025-11-06T18:07:48.4373591Z }
2025-11-06T18:07:48.4374046Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.4374348Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.4374624Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.4374880Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.4375127Z   start: [33m0[39m,
2025-11-06T18:07:48.4375363Z   end: [33m20[39m,
2025-11-06T18:07:48.4375632Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.4375906Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.4376119Z }
2025-11-06T18:07:48.4376218Z 
2025-11-06T18:07:48.4394312Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould delete conversation
2025-11-06T18:07:48.4396241Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.4397744Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.4399702Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.4401482Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.4402495Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.4403917Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.4405909Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.4407908Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.4410128Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.4412105Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.4414391Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.4415478Z 
2025-11-06T18:07:48.4913056Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould delete conversation
2025-11-06T18:07:48.4919892Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould delete conversation
2025-11-06T18:07:48.4921891Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.4923402Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.4925102Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.4926898Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.4927961Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.4929644Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.4931722Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.4933777Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.4935876Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.4937941Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.4970291Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.4971237Z 
2025-11-06T18:07:48.4972058Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîî Dispatching conversationsChanged event for conversation conv-1 
2025-11-06T18:07:48.4973008Z ‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ conversationsChanged event dispatched 
2025-11-06T18:07:48.4973391Z 
2025-11-06T18:07:48.4974742Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould delete conversation
2025-11-06T18:07:48.4976156Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.4976753Z   count: [33m2[39m,
2025-11-06T18:07:48.4977313Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.4977813Z   conversations: [
2025-11-06T18:07:48.4978165Z     {
2025-11-06T18:07:48.4978577Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.4979181Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.4979987Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4980515Z     },
2025-11-06T18:07:48.4980819Z     {
2025-11-06T18:07:48.4981217Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.4981817Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.4982445Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4982887Z     }
2025-11-06T18:07:48.4983166Z   ]
2025-11-06T18:07:48.4983415Z }
2025-11-06T18:07:48.4983835Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.4984279Z   count: [33m2[39m,
2025-11-06T18:07:48.4984635Z   filters: {},
2025-11-06T18:07:48.4985153Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.4985647Z   conversations: [
2025-11-06T18:07:48.4986011Z     {
2025-11-06T18:07:48.4986458Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.4987087Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.4987715Z       status: [32m'active'[39m,
2025-11-06T18:07:48.4988754Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4989654Z     },
2025-11-06T18:07:48.4989983Z     {
2025-11-06T18:07:48.4990438Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.4991069Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.4991701Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.4992329Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.4992782Z     }
2025-11-06T18:07:48.4993082Z   ]
2025-11-06T18:07:48.4993382Z }
2025-11-06T18:07:48.4993904Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.4994463Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.4994964Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.4995449Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.4995910Z   start: [33m0[39m,
2025-11-06T18:07:48.4996361Z   end: [33m20[39m,
2025-11-06T18:07:48.4996875Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.4997399Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.4997787Z }
2025-11-06T18:07:48.4997955Z 
2025-11-06T18:07:48.5032308Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould add message to conversation
2025-11-06T18:07:48.5039575Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.5040233Z   count: [33m2[39m,
2025-11-06T18:07:48.5040806Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.5041309Z   conversations: [
2025-11-06T18:07:48.5041658Z     {
2025-11-06T18:07:48.5042067Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.5042659Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.5043294Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5043747Z     },
2025-11-06T18:07:48.5044074Z     {
2025-11-06T18:07:48.5044473Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.5045058Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.5045683Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5046127Z     }
2025-11-06T18:07:48.5046424Z   ]
2025-11-06T18:07:48.5046697Z }
2025-11-06T18:07:48.5047137Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.5047580Z   count: [33m2[39m,
2025-11-06T18:07:48.5047897Z   filters: {},
2025-11-06T18:07:48.5048334Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.5048796Z   conversations: [
2025-11-06T18:07:48.5049127Z     {
2025-11-06T18:07:48.5049783Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.5050363Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.5050967Z       status: [32m'active'[39m,
2025-11-06T18:07:48.5051534Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5051965Z     },
2025-11-06T18:07:48.5052256Z     {
2025-11-06T18:07:48.5052637Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.5053202Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.5053790Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.5054362Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5054792Z     }
2025-11-06T18:07:48.5055079Z   ]
2025-11-06T18:07:48.5055359Z }
2025-11-06T18:07:48.5056364Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.5056956Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.5057471Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.5057960Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.5058367Z   start: [33m0[39m,
2025-11-06T18:07:48.5058766Z   end: [33m20[39m,
2025-11-06T18:07:48.5059246Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.5059931Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.5060293Z }
2025-11-06T18:07:48.5060455Z 
2025-11-06T18:07:48.5067372Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould add message to conversation
2025-11-06T18:07:48.5069570Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.5071070Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.5072717Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.5074427Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.5075387Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.5076843Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.5078859Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.5081107Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.5083192Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.5085080Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.5086975Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.5087877Z 
2025-11-06T18:07:48.5539946Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould add message to conversation
2025-11-06T18:07:48.5542791Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mCRUD operations[2m > [22m[2mshould add message to conversation
2025-11-06T18:07:48.5545158Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.5546376Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.5547925Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.5549106Z   count: [33m2[39m,
2025-11-06T18:07:48.5550979Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.5552140Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.5553667Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.5554592Z   conversations: [
2025-11-06T18:07:48.5557189Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.5563833Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.5565979Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.5568696Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.5571045Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.5573064Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.5575047Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.5575944Z 
2025-11-06T18:07:48.5580502Z     {
2025-11-06T18:07:48.5580985Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.5581587Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.5582197Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5582629Z     },
2025-11-06T18:07:48.5582951Z     {
2025-11-06T18:07:48.5583358Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.5583958Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.5584597Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5585046Z     }
2025-11-06T18:07:48.5585350Z   ]
2025-11-06T18:07:48.5585657Z }
2025-11-06T18:07:48.5586198Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.5586749Z   count: [33m2[39m,
2025-11-06T18:07:48.5587116Z   filters: {},
2025-11-06T18:07:48.5587622Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.5588111Z   conversations: [
2025-11-06T18:07:48.5588457Z     {
2025-11-06T18:07:48.5588874Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.5589717Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.5590351Z       status: [32m'active'[39m,
2025-11-06T18:07:48.5590936Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5591370Z     },
2025-11-06T18:07:48.5591657Z     {
2025-11-06T18:07:48.5592055Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.5592690Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.5593259Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.5593840Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5594282Z     }
2025-11-06T18:07:48.5594576Z   ]
2025-11-06T18:07:48.5594862Z }
2025-11-06T18:07:48.5595340Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.5595841Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.5596299Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.5596743Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.5597174Z   start: [33m0[39m,
2025-11-06T18:07:48.5597588Z   end: [33m20[39m,
2025-11-06T18:07:48.5598058Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.5598545Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.5598917Z }
2025-11-06T18:07:48.5599078Z 
2025-11-06T18:07:48.5608662Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mutilities[2m > [22m[2mshould search conversations
2025-11-06T18:07:48.5610862Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.5612421Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.5614054Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.5615747Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.5616724Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.5618145Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.5620450Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.5622804Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.5625071Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.5627145Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.5629183Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.5633585Z 
2025-11-06T18:07:48.5634882Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mutilities[2m > [22m[2mshould search conversations
2025-11-06T18:07:48.5636204Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.5636768Z   count: [33m2[39m,
2025-11-06T18:07:48.5637297Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.5637752Z   conversations: [
2025-11-06T18:07:48.5638077Z     {
2025-11-06T18:07:48.5638440Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.5638975Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.5639748Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5640165Z     },
2025-11-06T18:07:48.5640443Z     {
2025-11-06T18:07:48.5640800Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.5641341Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.5641908Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5642307Z     }
2025-11-06T18:07:48.5642577Z   ]
2025-11-06T18:07:48.5642847Z }
2025-11-06T18:07:48.5643293Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.5643775Z   count: [33m2[39m,
2025-11-06T18:07:48.5644119Z   filters: {},
2025-11-06T18:07:48.5644594Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.5645082Z   conversations: [
2025-11-06T18:07:48.5645460Z     {
2025-11-06T18:07:48.5645936Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.5646553Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.5647201Z       status: [32m'active'[39m,
2025-11-06T18:07:48.5647812Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5648260Z     },
2025-11-06T18:07:48.5648593Z     {
2025-11-06T18:07:48.5648984Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.5649770Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.5650723Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.5651369Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.5651809Z     }
2025-11-06T18:07:48.5652093Z   ]
2025-11-06T18:07:48.5652371Z }
2025-11-06T18:07:48.5652832Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.5653349Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.5653832Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.5654325Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.5654757Z   start: [33m0[39m,
2025-11-06T18:07:48.5655185Z   end: [33m20[39m,
2025-11-06T18:07:48.5655685Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.5656162Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.5656523Z }
2025-11-06T18:07:48.5656688Z 
2025-11-06T18:07:48.6187367Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mutilities[2m > [22m[2mshould refresh conversations
2025-11-06T18:07:48.6190375Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mutilities[2m > [22m[2mshould refresh conversations
2025-11-06T18:07:48.6195764Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.6198931Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.6201141Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.6204223Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.6205587Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.6206140Z   count: [33m2[39m,
2025-11-06T18:07:48.6206646Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.6207119Z   conversations: [
2025-11-06T18:07:48.6207461Z     {
2025-11-06T18:07:48.6207885Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.6208466Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.6209051Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6209649Z     },
2025-11-06T18:07:48.6209935Z     {
2025-11-06T18:07:48.6210313Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.6210903Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.6211476Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6211881Z     }
2025-11-06T18:07:48.6212149Z   ]
2025-11-06T18:07:48.6212418Z }
2025-11-06T18:07:48.6212893Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.6213385Z   count: [33m2[39m,
2025-11-06T18:07:48.6213722Z   filters: {},
2025-11-06T18:07:48.6214186Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.6214629Z   conversations: [
2025-11-06T18:07:48.6214944Z     {
2025-11-06T18:07:48.6215298Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.6215826Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.6216370Z       status: [32m'active'[39m,
2025-11-06T18:07:48.6216918Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6217369Z     },
2025-11-06T18:07:48.6217670Z     {
2025-11-06T18:07:48.6218092Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.6218714Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.6219456Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.6220001Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6220401Z     }
2025-11-06T18:07:48.6220668Z   ]
2025-11-06T18:07:48.6220931Z }
2025-11-06T18:07:48.6221377Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.6221881Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.6222326Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.6222771Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.6223180Z   start: [33m0[39m,
2025-11-06T18:07:48.6223565Z   end: [33m20[39m,
2025-11-06T18:07:48.6224013Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.6224465Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.6224822Z }
2025-11-06T18:07:48.6224974Z 
2025-11-06T18:07:48.6225397Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.6226867Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.6228820Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.6231022Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.6233738Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.6235593Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.6237399Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.6238183Z 
2025-11-06T18:07:48.6708337Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mutilities[2m > [22m[2mshould refresh conversations
2025-11-06T18:07:48.6710089Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.6710755Z   count: [33m2[39m,
2025-11-06T18:07:48.6711330Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.6712216Z   conversations: [
2025-11-06T18:07:48.6712777Z     {
2025-11-06T18:07:48.6713212Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.6713805Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.6714442Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6714877Z     },
2025-11-06T18:07:48.6715167Z     {
2025-11-06T18:07:48.6715552Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.6716099Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.6716725Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6717161Z     }
2025-11-06T18:07:48.6717455Z   ]
2025-11-06T18:07:48.6717756Z }
2025-11-06T18:07:48.6718285Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.6718860Z   count: [33m2[39m,
2025-11-06T18:07:48.6719242Z   filters: {},
2025-11-06T18:07:48.6719994Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.6720471Z   conversations: [
2025-11-06T18:07:48.6720809Z     {
2025-11-06T18:07:48.6721184Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.6721765Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.6722352Z       status: [32m'active'[39m,
2025-11-06T18:07:48.6722896Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6723320Z     },
2025-11-06T18:07:48.6723605Z     {
2025-11-06T18:07:48.6723979Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.6724530Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.6725117Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.6725668Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6726086Z     }
2025-11-06T18:07:48.6726370Z   ]
2025-11-06T18:07:48.6726653Z }
2025-11-06T18:07:48.6727110Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.6727609Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.6728069Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.6728518Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.6728962Z   start: [33m0[39m,
2025-11-06T18:07:48.6729596Z   end: [33m20[39m,
2025-11-06T18:07:48.6730118Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.6730678Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.6731047Z }
2025-11-06T18:07:48.6732519Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mutilities[2m > [22m[2mshould refresh conversations
2025-11-06T18:07:48.6734379Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.6735827Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.6737327Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.6739090Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.6740328Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.6741883Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.6743874Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.6745862Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.6747886Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.6750045Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.6752052Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.6752942Z 
2025-11-06T18:07:48.6752959Z 
2025-11-06T18:07:48.6815818Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconfiguration[2m > [22m[2mshould respect configuration options
2025-11-06T18:07:48.6818688Z [90mstderr[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mconfiguration[2m > [22m[2mshould respect configuration options
2025-11-06T18:07:48.6820551Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.6821960Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors du chargement depuis Supabase, utilisation de localStorage Error: Storage error
2025-11-06T18:07:48.6822920Z   count: [33m2[39m,
2025-11-06T18:07:48.6824058Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useConversations.test.ts:101:7
2025-11-06T18:07:48.6825192Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.6826547Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:48.6827462Z   conversations: [
2025-11-06T18:07:48.6827821Z     {
2025-11-06T18:07:48.6828281Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.6828935Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.6829799Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6830225Z     },
2025-11-06T18:07:48.6830501Z     {
2025-11-06T18:07:48.6830900Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.6831491Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.6832170Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6832627Z     }
2025-11-06T18:07:48.6832940Z   ]
2025-11-06T18:07:48.6833246Z }
2025-11-06T18:07:48.6833802Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.6834383Z   count: [33m2[39m,
2025-11-06T18:07:48.6834772Z   filters: {},
2025-11-06T18:07:48.6835295Z   currentUserId: [32m'test-user-id'[39m,
2025-11-06T18:07:48.6835784Z   conversations: [
2025-11-06T18:07:48.6836142Z     {
2025-11-06T18:07:48.6836601Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.6837221Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.6837858Z       status: [32m'active'[39m,
2025-11-06T18:07:48.6838441Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6838873Z     },
2025-11-06T18:07:48.6839166Z     {
2025-11-06T18:07:48.6839748Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.6840306Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.6840884Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.6841451Z       userId: [32m'test-user-id'[39m
2025-11-06T18:07:48.6841900Z     }
2025-11-06T18:07:48.6842209Z   ]
2025-11-06T18:07:48.6842510Z }
2025-11-06T18:07:48.6843027Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.6843583Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.6844117Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.6844612Z   pageSize: [33m10[39m,
2025-11-06T18:07:48.6845090Z   start: [33m0[39m,
2025-11-06T18:07:48.6845534Z   end: [33m10[39m,
2025-11-06T18:07:48.6846078Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.6846642Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.6847045Z }
2025-11-06T18:07:48.6847218Z 
2025-11-06T18:07:48.6848469Z     at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:48.6849874Z     at new Promise (<anonymous>)
2025-11-06T18:07:48.6851522Z     at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:48.6853688Z     at runHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1436:51[90m)[39m
2025-11-06T18:07:48.6855943Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1442:25[90m)[39m
2025-11-06T18:07:48.6858476Z     at callSuiteHook [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1429:21[90m)[39m
2025-11-06T18:07:48.6861070Z     at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1566:26[90m)[39m
2025-11-06T18:07:48.6863151Z     at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:48.6864163Z 
2025-11-06T18:07:48.7406770Z [90mstdout[2m | src/hooks/__tests__/useConversations.test.ts[2m > [22m[2museConversations[2m > [22m[2mguest mode[2m > [22m[2mshould work without authenticated user
2025-11-06T18:07:48.7408423Z [22m[39müêõ ‚ÑπÔ∏è Conversations charg√©es (apr√®s merge) {
2025-11-06T18:07:48.7409100Z   count: [33m2[39m,
2025-11-06T18:07:48.7409886Z   currentUserId: [32m'guest'[39m,
2025-11-06T18:07:48.7410381Z   conversations: [
2025-11-06T18:07:48.7411375Z     { id: [32m'conv-1'[39m, title: [32m'Test Conversation 1'[39m, userId: [90mundefined[39m },
2025-11-06T18:07:48.7412653Z     { id: [32m'conv-2'[39m, title: [32m'Test Conversation 2'[39m, userId: [90mundefined[39m }
2025-11-06T18:07:48.7413354Z   ]
2025-11-06T18:07:48.7413654Z }
2025-11-06T18:07:48.7414152Z üêõ ‚ÑπÔ∏è Conversations apr√®s filtrage {
2025-11-06T18:07:48.7414732Z   count: [33m2[39m,
2025-11-06T18:07:48.7415116Z   filters: {},
2025-11-06T18:07:48.7415612Z   currentUserId: [32m'guest'[39m,
2025-11-06T18:07:48.7416082Z   conversations: [
2025-11-06T18:07:48.7416445Z     {
2025-11-06T18:07:48.7416898Z       id: [32m'conv-1'[39m,
2025-11-06T18:07:48.7417525Z       title: [32m'Test Conversation 1'[39m,
2025-11-06T18:07:48.7418146Z       status: [32m'active'[39m,
2025-11-06T18:07:48.7418737Z       userId: [90mundefined[39m
2025-11-06T18:07:48.7419170Z     },
2025-11-06T18:07:48.7419888Z     {
2025-11-06T18:07:48.7420349Z       id: [32m'conv-2'[39m,
2025-11-06T18:07:48.7420983Z       title: [32m'Test Conversation 2'[39m,
2025-11-06T18:07:48.7421652Z       status: [32m'completed'[39m,
2025-11-06T18:07:48.7422268Z       userId: [90mundefined[39m
2025-11-06T18:07:48.7422730Z     }
2025-11-06T18:07:48.7423052Z   ]
2025-11-06T18:07:48.7423367Z }
2025-11-06T18:07:48.7423898Z üêõ ‚ÑπÔ∏è Conversations pagin√©es {
2025-11-06T18:07:48.7424432Z   totalCount: [33m2[39m,
2025-11-06T18:07:48.7424966Z   pageParam: [33m0[39m,
2025-11-06T18:07:48.7425464Z   pageSize: [33m20[39m,
2025-11-06T18:07:48.7425921Z   start: [33m0[39m,
2025-11-06T18:07:48.7428029Z   end: [33m20[39m,
2025-11-06T18:07:48.7428597Z   paginatedCount: [33m2[39m,
2025-11-06T18:07:48.7429161Z   hasMore: [33mfalse[39m
2025-11-06T18:07:48.7429748Z }
2025-11-06T18:07:48.7429927Z 
2025-11-06T18:07:48.7747591Z [90mstderr[2m | src/components/conversations/__tests__/ConversationActions.test.tsx[2m > [22m[2mConversationActions[2m > [22m[2mDelete Dialog[2m > [22m[2mcalls onDelete when confirm button is clicked
2025-11-06T18:07:48.7749120Z [22m[39mWarning: validateDOMNesting(...): <div> cannot appear as a descendant of <p>.
2025-11-06T18:07:48.7749788Z     at div
2025-11-06T18:07:48.7749994Z     at p
2025-11-06T18:07:48.7750491Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-primitive/dist/index.mjs:26:13
2025-11-06T18:07:48.7751256Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-dialog/dist/index.mjs:252:13
2025-11-06T18:07:48.7752004Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-alert-dialog/dist/index.mjs:98:11
2025-11-06T18:07:48.7752682Z     at /home/runner/work/DooDates/DooDates/src/components/ui/alert-dialog.tsx:81:82
2025-11-06T18:07:48.7753076Z     at div
2025-11-06T18:07:48.7753540Z     at AlertDialogHeader (/home/runner/work/DooDates/DooDates/src/components/ui/alert-dialog.tsx:53:30)
2025-11-06T18:07:48.7754321Z     at Slottable (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-slot/dist/index.mjs:37:20)
2025-11-06T18:07:48.7754798Z     at div
2025-11-06T18:07:48.7755827Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-primitive/dist/index.mjs:26:13
2025-11-06T18:07:48.7757491Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs:24:7
2025-11-06T18:07:48.7758946Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-slot/dist/index.mjs:25:11
2025-11-06T18:07:48.7760486Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-slot/dist/index.mjs:6:11
2025-11-06T18:07:48.7761858Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-primitive/dist/index.mjs:26:13
2025-11-06T18:07:48.7763257Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-focus-scope/dist/index.mjs:15:5
2025-11-06T18:07:48.7764625Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-dialog/dist/index.mjs:204:13
2025-11-06T18:07:48.7765969Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-dialog/dist/index.mjs:130:58
2025-11-06T18:07:48.7767433Z     at Presence (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-presence/dist/index.mjs:19:11)
2025-11-06T18:07:48.7768889Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-dialog/dist/index.mjs:121:64
2025-11-06T18:07:48.7770561Z     at Provider (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-context/dist/index.mjs:27:15)
2025-11-06T18:07:48.7772103Z     at Provider (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-context/dist/index.mjs:7:13)
2025-11-06T18:07:48.7773580Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-alert-dialog/dist/index.mjs:52:13
2025-11-06T18:07:48.7774997Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-slot/dist/index.mjs:25:11
2025-11-06T18:07:48.7776319Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-slot/dist/index.mjs:6:11
2025-11-06T18:07:48.7777670Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-primitive/dist/index.mjs:26:13
2025-11-06T18:07:48.7779062Z     at file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-portal/dist/index.mjs:11:22
2025-11-06T18:07:48.7780741Z     at Presence (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-presence/dist/index.mjs:19:11)
2025-11-06T18:07:48.7782279Z     at Provider (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-context/dist/index.mjs:27:15)
2025-11-06T18:07:48.7783855Z     at DialogPortal (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-dialog/dist/index.mjs:84:11)
2025-11-06T18:07:48.7785492Z     at AlertDialogPortal (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-alert-dialog/dist/index.mjs:34:11)
2025-11-06T18:07:48.7786888Z     at /home/runner/work/DooDates/DooDates/src/components/ui/alert-dialog.tsx:30:78
2025-11-06T18:07:48.7788257Z     at Provider (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-context/dist/index.mjs:27:15)
2025-11-06T18:07:48.7789933Z     at Dialog (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-dialog/dist/index.mjs:25:5)
2025-11-06T18:07:48.7791508Z     at AlertDialog (file:///home/runner/work/DooDates/DooDates/node_modules/@radix-ui/react-alert-dialog/dist/index.mjs:18:11)
2025-11-06T18:07:48.7793138Z     at DeleteDialog (/home/runner/work/DooDates/DooDates/src/components/conversations/ConversationActions.tsx:162:25)
2025-11-06T18:07:48.7794160Z     at div
2025-11-06T18:07:48.7795233Z     at ConversationActions (/home/runner/work/DooDates/DooDates/src/components/conversations/ConversationActions.tsx:275:32)
2025-11-06T18:07:48.7796170Z 
2025-11-06T18:07:48.8005930Z  [32m‚úì[39m src/hooks/__tests__/useConversations.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 976[2mms[22m[39m
2025-11-06T18:07:49.2844431Z  [32m‚úì[39m src/hooks/__tests__/useAnalyticsQuota.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 113[2mms[22m[39m
2025-11-06T18:07:49.4508164Z  [32m‚úì[39m src/lib/storage/__tests__/statsStorage.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 20[2mms[22m[39m
2025-11-06T18:07:49.7759253Z  [32m‚úì[39m src/components/conversations/__tests__/ConversationActions.test.tsx [2m([22m[2m28 tests[22m[2m | [22m[33m3 skipped[39m[2m)[22m[33m 3442[2mms[22m[39m
2025-11-06T18:07:49.7761581Z    [33m[2m‚úì[22m[39m ConversationActions[2m > [22mRename Dialog[2m > [22mcalls onRename when save button is clicked [33m 429[2mms[22m[39m
2025-11-06T18:07:50.1862504Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_TIMESLOT (Pattern prioritaire)[2m > [22m[2md√©tecte "ajoute 14h-15h le 29"
2025-11-06T18:07:50.1888027Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.1888809Z   message: [32m'ajoute 14h-15h le 29'[39m,
2025-11-06T18:07:50.1889640Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.1890372Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.1891204Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.1891755Z }
2025-11-06T18:07:50.1892228Z ‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Cr√©neau horaire d√©tect√© {
2025-11-06T18:07:50.1892767Z   date: [32m'2025-11-29'[39m,
2025-11-06T18:07:50.1893236Z   start: [32m'14:00'[39m,
2025-11-06T18:07:50.1893684Z   end: [32m'15:00'[39m,
2025-11-06T18:07:50.1894270Z   formatted: [32m'29/11/2025 de 14:00 √† 15:00'[39m
2025-11-06T18:07:50.1894743Z }
2025-11-06T18:07:50.1894910Z 
2025-11-06T18:07:50.1909908Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_TIMESLOT (Pattern prioritaire)[2m > [22m[2msupporte format avec minutes "ajoute 14h30-15h45 le 27"
2025-11-06T18:07:50.1911786Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.1912518Z   message: [32m'ajoute 14h30-15h45 le 27'[39m,
2025-11-06T18:07:50.1913207Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.1913903Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.1914734Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.1915286Z }
2025-11-06T18:07:50.1915762Z ‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Cr√©neau horaire d√©tect√© {
2025-11-06T18:07:50.1916302Z   date: [32m'2025-11-27'[39m,
2025-11-06T18:07:50.1916766Z   start: [32m'14:30'[39m,
2025-11-06T18:07:50.1917213Z   end: [32m'15:45'[39m,
2025-11-06T18:07:50.1917813Z   formatted: [32m'27/11/2025 de 14:30 √† 15:45'[39m
2025-11-06T18:07:50.1918284Z }
2025-11-06T18:07:50.1918456Z 
2025-11-06T18:07:50.1945138Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_TIMESLOT (Pattern prioritaire)[2m > [22m[2msupporte format sans "h" : "ajoute 14:00-15:00 le 29"
2025-11-06T18:07:50.1947291Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.1948233Z   message: [32m'ajoute 14:00-15:00 le 29'[39m,
2025-11-06T18:07:50.1949051Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.1950107Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.1951119Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.1951781Z }
2025-11-06T18:07:50.1952372Z ‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Cr√©neau horaire d√©tect√© {
2025-11-06T18:07:50.1953057Z   date: [32m'2025-11-29'[39m,
2025-11-06T18:07:50.1953840Z   start: [32m'00:00'[39m,
2025-11-06T18:07:50.1954496Z   end: [32m'01:00'[39m,
2025-11-06T18:07:50.1955228Z   formatted: [32m'29/11/2025 de 00:00 √† 01:00'[39m
2025-11-06T18:07:50.1955807Z }
2025-11-06T18:07:50.1956185Z 
2025-11-06T18:07:50.1958198Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_TIMESLOT (Pattern prioritaire)[2m > [22m[2mnormalise la date partielle "le 29" vers mois courant
2025-11-06T18:07:50.1960724Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.1961810Z   message: [32m'ajoute 14h-15h le 29'[39m,
2025-11-06T18:07:50.1962568Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.1963353Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.1964308Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.1965027Z }
2025-11-06T18:07:50.1965651Z ‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Cr√©neau horaire d√©tect√© {
2025-11-06T18:07:50.1966300Z   date: [32m'2025-11-29'[39m,
2025-11-06T18:07:50.1966939Z   start: [32m'14:00'[39m,
2025-11-06T18:07:50.1967578Z   end: [32m'15:00'[39m,
2025-11-06T18:07:50.1968335Z   formatted: [32m'29/11/2025 de 14:00 √† 15:00'[39m
2025-11-06T18:07:50.1968924Z }
2025-11-06T18:07:50.1969187Z 
2025-11-06T18:07:50.2044402Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "ajouter mercredi" (prochain mercredi)
2025-11-06T18:07:50.2046393Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.2047090Z   message: [32m'ajouter mercredi'[39m,
2025-11-06T18:07:50.2047653Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.2048275Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.2049042Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.2049743Z }
2025-11-06T18:07:50.2050321Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîß Jour de la semaine simple d√©tect√© et am√©lior√© {
2025-11-06T18:07:50.2050969Z   original: [32m'ajouter mercredi'[39m,
2025-11-06T18:07:50.2051603Z   enhanced: [32m'ajouter mercredi prochain'[39m,
2025-11-06T18:07:50.2052177Z   weekday: [32m'mercredi'[39m
2025-11-06T18:07:50.2052546Z }
2025-11-06T18:07:50.2052693Z 
2025-11-06T18:07:50.3712351Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "ajouter mercredi" (prochain mercredi)
2025-11-06T18:07:50.3714432Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.3715299Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.3716490Z   input: { message: [32m'ajouter mercredi'[39m, chronoText: [32m'mercredi prochain'[39m },
2025-11-06T18:07:50.3717927Z   output: { date: [32m'2025-11-19'[39m, formatted: [32m'19/11/2025'[39m },
2025-11-06T18:07:50.3718806Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.3719616Z }
2025-11-06T18:07:50.3719894Z 
2025-11-06T18:07:50.3739766Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "ajoute lundi"
2025-11-06T18:07:50.3741711Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.3742555Z   message: [32m'ajoute lundi'[39m,
2025-11-06T18:07:50.3743299Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.3744097Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.3745190Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.3745982Z }
2025-11-06T18:07:50.3746809Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîß Jour de la semaine simple d√©tect√© et am√©lior√© {
2025-11-06T18:07:50.3747641Z   original: [32m'ajoute lundi'[39m,
2025-11-06T18:07:50.3748441Z   enhanced: [32m'ajoute lundi prochain'[39m,
2025-11-06T18:07:50.3749147Z   weekday: [32m'lundi'[39m
2025-11-06T18:07:50.3749856Z }
2025-11-06T18:07:50.3750079Z 
2025-11-06T18:07:50.3801234Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "ajoute lundi"
2025-11-06T18:07:50.3802972Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.3803725Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.3820721Z   input: { message: [32m'ajoute lundi'[39m, chronoText: [32m'lundi prochain'[39m },
2025-11-06T18:07:50.3822781Z   output: { date: [32m'2025-11-17'[39m, formatted: [32m'17/11/2025'[39m },
2025-11-06T18:07:50.3841413Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.3841858Z }
2025-11-06T18:07:50.3842041Z 
2025-11-06T18:07:50.3843768Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "ajoute le dimanche"
2025-11-06T18:07:50.3845510Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.3846272Z   message: [32m'ajoute le dimanche'[39m,
2025-11-06T18:07:50.3846936Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.3847973Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.3849248Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.3948261Z }
2025-11-06T18:07:50.3949039Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîß Jour de la semaine simple d√©tect√© et am√©lior√© {
2025-11-06T18:07:50.3950091Z   original: [32m'ajoute le dimanche'[39m,
2025-11-06T18:07:50.3950861Z   enhanced: [32m'ajoute dimanche prochain'[39m,
2025-11-06T18:07:50.3951577Z   weekday: [32m'dimanche'[39m
2025-11-06T18:07:50.3951989Z }
2025-11-06T18:07:50.3952161Z 
2025-11-06T18:07:50.3953819Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "ajoute le dimanche"
2025-11-06T18:07:50.3955530Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.3956190Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.3957133Z   input: { message: [32m'ajoute le dimanche'[39m, chronoText: [32m'dimanche prochain'[39m },
2025-11-06T18:07:50.3958176Z   output: { date: [32m'2025-11-23'[39m, formatted: [32m'23/11/2025'[39m },
2025-11-06T18:07:50.3958822Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.3959463Z }
2025-11-06T18:07:50.3959650Z 
2025-11-06T18:07:50.3961544Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2md√©tecte "ajoute le DD/MM/YYYY" (format complet)
2025-11-06T18:07:50.3963402Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.3964133Z   message: [32m'ajoute le 09/11/2025'[39m,
2025-11-06T18:07:50.3964817Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.3965587Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.3966493Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.3967065Z }
2025-11-06T18:07:50.3967244Z 
2025-11-06T18:07:50.3969045Z [90mstderr[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "retire mercredi"
2025-11-06T18:07:50.3971890Z [22m[39m‚ö†Ô∏è Jour de la semaine non trouv√© dans les dates existantes { weekday: [32m'mercredi'[39m, existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ] }
2025-11-06T18:07:50.3972826Z 
2025-11-06T18:07:50.3974728Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2md√©tecte "ajoute le DD/MM/YYYY" (format complet)
2025-11-06T18:07:50.3976540Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.3977252Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.3978208Z   input: { message: [32m'ajoute le 09/11/2025'[39m, chronoText: [32m'09/11/2025'[39m },
2025-11-06T18:07:50.4000632Z   output: { date: [32m'2025-11-09'[39m, formatted: [32m'09/11/2025'[39m },
2025-11-06T18:07:50.4001472Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4001876Z }
2025-11-06T18:07:50.4002061Z 
2025-11-06T18:07:50.4003805Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2md√©tecte "ajoute le 27" (jour seul)
2025-11-06T18:07:50.4011320Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4012336Z   message: [32m'ajoute le 27'[39m,
2025-11-06T18:07:50.4013017Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4028413Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4029579Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4030204Z }
2025-11-06T18:07:50.4030820Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîß Jour seul d√©tect√© et am√©lior√© {
2025-11-06T18:07:50.4031491Z   original: [32m'ajoute le 27'[39m,
2025-11-06T18:07:50.4032223Z   enhanced: [32m'ajoute le 27 novembre 2025'[39m,
2025-11-06T18:07:50.4032843Z   day: [33m27[39m,
2025-11-06T18:07:50.4033419Z   referenceMonth: [32m'novembre'[39m,
2025-11-06T18:07:50.4034056Z   referenceYear: [33m2025[39m
2025-11-06T18:07:50.4034503Z }
2025-11-06T18:07:50.4034692Z 
2025-11-06T18:07:50.4036454Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2md√©tecte "ajoute le 27" (jour seul)
2025-11-06T18:07:50.4038191Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4038893Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.4040044Z   input: { message: [32m'ajoute le 27'[39m, chronoText: [32m'27 novembre 2025'[39m },
2025-11-06T18:07:50.4051368Z   output: { date: [32m'2025-11-27'[39m, formatted: [32m'27/11/2025'[39m },
2025-11-06T18:07:50.4052232Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4052667Z }
2025-11-06T18:07:50.4052849Z 
2025-11-06T18:07:50.4054661Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2md√©tecte "ajoute le 27/10" (sans ann√©e)
2025-11-06T18:07:50.4056466Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4057248Z   message: [32m'ajoute le 27/10'[39m,
2025-11-06T18:07:50.4057919Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4058727Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4070118Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4070699Z }
2025-11-06T18:07:50.4070883Z 
2025-11-06T18:07:50.4075741Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2md√©tecte "ajoute le 27/10" (sans ann√©e)
2025-11-06T18:07:50.4091658Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4092404Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.4093296Z   input: { message: [32m'ajoute le 27/10'[39m, chronoText: [32m'27/10'[39m },
2025-11-06T18:07:50.4094351Z   output: { date: [32m'2026-10-27'[39m, formatted: [32m'27/10/2026'[39m },
2025-11-06T18:07:50.4095079Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4095492Z }
2025-11-06T18:07:50.4095673Z 
2025-11-06T18:07:50.4097532Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2md√©tecte "ajoute le DD mois YYYY" (mois en texte)
2025-11-06T18:07:50.4099583Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4100384Z   message: [32m'ajoute le 9 novembre 2025'[39m,
2025-11-06T18:07:50.4101028Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4101749Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4102662Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4103246Z }
2025-11-06T18:07:50.4103767Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîß Jour seul d√©tect√© et am√©lior√© {
2025-11-06T18:07:50.4104491Z   original: [32m'ajoute le 9 novembre 2025'[39m,
2025-11-06T18:07:50.4105304Z   enhanced: [32m'ajoute le 9 novembre 2025 novembre 2025'[39m,
2025-11-06T18:07:50.4105967Z   day: [33m9[39m,
2025-11-06T18:07:50.4106487Z   referenceMonth: [32m'novembre'[39m,
2025-11-06T18:07:50.4107120Z   referenceYear: [33m2025[39m
2025-11-06T18:07:50.4107826Z }
2025-11-06T18:07:50.4108180Z 
2025-11-06T18:07:50.4112229Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2md√©tecte "ajoute le DD mois YYYY" (mois en texte)
2025-11-06T18:07:50.4114011Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4114693Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.4115134Z   input: {
2025-11-06T18:07:50.4115716Z     message: [32m'ajoute le 9 novembre 2025'[39m,
2025-11-06T18:07:50.4116400Z     chronoText: [32m'9 novembre 2025'[39m
2025-11-06T18:07:50.4116862Z   },
2025-11-06T18:07:50.4117595Z   output: { date: [32m'2025-11-09'[39m, formatted: [32m'09/11/2025'[39m },
2025-11-06T18:07:50.4118283Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4118678Z }
2025-11-06T18:07:50.4118863Z 
2025-11-06T18:07:50.4120886Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2md√©tecte "ajoute le YYYY-MM-DD" (format ISO)
2025-11-06T18:07:50.4122684Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4123456Z   message: [32m'ajoute le 2025-11-09'[39m,
2025-11-06T18:07:50.4124119Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4124824Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4125679Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4126237Z }
2025-11-06T18:07:50.4126410Z 
2025-11-06T18:07:50.4128202Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2md√©tecte "ajoute le YYYY-MM-DD" (format ISO)
2025-11-06T18:07:50.4130166Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4130854Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.4131806Z   input: { message: [32m'ajoute le 2025-11-09'[39m, chronoText: [32m'2025-11-09'[39m },
2025-11-06T18:07:50.4132864Z   output: { date: [32m'2025-11-09'[39m, formatted: [32m'09/11/2025'[39m },
2025-11-06T18:07:50.4133595Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4133991Z }
2025-11-06T18:07:50.4134173Z 
2025-11-06T18:07:50.4135868Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2msupporte "ajouter" au lieu de "ajoute"
2025-11-06T18:07:50.4138640Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4139480Z   message: [32m'ajouter le 30'[39m,
2025-11-06T18:07:50.4140092Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4140780Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4141611Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4142202Z }
2025-11-06T18:07:50.4142770Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîß Jour seul d√©tect√© et am√©lior√© {
2025-11-06T18:07:50.4143483Z   original: [32m'ajouter le 30'[39m,
2025-11-06T18:07:50.4144243Z   enhanced: [32m'ajouter le 30 novembre 2025'[39m,
2025-11-06T18:07:50.4144852Z   day: [33m30[39m,
2025-11-06T18:07:50.4145389Z   referenceMonth: [32m'novembre'[39m,
2025-11-06T18:07:50.4145991Z   referenceYear: [33m2025[39m
2025-11-06T18:07:50.4146424Z }
2025-11-06T18:07:50.4146608Z 
2025-11-06T18:07:50.4148361Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mADD_DATE (Formats multiples)[2m > [22m[2msupporte "ajouter" au lieu de "ajoute"
2025-11-06T18:07:50.4150307Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4150968Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.4151845Z   input: { message: [32m'ajouter le 30'[39m, chronoText: [32m'30 novembre 2025'[39m },
2025-11-06T18:07:50.4152886Z   output: { date: [32m'2025-11-30'[39m, formatted: [32m'30/11/2025'[39m },
2025-11-06T18:07:50.4153849Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4154442Z }
2025-11-06T18:07:50.4154626Z 
2025-11-06T18:07:50.4156341Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "retire mercredi"
2025-11-06T18:07:50.4158022Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4158754Z   message: [32m'retire mercredi'[39m,
2025-11-06T18:07:50.4159625Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4160388Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4161286Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4161871Z }
2025-11-06T18:07:50.4162615Z üîç Recherche jour de la semaine dans dates existantes (REMOVE) {
2025-11-06T18:07:50.4163401Z   message: [32m'retire mercredi'[39m,
2025-11-06T18:07:50.4164030Z   weekday: [32m'mercredi'[39m,
2025-11-06T18:07:50.4164802Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4165403Z }
2025-11-06T18:07:50.4165583Z 
2025-11-06T18:07:50.4167202Z [90mstderr[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mEdge cases[2m > [22m[2mretourne null si message non reconnu
2025-11-06T18:07:50.4168950Z [22m[39m‚ö†Ô∏è ‚ÑπÔ∏è ‚ùå Aucune action d√©tect√©e { message: [32m'blabla random'[39m }
2025-11-06T18:07:50.4169687Z 
2025-11-06T18:07:50.4171185Z [90mstderr[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mEdge cases[2m > [22m[2mretourne null pour message vide
2025-11-06T18:07:50.4172841Z [22m[39m‚ö†Ô∏è ‚ÑπÔ∏è ‚ùå Aucune action d√©tect√©e { message: [32m''[39m }
2025-11-06T18:07:50.4173300Z 
2025-11-06T18:07:50.4175009Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "retire mercredi"
2025-11-06T18:07:50.4176731Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4177445Z   action: [32m'REMOVE_DATE'[39m,
2025-11-06T18:07:50.4178347Z   input: { message: [32m'retire mercredi'[39m, chronoText: [32m'mercredi'[39m },
2025-11-06T18:07:50.4179599Z   output: { date: [32m'2025-11-12'[39m, formatted: [32m'12/11/2025'[39m },
2025-11-06T18:07:50.4180317Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4180721Z }
2025-11-06T18:07:50.4181937Z üîç Chrono a trouv√© une date pour REMOVE { chronoDate: [32m'2025-11-12'[39m, isInPoll: [33mfalse[39m, weekday: [32m'mercredi'[39m }
2025-11-06T18:07:50.4183848Z ‚ö†Ô∏è Date Chrono hors sondage, recherche dans dates existantes { chronoDate: [32m'2025-11-12'[39m, weekday: [32m'mercredi'[39m }
2025-11-06T18:07:50.4184648Z 
2025-11-06T18:07:50.4186393Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "supprime le lundi"
2025-11-06T18:07:50.4188118Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4188857Z   message: [32m'supprime le lundi'[39m,
2025-11-06T18:07:50.4189751Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4190502Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4191395Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4191987Z }
2025-11-06T18:07:50.4192805Z üîç Recherche jour de la semaine dans dates existantes (REMOVE) {
2025-11-06T18:07:50.4193611Z   message: [32m'supprime le lundi'[39m,
2025-11-06T18:07:50.4194201Z   weekday: [32m'lundi'[39m,
2025-11-06T18:07:50.4194951Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4195529Z }
2025-11-06T18:07:50.4196733Z ‚úÖ Jour de la semaine trouv√© dans les dates existantes (REMOVE) { weekday: [32m'lundi'[39m, date: [32m'2025-11-10'[39m }
2025-11-06T18:07:50.4197525Z 
2025-11-06T18:07:50.4199602Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Jours de la semaine)[2m > [22m[2md√©tecte "enl√®ve mardi"
2025-11-06T18:07:50.4201491Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4202227Z   message: [32m'enl√®ve mardi'[39m,
2025-11-06T18:07:50.4202851Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4203589Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4204496Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4205079Z }
2025-11-06T18:07:50.4205837Z üîç Recherche jour de la semaine dans dates existantes (REMOVE) {
2025-11-06T18:07:50.4206597Z   message: [32m'enl√®ve mardi'[39m,
2025-11-06T18:07:50.4207159Z   weekday: [32m'mardi'[39m,
2025-11-06T18:07:50.4207936Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4208521Z }
2025-11-06T18:07:50.4210052Z ‚úÖ Jour de la semaine trouv√© dans les dates existantes (REMOVE) { weekday: [32m'mardi'[39m, date: [32m'2025-11-11'[39m }
2025-11-06T18:07:50.4210825Z 
2025-11-06T18:07:50.4212513Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Formats multiples)[2m > [22m[2md√©tecte "retire le 29"
2025-11-06T18:07:50.4214198Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4214919Z   message: [32m'retire le 29'[39m,
2025-11-06T18:07:50.4215546Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4216264Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4217144Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4217721Z }
2025-11-06T18:07:50.4218203Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîß Jour seul d√©tect√© et am√©lior√© {
2025-11-06T18:07:50.4218823Z   original: [32m'retire le 29'[39m,
2025-11-06T18:07:50.4219715Z   enhanced: [32m'retire le 29 novembre 2025'[39m,
2025-11-06T18:07:50.4220327Z   day: [33m29[39m,
2025-11-06T18:07:50.4220871Z   referenceMonth: [32m'novembre'[39m,
2025-11-06T18:07:50.4221491Z   referenceYear: [33m2025[39m
2025-11-06T18:07:50.4221910Z }
2025-11-06T18:07:50.4222093Z 
2025-11-06T18:07:50.4223733Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Formats multiples)[2m > [22m[2md√©tecte "retire le 29"
2025-11-06T18:07:50.4225392Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4226047Z   action: [32m'REMOVE_DATE'[39m,
2025-11-06T18:07:50.4226961Z   input: { message: [32m'retire le 29'[39m, chronoText: [32m'29 novembre 2025'[39m },
2025-11-06T18:07:50.4228033Z   output: { date: [32m'2025-11-29'[39m, formatted: [32m'29/11/2025'[39m },
2025-11-06T18:07:50.4228765Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4229171Z }
2025-11-06T18:07:50.4229546Z 
2025-11-06T18:07:50.4231342Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Formats multiples)[2m > [22m[2md√©tecte "supprime le DD/MM/YYYY"
2025-11-06T18:07:50.4233029Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4233810Z   message: [32m'supprime le 09/11/2025'[39m,
2025-11-06T18:07:50.4234470Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4235147Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4236032Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4236606Z }
2025-11-06T18:07:50.4236793Z 
2025-11-06T18:07:50.4238553Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Formats multiples)[2m > [22m[2md√©tecte "supprime le DD/MM/YYYY"
2025-11-06T18:07:50.4240432Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4241314Z   action: [32m'REMOVE_DATE'[39m,
2025-11-06T18:07:50.4242562Z   input: { message: [32m'supprime le 09/11/2025'[39m, chronoText: [32m'09/11/2025'[39m },
2025-11-06T18:07:50.4243819Z   output: { date: [32m'2025-11-09'[39m, formatted: [32m'09/11/2025'[39m },
2025-11-06T18:07:50.4244512Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4244931Z }
2025-11-06T18:07:50.4245101Z 
2025-11-06T18:07:50.4246833Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Formats multiples)[2m > [22m[2md√©tecte "enl√®ve le DD mois YYYY"
2025-11-06T18:07:50.4248502Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4249484Z   message: [32m'enl√®ve le 9 novembre 2025'[39m,
2025-11-06T18:07:50.4250167Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4250888Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4251771Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4252339Z }
2025-11-06T18:07:50.4252910Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîß Jour seul d√©tect√© et am√©lior√© {
2025-11-06T18:07:50.4253659Z   original: [32m'enl√®ve le 9 novembre 2025'[39m,
2025-11-06T18:07:50.4254495Z   enhanced: [32m'enl√®ve le 9 novembre 2025 novembre 2025'[39m,
2025-11-06T18:07:50.4255168Z   day: [33m9[39m,
2025-11-06T18:07:50.4255700Z   referenceMonth: [32m'novembre'[39m,
2025-11-06T18:07:50.4256308Z   referenceYear: [33m2025[39m
2025-11-06T18:07:50.4256739Z }
2025-11-06T18:07:50.4256913Z 
2025-11-06T18:07:50.4258678Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mREMOVE_DATE (Formats multiples)[2m > [22m[2md√©tecte "enl√®ve le DD mois YYYY"
2025-11-06T18:07:50.4260575Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4261208Z   action: [32m'REMOVE_DATE'[39m,
2025-11-06T18:07:50.4261577Z   input: {
2025-11-06T18:07:50.4262034Z     message: [32m'enl√®ve le 9 novembre 2025'[39m,
2025-11-06T18:07:50.4262593Z     chronoText: [32m'9 novembre 2025'[39m
2025-11-06T18:07:50.4263006Z   },
2025-11-06T18:07:50.4263575Z   output: { date: [32m'2025-11-09'[39m, formatted: [32m'09/11/2025'[39m },
2025-11-06T18:07:50.4264156Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4264489Z }
2025-11-06T18:07:50.4264629Z 
2025-11-06T18:07:50.4265962Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mUPDATE_TITLE[2m > [22m[2md√©tecte "renomme en Nouveau titre"
2025-11-06T18:07:50.4267321Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4267956Z   message: [32m'renomme en Nouveau titre'[39m,
2025-11-06T18:07:50.4268567Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4269187Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4270093Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4270595Z }
2025-11-06T18:07:50.4270762Z 
2025-11-06T18:07:50.4272290Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mUPDATE_TITLE[2m > [22m[2md√©tecte "change le titre en R√©union √©quipe"
2025-11-06T18:07:50.4273674Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4274405Z   message: [32m'change le titre en R√©union √©quipe'[39m,
2025-11-06T18:07:50.4275037Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4275661Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4276426Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4276941Z }
2025-11-06T18:07:50.4277111Z 
2025-11-06T18:07:50.4278619Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mUPDATE_TITLE[2m > [22m[2msupporte les titres avec caract√®res sp√©ciaux
2025-11-06T18:07:50.4280391Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4281101Z   message: [32m'renomme en Ap√©ro vendredi üçª'[39m,
2025-11-06T18:07:50.4282117Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4282791Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4293462Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4294072Z }
2025-11-06T18:07:50.4294248Z 
2025-11-06T18:07:50.4295828Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mUPDATE_TITLE[2m > [22m[2mretourne null si titre vide
2025-11-06T18:07:50.4297360Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4298065Z   message: [32m'renomme en    '[39m,
2025-11-06T18:07:50.4298685Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4299586Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4300440Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4300965Z }
2025-11-06T18:07:50.4301122Z 
2025-11-06T18:07:50.4302577Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mEdge cases[2m > [22m[2mretourne null si message non reconnu
2025-11-06T18:07:50.4304004Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4304637Z   message: [32m'blabla random'[39m,
2025-11-06T18:07:50.4305184Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4305807Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4306596Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4307118Z }
2025-11-06T18:07:50.4307267Z 
2025-11-06T18:07:50.4308669Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mEdge cases[2m > [22m[2mretourne null pour message vide
2025-11-06T18:07:50.4310350Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4310903Z   message: [32m''[39m,
2025-11-06T18:07:50.4311412Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4312149Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4313021Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4313585Z }
2025-11-06T18:07:50.4313770Z 
2025-11-06T18:07:50.4315384Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mEdge cases[2m > [22m[2mg√®re les messages avec espaces multiples
2025-11-06T18:07:50.4317029Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4317733Z   message: [32m'ajoute    le    27'[39m,
2025-11-06T18:07:50.4318356Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4319051Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4320099Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4320682Z }
2025-11-06T18:07:50.4321213Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîß Jour seul d√©tect√© et am√©lior√© {
2025-11-06T18:07:50.4321875Z   original: [32m'ajoute    le    27'[39m,
2025-11-06T18:07:50.4322604Z   enhanced: [32m'ajoute    le 27 novembre 2025'[39m,
2025-11-06T18:07:50.4323185Z   day: [33m27[39m,
2025-11-06T18:07:50.4323704Z   referenceMonth: [32m'novembre'[39m,
2025-11-06T18:07:50.4324249Z   referenceYear: [33m2025[39m
2025-11-06T18:07:50.4324595Z }
2025-11-06T18:07:50.4324749Z 
2025-11-06T18:07:50.4326288Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mEdge cases[2m > [22m[2mg√®re les messages avec espaces multiples
2025-11-06T18:07:50.4327860Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4328506Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.4329596Z   input: { message: [32m'ajoute    le    27'[39m, chronoText: [32m'27 novembre 2025'[39m },
2025-11-06T18:07:50.4330691Z   output: { date: [32m'2025-11-27'[39m, formatted: [32m'27/11/2025'[39m },
2025-11-06T18:07:50.4331412Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4332028Z }
2025-11-06T18:07:50.4332412Z 
2025-11-06T18:07:50.4334279Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mPriorit√© des patterns[2m > [22m[2mADD_TIMESLOT a priorit√© sur ADD_DATE pour "14h-15h le 29"
2025-11-06T18:07:50.4336045Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4336760Z   message: [32m'ajoute 14h-15h le 29'[39m,
2025-11-06T18:07:50.4337422Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4338147Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4339044Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4339944Z }
2025-11-06T18:07:50.4340434Z ‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Cr√©neau horaire d√©tect√© {
2025-11-06T18:07:50.4340952Z   date: [32m'2025-11-29'[39m,
2025-11-06T18:07:50.4341399Z   start: [32m'14:00'[39m,
2025-11-06T18:07:50.4341822Z   end: [32m'15:00'[39m,
2025-11-06T18:07:50.4342386Z   formatted: [32m'29/11/2025 de 14:00 √† 15:00'[39m
2025-11-06T18:07:50.4342844Z }
2025-11-06T18:07:50.4343000Z 
2025-11-06T18:07:50.4344684Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mPriorit√© des patterns[2m > [22m[2mADD_DAY a priorit√© sur ADD_DATE pour jours de la semaine
2025-11-06T18:07:50.4346260Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è üîç D√©tection intention de modification {
2025-11-06T18:07:50.4346891Z   message: [32m'ajoute mercredi'[39m,
2025-11-06T18:07:50.4347447Z   pollId: [32m'test-poll-123'[39m,
2025-11-06T18:07:50.4348061Z   pollTitle: [32m'D√©jeuner mardi ou mercredi'[39m,
2025-11-06T18:07:50.4348837Z   existingDates: [ [32m'2025-11-10'[39m, [32m'2025-11-11'[39m ]
2025-11-06T18:07:50.4349516Z }
2025-11-06T18:07:50.4350103Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîß Jour de la semaine simple d√©tect√© et am√©lior√© {
2025-11-06T18:07:50.4350733Z   original: [32m'ajoute mercredi'[39m,
2025-11-06T18:07:50.4351366Z   enhanced: [32m'ajoute mercredi prochain'[39m,
2025-11-06T18:07:50.4351978Z   weekday: [32m'mercredi'[39m
2025-11-06T18:07:50.4352372Z }
2025-11-06T18:07:50.4352531Z 
2025-11-06T18:07:50.4354211Z [90mstdout[2m | src/services/__tests__/IntentDetectionService.test.ts[2m > [22m[2mIntentDetectionService[2m > [22m[2mPriorit√© des patterns[2m > [22m[2mADD_DAY a priorit√© sur ADD_DATE pour jours de la semaine
2025-11-06T18:07:50.4355775Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ Intention d√©tect√©e via Chrono.js {
2025-11-06T18:07:50.4356353Z   action: [32m'ADD_DATE'[39m,
2025-11-06T18:07:50.4357213Z   input: { message: [32m'ajoute mercredi'[39m, chronoText: [32m'mercredi prochain'[39m },
2025-11-06T18:07:50.4358230Z   output: { date: [32m'2025-11-19'[39m, formatted: [32m'19/11/2025'[39m },
2025-11-06T18:07:50.4358859Z   confidence: [33m0.9[39m
2025-11-06T18:07:50.4359265Z }
2025-11-06T18:07:50.4359583Z 
2025-11-06T18:07:50.4360455Z  [32m‚úì[39m src/services/__tests__/IntentDetectionService.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 240[2mms[22m[39m
2025-11-06T18:07:50.5531962Z  [32m‚úì[39m src/lib/services/__tests__/titleGeneration.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 22[2mms[22m[39m
2025-11-06T18:07:51.2038926Z  [32m‚úì[39m src/lib/__tests__/exports.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 29[2mms[22m[39m
2025-11-06T18:07:51.3467082Z  [32m‚úì[39m src/components/polls/__tests__/PollActions.close.test.tsx [2m([22m[2m14 tests[22m[2m)[22m[32m 291[2mms[22m[39m
2025-11-06T18:07:51.7533108Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould redeem a valid beta key successfully
2025-11-06T18:07:51.7538714Z [22m[39müîë [BetaKeyService] Activation cl√©: { userId: [32m'test-user-id'[39m, code: [32m'BETA-TEST-XXXX-YYYY'[39m }
2025-11-06T18:07:51.7543574Z üîë [BetaKeyService] Appel RPC redeem_beta_key via fetch...
2025-11-06T18:07:51.7545646Z 
2025-11-06T18:07:51.7547498Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould redeem a valid beta key successfully
2025-11-06T18:07:51.7550125Z [22m[39müîë [BetaKeyService] R√©ponse redeem: { status: [33m200[39m, statusText: [90mundefined[39m, ok: [33mtrue[39m }
2025-11-06T18:07:51.7589764Z 
2025-11-06T18:07:51.7591438Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould redeem a valid beta key successfully
2025-11-06T18:07:51.7592855Z [22m[39müîë [BetaKeyService] R√©sultat redeem: {
2025-11-06T18:07:51.7593441Z   success: [33mtrue[39m,
2025-11-06T18:07:51.7593907Z   tier: [32m'beta'[39m,
2025-11-06T18:07:51.7594371Z   credits: [33m1000[39m,
2025-11-06T18:07:51.7594946Z   expires_at: [32m'2025-12-31T23:59:59Z'[39m
2025-11-06T18:07:51.7595396Z }
2025-11-06T18:07:51.7595570Z 
2025-11-06T18:07:51.7817903Z [90mstderr[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould return error when no access token is available
2025-11-06T18:07:51.7881037Z [22m[39m‚ö†Ô∏è [BetaKeyService] Impossible de r√©cup√©rer la session, utilisation du token depuis localStorage
2025-11-06T18:07:51.7883021Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould reject an invalid beta key
2025-11-06T18:07:51.7885019Z [22m[39müîë [BetaKeyService] Activation cl√©: { userId: [32m'test-user-id'[39m, code: [32m'INVALID-KEY'[39m }
2025-11-06T18:07:51.7886393Z üîë [BetaKeyService] Appel RPC redeem_beta_key via fetch...
2025-11-06T18:07:51.7887020Z 
2025-11-06T18:07:51.7888421Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould reject an invalid beta key
2025-11-06T18:07:51.7890755Z [22m[39müîë [BetaKeyService] R√©ponse redeem: { status: [33m400[39m, statusText: [90mundefined[39m, ok: [33mfalse[39m }
2025-11-06T18:07:51.7891688Z 
2025-11-06T18:07:51.7894860Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould reject an already used beta key
2025-11-06T18:07:51.7896834Z [22m[39müîë [BetaKeyService] Activation cl√©: { userId: [32m'test-user-id'[39m, code: [32m'BETA-USED-XXXX-YYYY'[39m }
2025-11-06T18:07:51.7898026Z üîë [BetaKeyService] Appel RPC redeem_beta_key via fetch...
2025-11-06T18:07:51.7898432Z 
2025-11-06T18:07:51.7899966Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould reject an already used beta key
2025-11-06T18:07:51.7901863Z [22m[39müîë [BetaKeyService] R√©ponse redeem: { status: [33m409[39m, statusText: [90mundefined[39m, ok: [33mfalse[39m }
2025-11-06T18:07:51.7902571Z 
2025-11-06T18:07:51.7904275Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould handle network errors gracefully
2025-11-06T18:07:51.7906333Z [22m[39müîë [BetaKeyService] Activation cl√©: { userId: [32m'test-user-id'[39m, code: [32m'BETA-TEST-XXXX-YYYY'[39m }
2025-11-06T18:07:51.7907473Z üîë [BetaKeyService] Appel RPC redeem_beta_key via fetch...
2025-11-06T18:07:51.7907868Z 
2025-11-06T18:07:51.7909273Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould normalize beta key codes (uppercase and trim)
2025-11-06T18:07:51.7931825Z [22m[39müîë [BetaKeyService] Activation cl√©: { userId: [32m'test-user-id'[39m, code: [32m'BETA-TEST-XXXX-YYYY'[39m }
2025-11-06T18:07:51.7933001Z üîë [BetaKeyService] Appel RPC redeem_beta_key via fetch...
2025-11-06T18:07:51.7933414Z 
2025-11-06T18:07:51.7934767Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould normalize beta key codes (uppercase and trim)
2025-11-06T18:07:51.7936739Z [22m[39müîë [BetaKeyService] R√©ponse redeem: { status: [90mundefined[39m, statusText: [90mundefined[39m, ok: [33mtrue[39m }
2025-11-06T18:07:51.7937481Z 
2025-11-06T18:07:51.7938851Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould normalize beta key codes (uppercase and trim)
2025-11-06T18:07:51.7961194Z [22m[39müîë [BetaKeyService] R√©sultat redeem: { success: [33mtrue[39m, tier: [32m'beta'[39m, credits: [33m1000[39m }
2025-11-06T18:07:51.7961899Z 
2025-11-06T18:07:51.7963369Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould return error when no access token is available
2025-11-06T18:07:51.7965320Z [22m[39müîë [BetaKeyService] Activation cl√©: { userId: [32m'test-user-id'[39m, code: [32m'BETA-TEST-XXXX-YYYY'[39m }
2025-11-06T18:07:51.7966009Z 
2025-11-06T18:07:51.7967333Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould handle 401 unauthorized error
2025-11-06T18:07:51.7969177Z [22m[39müîë [BetaKeyService] Activation cl√©: { userId: [32m'test-user-id'[39m, code: [32m'BETA-TEST-XXXX-YYYY'[39m }
2025-11-06T18:07:51.7970485Z üîë [BetaKeyService] Appel RPC redeem_beta_key via fetch...
2025-11-06T18:07:51.7970893Z 
2025-11-06T18:07:51.7972193Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould handle 401 unauthorized error
2025-11-06T18:07:51.7974044Z [22m[39müîë [BetaKeyService] R√©ponse redeem: { status: [33m401[39m, statusText: [90mundefined[39m, ok: [33mfalse[39m }
2025-11-06T18:07:51.7974697Z 
2025-11-06T18:07:51.7975975Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould handle 403 forbidden error
2025-11-06T18:07:51.7977784Z [22m[39müîë [BetaKeyService] Activation cl√©: { userId: [32m'test-user-id'[39m, code: [32m'BETA-TEST-XXXX-YYYY'[39m }
2025-11-06T18:07:51.7978933Z üîë [BetaKeyService] Appel RPC redeem_beta_key via fetch...
2025-11-06T18:07:51.7979581Z 
2025-11-06T18:07:51.7980973Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould handle 403 forbidden error
2025-11-06T18:07:51.7982861Z [22m[39müîë [BetaKeyService] R√©ponse redeem: { status: [33m403[39m, statusText: [90mundefined[39m, ok: [33mfalse[39m }
2025-11-06T18:07:51.7983477Z 
2025-11-06T18:07:51.7984640Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould handle 404 not found error
2025-11-06T18:07:51.7986414Z [22m[39müîë [BetaKeyService] Activation cl√©: { userId: [32m'test-user-id'[39m, code: [32m'BETA-TEST-XXXX-YYYY'[39m }
2025-11-06T18:07:51.7987900Z üîë [BetaKeyService] Appel RPC redeem_beta_key via fetch...
2025-11-06T18:07:51.7988487Z 
2025-11-06T18:07:51.8050084Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mredeemKey[2m > [22m[2mshould handle 404 not found error
2025-11-06T18:07:51.8052203Z [22m[39müîë [BetaKeyService] R√©ponse redeem: { status: [33m404[39m, statusText: [90mundefined[39m, ok: [33mfalse[39m }
2025-11-06T18:07:51.8052977Z 
2025-11-06T18:07:51.8054420Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mgenerateKeys[2m > [22m[2mshould generate beta keys successfully
2025-11-06T18:07:51.8056529Z [22m[39müîë [BetaKeyService] Appel RPC avec params: { p_count: [33m2[39m, p_notes: [32m'Test batch'[39m, p_duration_months: [33m3[39m }
2025-11-06T18:07:51.8057673Z üîë [BetaKeyService] R√©cup√©ration de la session...
2025-11-06T18:07:51.8058044Z 
2025-11-06T18:07:51.8058114Z 
2025-11-06T18:07:51.8059692Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mgenerateKeys[2m > [22m[2mshould generate beta keys successfully
2025-11-06T18:07:51.8061057Z [22m[39müîë [BetaKeyService] Session r√©cup√©r√©e: {
2025-11-06T18:07:51.8061897Z   data: { session: { access_token: [32m'mock-access-token-12345'[39m } },
2025-11-06T18:07:51.8062536Z   error: [1mnull[22m
2025-11-06T18:07:51.8062882Z }
2025-11-06T18:07:51.8063343Z üîë [BetaKeyService] Configuration: {
2025-11-06T18:07:51.8064013Z   supabaseUrl: [32m'https://test.supabase.co'[39m,
2025-11-06T18:07:51.8064607Z   hasAnonKey: [33mtrue[39m,
2025-11-06T18:07:51.8065113Z   hasAccessToken: [33mtrue[39m
2025-11-06T18:07:51.8065505Z }
2025-11-06T18:07:51.8066008Z üîë [BetaKeyService] Appel direct via fetch...
2025-11-06T18:07:51.8066345Z 
2025-11-06T18:07:51.8067686Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mgenerateKeys[2m > [22m[2mshould generate beta keys successfully
2025-11-06T18:07:51.8069787Z [22m[39müîë [BetaKeyService] R√©ponse re√ßue: { status: [90mundefined[39m, statusText: [90mundefined[39m, ok: [33mtrue[39m }
2025-11-06T18:07:51.8070493Z 
2025-11-06T18:07:51.8071831Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mgenerateKeys[2m > [22m[2mshould generate beta keys successfully
2025-11-06T18:07:51.8073142Z [22m[39müîë [BetaKeyService] Donn√©es re√ßues: [
2025-11-06T18:07:51.8074035Z   { code: [32m'BETA-1234-5678-9012'[39m, expires_at: [32m'2025-12-31T23:59:59Z'[39m },
2025-11-06T18:07:51.8075067Z   { code: [32m'BETA-ABCD-EFGH-IJKL'[39m, expires_at: [32m'2025-12-31T23:59:59Z'[39m }
2025-11-06T18:07:51.8075678Z ]
2025-11-06T18:07:51.8075829Z 
2025-11-06T18:07:51.8077213Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mgenerateKeys[2m > [22m[2mshould throw error when no session is available
2025-11-06T18:07:51.8079185Z [22m[39müîë [BetaKeyService] Appel RPC avec params: { p_count: [33m1[39m, p_notes: [1mnull[22m, p_duration_months: [33m3[39m }
2025-11-06T18:07:51.8131581Z üîë [BetaKeyService] R√©cup√©ration de la session...
2025-11-06T18:07:51.8131992Z 
2025-11-06T18:07:51.8133426Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mgenerateKeys[2m > [22m[2mshould throw error when no session is available
2025-11-06T18:07:51.8135216Z [22m[39müîë [BetaKeyService] Session r√©cup√©r√©e: { data: { session: [1mnull[22m }, error: [1mnull[22m }
2025-11-06T18:07:51.8135818Z 
2025-11-06T18:07:51.8137166Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mgenerateKeys[2m > [22m[2mshould handle empty response from server
2025-11-06T18:07:51.8139077Z [22m[39müîë [BetaKeyService] Appel RPC avec params: { p_count: [33m1[39m, p_notes: [1mnull[22m, p_duration_months: [33m3[39m }
2025-11-06T18:07:51.8140751Z üîë [BetaKeyService] R√©cup√©ration de la session...
2025-11-06T18:07:51.8141335Z 
2025-11-06T18:07:51.8142719Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mgenerateKeys[2m > [22m[2mshould handle empty response from server
2025-11-06T18:07:51.8144124Z [22m[39müîë [BetaKeyService] Session r√©cup√©r√©e: {
2025-11-06T18:07:51.8144978Z   data: { session: { access_token: [32m'mock-access-token-12345'[39m } },
2025-11-06T18:07:51.8145689Z   error: [1mnull[22m
2025-11-06T18:07:51.8146074Z }
2025-11-06T18:07:51.8146584Z üîë [BetaKeyService] Configuration: {
2025-11-06T18:07:51.8147348Z   supabaseUrl: [32m'https://test.supabase.co'[39m,
2025-11-06T18:07:51.8147999Z   hasAnonKey: [33mtrue[39m,
2025-11-06T18:07:51.8148575Z   hasAccessToken: [33mtrue[39m
2025-11-06T18:07:51.8149003Z }
2025-11-06T18:07:51.8189882Z üîë [BetaKeyService] Appel direct via fetch...
2025-11-06T18:07:51.8190259Z 
2025-11-06T18:07:51.8191701Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mgenerateKeys[2m > [22m[2mshould handle empty response from server
2025-11-06T18:07:51.8193698Z [22m[39müîë [BetaKeyService] R√©ponse re√ßue: { status: [90mundefined[39m, statusText: [90mundefined[39m, ok: [33mtrue[39m }
2025-11-06T18:07:51.8194481Z 
2025-11-06T18:07:51.8195940Z [90mstdout[2m | src/services/__tests__/BetaKeyService.test.ts[2m > [22m[2mBetaKeyService[2m > [22m[2mgenerateKeys[2m > [22m[2mshould handle empty response from server
2025-11-06T18:07:51.8197364Z [22m[39müîë [BetaKeyService] Donn√©es re√ßues: []
2025-11-06T18:07:51.8197748Z 
2025-11-06T18:07:51.8198635Z  [32m‚úì[39m src/services/__tests__/BetaKeyService.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 62[2mms[22m[39m
2025-11-06T18:07:52.7786547Z  [32m‚úì[39m src/components/polls/__tests__/MultiStepFormVote.test.tsx [2m([22m[2m17 tests[22m[2m | [22m[33m5 skipped[39m[2m)[22m[33m 303[2mms[22m[39m
2025-11-06T18:07:52.8653781Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Valid responses[2m > [22m[2mparse un questionnaire de satisfaction simple
2025-11-06T18:07:52.8655763Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 2 valid questions 
2025-11-06T18:07:52.8656199Z 
2025-11-06T18:07:52.8668270Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Valid responses[2m > [22m[2mparse un questionnaire avec choix multiples
2025-11-06T18:07:52.8691762Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:52.8692170Z 
2025-11-06T18:07:52.8695540Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Valid responses[2m > [22m[2mparse un questionnaire avec mix de types
2025-11-06T18:07:52.8707874Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 3 valid questions 
2025-11-06T18:07:52.8708306Z 
2025-11-06T18:07:52.8710477Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Valid responses[2m > [22m[2mapplique required=true par d√©faut si non sp√©cifi√©
2025-11-06T18:07:52.8712169Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:52.8712515Z 
2025-11-06T18:07:52.8714190Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Valid responses[2m > [22m[2maccepte required=false explicite
2025-11-06T18:07:52.8715873Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:52.8716275Z 
2025-11-06T18:07:52.8723964Z [90mstderr[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Invalid responses[2m > [22m[2mfiltre les questions single sans options
2025-11-06T18:07:52.8726814Z [22m[39m‚ö†Ô∏è üåê Question "Question invalide" de type single ignor√©e : options invalides 
2025-11-06T18:07:52.8727442Z 
2025-11-06T18:07:52.8729751Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Invalid responses[2m > [22m[2mfiltre les questions single sans options
2025-11-06T18:07:52.8731643Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:52.8732055Z 
2025-11-06T18:07:52.8738372Z [90mstderr[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Invalid responses[2m > [22m[2mfiltre les questions single avec moins de 2 options
2025-11-06T18:07:52.8742113Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Invalid responses[2m > [22m[2mfiltre les questions single avec moins de 2 options
2025-11-06T18:07:52.8745408Z [22m[39m‚ö†Ô∏è üåê Question "Question avec 1 option" de type single ignor√©e : options invalides 
2025-11-06T18:07:52.8747282Z 
2025-11-06T18:07:52.8749623Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:52.8750876Z 
2025-11-06T18:07:52.8752746Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Invalid responses[2m > [22m[2mfiltre les questions avec type invalide
2025-11-06T18:07:52.8754532Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:52.8754897Z 
2025-11-06T18:07:52.8756680Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Invalid responses[2m > [22m[2maccepte les questions text sans options
2025-11-06T18:07:52.8758478Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:52.8758883Z 
2025-11-06T18:07:52.8937557Z [90mstderr[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Invalid responses[2m > [22m[2mrejette tout si aucune question valide
2025-11-06T18:07:52.8939957Z [22m[39m‚ö†Ô∏è üåê Question "Question invalide 1" de type single ignor√©e : options invalides 
2025-11-06T18:07:52.8941292Z ‚ö†Ô∏è üåê Question "Question invalide 2" de type multiple ignor√©e : options invalides 
2025-11-06T18:07:52.8942134Z üö® DooDates Error: {
2025-11-06T18:07:52.8942779Z   message: [32m'No valid questions in form poll'[39m,
2025-11-06T18:07:52.8943512Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:52.8944396Z   stack: [32m'DooDatesError: No valid questions in form poll\n'[39m +
2025-11-06T18:07:52.8945796Z     [32m'    at Object.validation (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:136:5)\n'[39m +
2025-11-06T18:07:52.8947663Z     [32m'    at GeminiService.parseFormPollResponse (/home/runner/work/DooDates/DooDates/src/lib/gemini.ts:1376:28)\n'[39m +
2025-11-06T18:07:52.8949708Z     [32m'    at /home/runner/work/DooDates/DooDates/src/lib/__tests__/gemini-form-parsing.test.ts:322:30\n'[39m +
2025-11-06T18:07:52.8951469Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n'[39m +
2025-11-06T18:07:52.8953224Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n'[39m +
2025-11-06T18:07:52.8954981Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n'[39m +
2025-11-06T18:07:52.8956161Z     [32m'    at new Promise (<anonymous>)\n'[39m +
2025-11-06T18:07:52.8957613Z     [32m'    at runWithTimeout (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n'[39m +
2025-11-06T18:07:52.9031899Z     [32m'    at runTest (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n'[39m +
2025-11-06T18:07:52.9034112Z     [32m'    at runSuite (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)'[39m,
2025-11-06T18:07:52.9035402Z   timestamp: [32m'2025-11-06T18:07:52.884Z'[39m,
2025-11-06T18:07:52.9036554Z   context: { component: [32m'GeminiService'[39m, operation: [32m'parseFormPollResponse'[39m },
2025-11-06T18:07:52.9037529Z   severity: [32m'medium'[39m,
2025-11-06T18:07:52.9038141Z   category: [32m'validation'[39m,
2025-11-06T18:07:52.9038993Z   userMessage: [32m'Aucune question valide dans le questionnaire'[39m
2025-11-06T18:07:52.9039821Z }
2025-11-06T18:07:52.9040016Z 
2025-11-06T18:07:52.9041922Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Edge cases[2m > [22m[2mg√®re un questionnaire avec 10 questions (maximum)
2025-11-06T18:07:52.9043825Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 10 valid questions 
2025-11-06T18:07:52.9044251Z 
2025-11-06T18:07:52.9046087Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Edge cases[2m > [22m[2mg√®re des options avec caract√®res sp√©ciaux
2025-11-06T18:07:52.9047925Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:52.9048334Z 
2025-11-06T18:07:52.9050420Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Edge cases[2m > [22m[2mpr√©serve la description si pr√©sente
2025-11-06T18:07:52.9052180Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:52.9052577Z 
2025-11-06T18:07:52.9054301Z [90mstdout[2m | src/lib/__tests__/gemini-form-parsing.test.ts[2m > [22m[2mGeminiService - Form Poll Parsing[2m > [22m[2mparseFormPollResponse - Edge cases[2m > [22m[2mg√®re l'absence de description
2025-11-06T18:07:52.9056109Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:52.9056518Z 
2025-11-06T18:07:52.9057404Z  [32m‚úì[39m src/lib/__tests__/gemini-form-parsing.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 40[2mms[22m[39m
2025-11-06T18:07:52.9516074Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.test.ts[2m > [22m[2museAutoSave[2m > [22m[2mError Handling[2m > [22m[2mshould handle title generation timeout errors
2025-11-06T18:07:52.9517664Z [22m[39m‚ùå ‚ÑπÔ∏è Failed to save message immediately Error: Timeout
2025-11-06T18:07:52.9519130Z     at Proxy.<anonymous> [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/useAutoSave.test.ts:307:15[90m)[39m
2025-11-06T18:07:52.9521279Z     at Proxy.mockCall [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/spy/dist/index.js:96:15[90m)[39m
2025-11-06T18:07:52.9523283Z     at Proxy.getConversation [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4mtinyspy[24m/dist/index.js:47:103[90m)[39m
2025-11-06T18:07:52.9525120Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:264:50[90m)[39m
2025-11-06T18:07:52.9525845Z 
2025-11-06T18:07:52.9741666Z  [32m‚úì[39m src/hooks/__tests__/useAutoSave.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 130[2mms[22m[39m
2025-11-06T18:07:53.3350443Z [90mstdout[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould determine when to regenerate titles based on message count
2025-11-06T18:07:53.3370381Z [22m[39müîß Supabase Config Debug: {
2025-11-06T18:07:53.3371520Z   url: [32m'https://test.supabase.co...'[39m,
2025-11-06T18:07:53.3372391Z   key: [32m'test-anon-key...'[39m,
2025-11-06T18:07:53.3373125Z   isLocalDev: [33mfalse[39m
2025-11-06T18:07:53.3373715Z }
2025-11-06T18:07:53.3374121Z 
2025-11-06T18:07:53.4153747Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould determine when to regenerate titles based on message count
2025-11-06T18:07:53.4156402Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:53.4157307Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4158120Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4159018Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4160603Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4162564Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4164282Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4165719Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4167322Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4169676Z   timestamp: [32m'2025-11-06T18:07:53.413Z'[39m,
2025-11-06T18:07:53.4170634Z   context: {
2025-11-06T18:07:53.4172048Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4173190Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4174416Z   },
2025-11-06T18:07:53.4175187Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4176521Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4177768Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4179095Z }
2025-11-06T18:07:53.4180011Z üö® DooDates Error: {
2025-11-06T18:07:53.4181279Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4182209Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4183695Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4185324Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4187760Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4189922Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4192018Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4193806Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4195609Z   timestamp: [32m'2025-11-06T18:07:53.414Z'[39m,
2025-11-06T18:07:53.4196487Z   context: {
2025-11-06T18:07:53.4197874Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4199140Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4200595Z   },
2025-11-06T18:07:53.4201454Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4202085Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4202928Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4203566Z }
2025-11-06T18:07:53.4203748Z 
2025-11-06T18:07:53.4205935Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould determine when to regenerate titles based on message count
2025-11-06T18:07:53.4208425Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:53.4210120Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:53.4214654Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:07:53.4216981Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:53.4218235Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:07:53.4219902Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:07:53.4220843Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4221316Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4221706Z   context: {
2025-11-06T18:07:53.4222274Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4222952Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4223385Z   },
2025-11-06T18:07:53.4223889Z   timestamp: [32m'2025-11-06T18:07:53.412Z'[39m,
2025-11-06T18:07:53.4224719Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4225301Z }
2025-11-06T18:07:53.4225475Z 
2025-11-06T18:07:53.4285464Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould determine when to regenerate titles based on message count
2025-11-06T18:07:53.4289083Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:53.4290266Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4291459Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4294202Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4296015Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4299673Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4301339Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4304221Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4305749Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4306842Z   timestamp: [32m'2025-11-06T18:07:53.427Z'[39m,
2025-11-06T18:07:53.4307375Z   context: {
2025-11-06T18:07:53.4307995Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4308771Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4309247Z   },
2025-11-06T18:07:53.4309919Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4310472Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4311278Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4311900Z }
2025-11-06T18:07:53.4312353Z üö® DooDates Error: {
2025-11-06T18:07:53.4312917Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4313529Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4314210Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4315466Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4317279Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4318932Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4320470Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4321909Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4322981Z   timestamp: [32m'2025-11-06T18:07:53.427Z'[39m,
2025-11-06T18:07:53.4323485Z   context: {
2025-11-06T18:07:53.4324089Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4324826Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4325308Z   },
2025-11-06T18:07:53.4326122Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4326884Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4327643Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4328270Z }
2025-11-06T18:07:53.4328460Z 
2025-11-06T18:07:53.4330896Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould determine when to regenerate titles based on message count
2025-11-06T18:07:53.4333498Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:53.4335106Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:53.4336810Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:07:53.4338547Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:53.4340007Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:07:53.4341487Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:07:53.4342487Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4343056Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4343468Z   context: {
2025-11-06T18:07:53.4344067Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4344776Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4345213Z   },
2025-11-06T18:07:53.4345705Z   timestamp: [32m'2025-11-06T18:07:53.427Z'[39m,
2025-11-06T18:07:53.4346668Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4347303Z }
2025-11-06T18:07:53.4347478Z 
2025-11-06T18:07:53.4349977Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould determine when to regenerate titles based on message count
2025-11-06T18:07:53.4351920Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:53.4352553Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4353175Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4353824Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4354942Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4356695Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4358311Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4359841Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4361312Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4362367Z   timestamp: [32m'2025-11-06T18:07:53.429Z'[39m,
2025-11-06T18:07:53.4362864Z   context: {
2025-11-06T18:07:53.4363476Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4364188Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4364652Z   },
2025-11-06T18:07:53.4365090Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4365637Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4366462Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4367099Z }
2025-11-06T18:07:53.4367531Z üö® DooDates Error: {
2025-11-06T18:07:53.4368097Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4368692Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4369622Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4371382Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4373285Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4374982Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4376280Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4377751Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4378867Z   timestamp: [32m'2025-11-06T18:07:53.429Z'[39m,
2025-11-06T18:07:53.4379582Z   context: {
2025-11-06T18:07:53.4380222Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4380967Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4381476Z   },
2025-11-06T18:07:53.4381972Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4382542Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4383361Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4383973Z }
2025-11-06T18:07:53.4384153Z 
2025-11-06T18:07:53.4480071Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould determine when to regenerate titles based on message count
2025-11-06T18:07:53.4482709Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:53.4484335Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:53.4486267Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:07:53.4488010Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:53.4489268Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:07:53.4491071Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:07:53.4492162Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4492725Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4493144Z   context: {
2025-11-06T18:07:53.4493767Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4494581Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4495080Z   },
2025-11-06T18:07:53.4529954Z   timestamp: [32m'2025-11-06T18:07:53.428Z'[39m,
2025-11-06T18:07:53.4530978Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4543693Z }
2025-11-06T18:07:53.4544010Z 
2025-11-06T18:07:53.4546073Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould not regenerate custom titles
2025-11-06T18:07:53.4547980Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:53.4573968Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4574706Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4575417Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4576652Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4578510Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4580408Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4581751Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4583895Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4585051Z   timestamp: [32m'2025-11-06T18:07:53.437Z'[39m,
2025-11-06T18:07:53.4585561Z   context: {
2025-11-06T18:07:53.4586175Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4586906Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4587398Z   },
2025-11-06T18:07:53.4587854Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4588416Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4589245Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4590100Z }
2025-11-06T18:07:53.4590544Z üö® DooDates Error: {
2025-11-06T18:07:53.4591111Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4591718Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4592418Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4593678Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4595573Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4597262Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4598561Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4600381Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4601512Z   timestamp: [32m'2025-11-06T18:07:53.441Z'[39m,
2025-11-06T18:07:53.4602020Z   context: {
2025-11-06T18:07:53.4602652Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4603437Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4603942Z   },
2025-11-06T18:07:53.4604408Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4604992Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4605936Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4606599Z }
2025-11-06T18:07:53.4606780Z 
2025-11-06T18:07:53.4608792Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould not regenerate custom titles
2025-11-06T18:07:53.4611491Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:53.4613045Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:53.4614899Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:07:53.4616653Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:53.4617910Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:07:53.4619611Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:07:53.4620721Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4621297Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4621716Z   context: {
2025-11-06T18:07:53.4622339Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4623108Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4623601Z   },
2025-11-06T18:07:53.4624140Z   timestamp: [32m'2025-11-06T18:07:53.437Z'[39m,
2025-11-06T18:07:53.4625014Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4625657Z }
2025-11-06T18:07:53.4625825Z 
2025-11-06T18:07:53.4628156Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould not regenerate custom titles
2025-11-06T18:07:53.4630471Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:53.4631095Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4631748Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4632445Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4633695Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4635551Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4637221Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4638554Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4640268Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4641392Z   timestamp: [32m'2025-11-06T18:07:53.454Z'[39m,
2025-11-06T18:07:53.4641903Z   context: {
2025-11-06T18:07:53.4642555Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4643297Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4643801Z   },
2025-11-06T18:07:53.4644261Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4644824Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4645665Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4646292Z }
2025-11-06T18:07:53.4646823Z üö® DooDates Error: {
2025-11-06T18:07:53.4647369Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4647980Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4648664Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4650032Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4651810Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4653349Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4654563Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4655969Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4657096Z   timestamp: [32m'2025-11-06T18:07:53.454Z'[39m,
2025-11-06T18:07:53.4657625Z   context: {
2025-11-06T18:07:53.4658256Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4659013Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4659865Z   },
2025-11-06T18:07:53.4660352Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4660906Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4661730Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4662340Z }
2025-11-06T18:07:53.4662517Z 
2025-11-06T18:07:53.4664452Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould not regenerate custom titles
2025-11-06T18:07:53.4666906Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:53.4668443Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:53.4670536Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:07:53.4672299Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:53.4673790Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:07:53.4675536Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:07:53.4676592Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4677141Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4677551Z   context: {
2025-11-06T18:07:53.4678147Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4678921Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4679619Z   },
2025-11-06T18:07:53.4680169Z   timestamp: [32m'2025-11-06T18:07:53.453Z'[39m,
2025-11-06T18:07:53.4681078Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4681720Z }
2025-11-06T18:07:53.4681904Z 
2025-11-06T18:07:53.4881685Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould integrate with conversation storage updates
2025-11-06T18:07:53.4883728Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:53.4884362Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4884984Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4885700Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4886951Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4888814Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4890756Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4892102Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4893622Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4894742Z   timestamp: [32m'2025-11-06T18:07:53.486Z'[39m,
2025-11-06T18:07:53.4895260Z   context: {
2025-11-06T18:07:53.4895862Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4896628Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4897110Z   },
2025-11-06T18:07:53.4897571Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4898144Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4899003Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4899847Z }
2025-11-06T18:07:53.4900288Z üö® DooDates Error: {
2025-11-06T18:07:53.4900822Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4901438Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4902167Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.4903379Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.4905283Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.4906958Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.4908268Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.4915310Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.4916533Z   timestamp: [32m'2025-11-06T18:07:53.487Z'[39m,
2025-11-06T18:07:53.4917010Z   context: {
2025-11-06T18:07:53.4917600Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4918319Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4918740Z   },
2025-11-06T18:07:53.4919180Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4919918Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4921066Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4921831Z }
2025-11-06T18:07:53.4922032Z 
2025-11-06T18:07:53.4924043Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould integrate with conversation storage updates
2025-11-06T18:07:53.4926262Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:53.4927609Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:53.4929187Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:07:53.4930969Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:53.4932044Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:07:53.4933377Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:07:53.4934295Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.4934778Z   category: [32m'system'[39m,
2025-11-06T18:07:53.4935155Z   context: {
2025-11-06T18:07:53.4935733Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.4960427Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.4960924Z   },
2025-11-06T18:07:53.4961485Z   timestamp: [32m'2025-11-06T18:07:53.486Z'[39m,
2025-11-06T18:07:53.4962427Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.4963048Z }
2025-11-06T18:07:53.4963230Z 
2025-11-06T18:07:53.4965386Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould integrate with conversation storage updates
2025-11-06T18:07:53.4967258Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:53.4967912Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.4968521Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.4969215Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.5000900Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.5002716Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.5004396Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.5005761Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.5007205Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.5008346Z   timestamp: [32m'2025-11-06T18:07:53.491Z'[39m,
2025-11-06T18:07:53.5008859Z   context: {
2025-11-06T18:07:53.5009673Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.5010437Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.5010913Z   },
2025-11-06T18:07:53.5011357Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.5011889Z   category: [32m'system'[39m,
2025-11-06T18:07:53.5012678Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.5013401Z }
2025-11-06T18:07:53.5013836Z üö® DooDates Error: {
2025-11-06T18:07:53.5014387Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.5015005Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.5015737Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.5016919Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.5019040Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.5021186Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.5022545Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.5023976Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.5025046Z   timestamp: [32m'2025-11-06T18:07:53.492Z'[39m,
2025-11-06T18:07:53.5025548Z   context: {
2025-11-06T18:07:53.5026160Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.5026898Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.5027325Z   },
2025-11-06T18:07:53.5027747Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.5028325Z   category: [32m'system'[39m,
2025-11-06T18:07:53.5029182Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.5060201Z }
2025-11-06T18:07:53.5060385Z 
2025-11-06T18:07:53.5062545Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould integrate with conversation storage updates
2025-11-06T18:07:53.5065053Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:53.5066617Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:53.5068466Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:07:53.5070366Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:53.5071600Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:07:53.5073070Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:07:53.5074101Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.5074652Z   category: [32m'system'[39m,
2025-11-06T18:07:53.5075061Z   context: {
2025-11-06T18:07:53.5075605Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.5076353Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.5076839Z   },
2025-11-06T18:07:53.5077381Z   timestamp: [32m'2025-11-06T18:07:53.491Z'[39m,
2025-11-06T18:07:53.5078291Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.5078942Z }
2025-11-06T18:07:53.5079127Z 
2025-11-06T18:07:53.5362366Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould handle edge cases gracefully
2025-11-06T18:07:53.5365013Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:53.5365747Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.5366449Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.5367231Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.5368483Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.5370501Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.5372062Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.5373351Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.5374785Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.5376291Z   timestamp: [32m'2025-11-06T18:07:53.527Z'[39m,
2025-11-06T18:07:53.5377101Z   context: {
2025-11-06T18:07:53.5377908Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.5379062Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.5379947Z   },
2025-11-06T18:07:53.5380605Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.5381268Z   category: [32m'system'[39m,
2025-11-06T18:07:53.5382219Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.5382954Z }
2025-11-06T18:07:53.5383453Z üö® DooDates Error: {
2025-11-06T18:07:53.5384233Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.5385054Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.5385906Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.5387311Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.5389654Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.5391579Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.5393110Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.5394730Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.5396009Z   timestamp: [32m'2025-11-06T18:07:53.527Z'[39m,
2025-11-06T18:07:53.5396686Z   context: {
2025-11-06T18:07:53.5397425Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.5398320Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.5398944Z   },
2025-11-06T18:07:53.5399705Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.5400398Z   category: [32m'system'[39m,
2025-11-06T18:07:53.5401510Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.5402387Z }
2025-11-06T18:07:53.5402710Z 
2025-11-06T18:07:53.5404819Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould handle edge cases gracefully
2025-11-06T18:07:53.5408218Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:53.5411149Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:53.5413442Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:07:53.5415046Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:53.5416205Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:07:53.5417610Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:07:53.5418599Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.5419117Z   category: [32m'system'[39m,
2025-11-06T18:07:53.5419669Z   context: {
2025-11-06T18:07:53.5420242Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.5420937Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.5421395Z   },
2025-11-06T18:07:53.5421889Z   timestamp: [32m'2025-11-06T18:07:53.527Z'[39m,
2025-11-06T18:07:53.5422715Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.5423307Z }
2025-11-06T18:07:53.5423472Z 
2025-11-06T18:07:53.5425351Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould handle edge cases gracefully
2025-11-06T18:07:53.5426976Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:53.5427991Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.5428572Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.5429201Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.5430459Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.5432127Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.5433609Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.5434766Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.5436185Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.5437252Z   timestamp: [32m'2025-11-06T18:07:53.529Z'[39m,
2025-11-06T18:07:53.5437772Z   context: {
2025-11-06T18:07:53.5438420Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.5439169Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.5439818Z   },
2025-11-06T18:07:53.5440193Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.5440718Z   category: [32m'system'[39m,
2025-11-06T18:07:53.5441560Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.5442188Z }
2025-11-06T18:07:53.5442644Z üö® DooDates Error: {
2025-11-06T18:07:53.5443174Z   message: [32m'[object Object]'[39m,
2025-11-06T18:07:53.5443765Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:53.5444467Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:07:53.5445672Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:07:53.5447607Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:07:53.5449505Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:07:53.5450871Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:07:53.5452334Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:07:53.5453430Z   timestamp: [32m'2025-11-06T18:07:53.529Z'[39m,
2025-11-06T18:07:53.5453939Z   context: {
2025-11-06T18:07:53.5454555Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.5455317Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.5455807Z   },
2025-11-06T18:07:53.5456246Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.5456790Z   category: [32m'system'[39m,
2025-11-06T18:07:53.5457607Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.5458243Z }
2025-11-06T18:07:53.5458415Z 
2025-11-06T18:07:53.5460507Z [90mstderr[2m | src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22m[2mtitleGeneration + useAutoSave Integration[2m > [22m[2mTitle Generation Integration[2m > [22m[2mshould handle edge cases gracefully
2025-11-06T18:07:53.5462796Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:07:53.5464235Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:07:53.5465951Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:07:53.5467507Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:07:53.5468645Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:07:53.5470410Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:07:53.5471588Z   severity: [32m'medium'[39m,
2025-11-06T18:07:53.5472100Z   category: [32m'system'[39m,
2025-11-06T18:07:53.5472504Z   context: {
2025-11-06T18:07:53.5473070Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:07:53.5473764Z     operation: [32m'createConversation'[39m
2025-11-06T18:07:53.5474223Z   },
2025-11-06T18:07:53.5474717Z   timestamp: [32m'2025-11-06T18:07:53.529Z'[39m,
2025-11-06T18:07:53.5475538Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:07:53.5476123Z }
2025-11-06T18:07:53.5476284Z 
2025-11-06T18:07:53.5512040Z  [31m‚ùØ[39m src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts [2m([22m[2m9 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 309[2mms[22m[39m
2025-11-06T18:07:53.5515834Z    [32m‚úì[39m titleGeneration + useAutoSave Integration[2m > [22mTitle Generation Integration[2m > [22mshould generate intelligent title from conversation messages[32m 32[2mms[22m[39m
2025-11-06T18:07:53.5558564Z    [32m‚úì[39m titleGeneration + useAutoSave Integration[2m > [22mTitle Generation Integration[2m > [22mshould determine when to regenerate titles based on message count[32m 161[2mms[22m[39m
2025-11-06T18:07:53.5591215Z    [32m‚úì[39m titleGeneration + useAutoSave Integration[2m > [22mTitle Generation Integration[2m > [22mshould not regenerate custom titles[32m 22[2mms[22m[39m
2025-11-06T18:07:53.5593232Z    [32m‚úì[39m titleGeneration + useAutoSave Integration[2m > [22mTitle Generation Integration[2m > [22mshould handle multilingual content correctly[32m 18[2mms[22m[39m
2025-11-06T18:07:53.5595561Z [31m   [31m√ó[31m titleGeneration + useAutoSave Integration[2m > [22mTitle Generation Integration[2m > [22mshould integrate with conversation storage updates[39m[32m 49[2mms[22m[39m
2025-11-06T18:07:53.5597071Z [31m     ‚Üí expected "spy" to be called with arguments: [ Array(1) ][90m
2025-11-06T18:07:53.5597475Z 
2025-11-06T18:07:53.5597618Z Received: 
2025-11-06T18:07:53.5597797Z 
2025-11-06T18:07:53.5597993Z [1m  1st spy call:
2025-11-06T18:07:53.5598191Z 
2025-11-06T18:07:53.5598370Z [22m[2m  [[22m
2025-11-06T18:07:53.5598711Z [2m    {[22m
2025-11-06T18:07:53.5599832Z [32m-     "firstMessage": "Je veux planifier une r√©union d'√©quipe",[90m
2025-11-06T18:07:53.5600800Z [32m-     "title": StringContaining "Je veux planifier une r√©union",[90m
2025-11-06T18:07:53.5601564Z [31m+     "firstMessage": "Hi there!",[90m
2025-11-06T18:07:53.5602147Z [31m+     "title": "Hi there!",[90m
2025-11-06T18:07:53.5602683Z [2m      "userId": "test-user",[22m
2025-11-06T18:07:53.5603108Z [2m    },[22m
2025-11-06T18:07:53.5603435Z [2m  ][22m
2025-11-06T18:07:53.5603607Z 
2025-11-06T18:07:53.5603792Z [1m  2nd spy call:
2025-11-06T18:07:53.5603993Z 
2025-11-06T18:07:53.5604164Z [22m[2m  [[22m
2025-11-06T18:07:53.5604498Z [2m    {[22m
2025-11-06T18:07:53.5605176Z [32m-     "firstMessage": "Je veux planifier une r√©union d'√©quipe",[90m
2025-11-06T18:07:53.5606116Z [32m-     "title": StringContaining "Je veux planifier une r√©union",[90m
2025-11-06T18:07:53.5606899Z [31m+     "firstMessage": "How can I help?",[90m
2025-11-06T18:07:53.5607532Z [31m+     "title": "How can I help?",[90m
2025-11-06T18:07:53.5608090Z [2m      "userId": "test-user",[22m
2025-11-06T18:07:53.5608529Z [2m    },[22m
2025-11-06T18:07:53.5608862Z [2m  ][22m
2025-11-06T18:07:53.5609178Z [31m[90m
2025-11-06T18:07:53.5609503Z 
2025-11-06T18:07:53.5609737Z Number of calls: [1m2[22m
2025-11-06T18:07:53.5610127Z [31m[39m
2025-11-06T18:07:53.5611361Z    [32m‚úì[39m titleGeneration + useAutoSave Integration[2m > [22mTitle Generation Integration[2m > [22mshould handle edge cases gracefully[32m 12[2mms[22m[39m
2025-11-06T18:07:53.5613498Z    [32m‚úì[39m titleGeneration + useAutoSave Integration[2m > [22mTitle Generation Integration[2m > [22mshould preserve conversation state during title generation[32m 6[2mms[22m[39m
2025-11-06T18:07:53.5616227Z [31m   [31m√ó[31m titleGeneration + useAutoSave Integration[2m > [22mError Handling Integration[2m > [22mshould handle title generation errors gracefully[39m[32m 5[2mms[22m[39m
2025-11-06T18:07:53.5617769Z [31m     ‚Üí expected "spy" to be called at least once[39m
2025-11-06T18:07:53.5619462Z    [32m‚úì[39m titleGeneration + useAutoSave Integration[2m > [22mError Handling Integration[2m > [22mshould handle empty message arrays in title generation[32m 1[2mms[22m[39m
2025-11-06T18:07:54.0841628Z  [32m‚úì[39m src/reducers/__tests__/pollReducer.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 18[2mms[22m[39m
2025-11-06T18:07:54.2299741Z  [32m‚úì[39m src/lib/__tests__/conditionalEvaluator.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 16[2mms[22m[39m
2025-11-06T18:07:54.8622515Z  [32m‚úì[39m src/lib/__tests__/ux-regression.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 26[2mms[22m[39m
2025-11-06T18:07:55.3419164Z  [32m‚úì[39m src/components/conversations/__tests__/ConversationHeader.test.tsx [2m([22m[2m25 tests[22m[2m)[22m[33m 713[2mms[22m[39m
2025-11-06T18:07:55.4634864Z  [32m‚úì[39m src/components/dashboard/__tests__/utils.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 17[2mms[22m[39m
2025-11-06T18:07:55.5025746Z [90mstdout[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts
2025-11-06T18:07:55.5030944Z [22m[39müîß Supabase Config Debug: {
2025-11-06T18:07:55.5035554Z   url: [32m'https://test.supabase.co...'[39m,
2025-11-06T18:07:55.5040288Z   key: [32m'test-anon-key...'[39m,
2025-11-06T18:07:55.5044627Z   isLocalDev: [33mfalse[39m
2025-11-06T18:07:55.5048836Z }
2025-11-06T18:07:55.5052928Z 
2025-11-06T18:07:55.5423120Z [90mstdout[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mcleanupConversationLink[2m > [22m[2mshould remove poll links from conversations
2025-11-06T18:07:55.5431020Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Removed poll link from conversation { conversationId: [32m'conv-1'[39m, pollId: [32m'poll-1'[39m }
2025-11-06T18:07:55.5433852Z 
2025-11-06T18:07:55.5571370Z [90mstderr[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mcleanupConversationLink[2m > [22m[2mshould handle cleanup errors gracefully
2025-11-06T18:07:55.5573408Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:55.5574302Z   message: [32m'Update failed'[39m,
2025-11-06T18:07:55.5574976Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:55.5575719Z   stack: [32m'DooDatesError: Update failed\n'[39m +
2025-11-06T18:07:55.5576923Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:103:22)\n'[39m +
2025-11-06T18:07:55.5578738Z     [32m'    at Object.cleanupConversationLink (/home/runner/work/DooDates/DooDates/src/hooks/usePollDeletionCascade.ts:73:32)\n'[39m +
2025-11-06T18:07:55.5580806Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePollDeletionCascade.test.ts:110:25'[39m,
2025-11-06T18:07:55.5582018Z   timestamp: [32m'2025-11-06T18:07:55.555Z'[39m,
2025-11-06T18:07:55.5582542Z   context: {
2025-11-06T18:07:55.5583129Z     component: [32m'usePollDeletionCascade'[39m,
2025-11-06T18:07:55.5583904Z     operation: [32m'cleanupConversationLink'[39m
2025-11-06T18:07:55.5584437Z   },
2025-11-06T18:07:55.5584923Z   severity: [32m'medium'[39m,
2025-11-06T18:07:55.5585492Z   category: [32m'system'[39m,
2025-11-06T18:07:55.5586354Z   userMessage: [32m'Erreur lors du nettoyage des liens de conversation'[39m
2025-11-06T18:07:55.5586998Z }
2025-11-06T18:07:55.5587447Z üö® DooDates Error: {
2025-11-06T18:07:55.5588016Z   message: [32m'Update failed'[39m,
2025-11-06T18:07:55.5588653Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:55.5589551Z   stack: [32m'DooDatesError: Update failed\n'[39m +
2025-11-06T18:07:55.5590759Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:103:22)\n'[39m +
2025-11-06T18:07:55.5592971Z     [32m'    at Object.cleanupConversationLink (/home/runner/work/DooDates/DooDates/src/hooks/usePollDeletionCascade.ts:73:32)\n'[39m +
2025-11-06T18:07:55.5595111Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePollDeletionCascade.test.ts:110:25'[39m,
2025-11-06T18:07:55.5596255Z   timestamp: [32m'2025-11-06T18:07:55.556Z'[39m,
2025-11-06T18:07:55.5596769Z   context: {
2025-11-06T18:07:55.5597361Z     component: [32m'usePollDeletionCascade'[39m,
2025-11-06T18:07:55.5598105Z     operation: [32m'cleanupConversationLink'[39m
2025-11-06T18:07:55.5598605Z   },
2025-11-06T18:07:55.5599044Z   severity: [32m'medium'[39m,
2025-11-06T18:07:55.5599881Z   category: [32m'system'[39m,
2025-11-06T18:07:55.5600687Z   userMessage: [32m'Erreur lors du nettoyage des liens de conversation'[39m
2025-11-06T18:07:55.5601311Z }
2025-11-06T18:07:55.5601483Z 
2025-11-06T18:07:55.5662926Z [90mstdout[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mdeletePollWithCascade[2m > [22m[2mshould delete poll and cleanup conversation links
2025-11-06T18:07:55.5691010Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Removed poll link from conversation { conversationId: [32m'conv-1'[39m, pollId: [32m'poll-1'[39m }
2025-11-06T18:07:55.5691801Z 
2025-11-06T18:07:55.5693630Z [90mstdout[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mdeletePollWithCascade[2m > [22m[2mshould delete poll and cleanup conversation links
2025-11-06T18:07:55.5695550Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Poll deleted successfully { pollId: [32m'poll-1'[39m }
2025-11-06T18:07:55.5696067Z 
2025-11-06T18:07:55.5697786Z [90mstdout[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mdeletePollWithCascade[2m > [22m[2mshould handle poll deletion failure
2025-11-06T18:07:55.5700236Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Removed poll link from conversation { conversationId: [32m'conv-1'[39m, pollId: [32m'poll-1'[39m }
2025-11-06T18:07:55.5700991Z 
2025-11-06T18:07:55.5711206Z [90mstderr[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mdeletePollWithCascade[2m > [22m[2mshould handle poll deletion failure
2025-11-06T18:07:55.5712869Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:55.5713480Z   message: [32m'Storage error'[39m,
2025-11-06T18:07:55.5714112Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:55.5714829Z   stack: [32m'DooDatesError: Storage error\n'[39m +
2025-11-06T18:07:55.5716054Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:103:22)\n'[39m +
2025-11-06T18:07:55.5717828Z     [32m'    at Object.deletePollWithCascade (/home/runner/work/DooDates/DooDates/src/hooks/usePollDeletionCascade.ts:144:34)\n'[39m +
2025-11-06T18:07:55.5719789Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePollDeletionCascade.test.ts:156:33'[39m,
2025-11-06T18:07:55.5720965Z   timestamp: [32m'2025-11-06T18:07:55.568Z'[39m,
2025-11-06T18:07:55.5722066Z   context: { component: [32m'usePollDeletionCascade'[39m, operation: [32m'deletePoll'[39m },
2025-11-06T18:07:55.5722987Z   severity: [32m'medium'[39m,
2025-11-06T18:07:55.5723541Z   category: [32m'system'[39m,
2025-11-06T18:07:55.5724321Z   userMessage: [32m'Erreur lors de la suppression du sondage'[39m
2025-11-06T18:07:55.5724928Z }
2025-11-06T18:07:55.5725385Z üö® DooDates Error: {
2025-11-06T18:07:55.5725946Z   message: [32m'Storage error'[39m,
2025-11-06T18:07:55.5726568Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:55.5727260Z   stack: [32m'DooDatesError: Storage error\n'[39m +
2025-11-06T18:07:55.5728439Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:103:22)\n'[39m +
2025-11-06T18:07:55.5730422Z     [32m'    at Object.deletePollWithCascade (/home/runner/work/DooDates/DooDates/src/hooks/usePollDeletionCascade.ts:144:34)\n'[39m +
2025-11-06T18:07:55.5732586Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePollDeletionCascade.test.ts:156:33'[39m,
2025-11-06T18:07:55.5733974Z   timestamp: [32m'2025-11-06T18:07:55.570Z'[39m,
2025-11-06T18:07:55.5735093Z   context: { component: [32m'usePollDeletionCascade'[39m, operation: [32m'deletePoll'[39m },
2025-11-06T18:07:55.5736033Z   severity: [32m'medium'[39m,
2025-11-06T18:07:55.5736619Z   category: [32m'system'[39m,
2025-11-06T18:07:55.5737421Z   userMessage: [32m'Erreur lors de la suppression du sondage'[39m
2025-11-06T18:07:55.5738019Z }
2025-11-06T18:07:55.5738197Z 
2025-11-06T18:07:55.5922214Z [90mstderr[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mcleanupOrphanedLinks[2m > [22m[2mshould handle cleanup errors gracefully
2025-11-06T18:07:55.5925179Z [90mstdout[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mcleanupOrphanedLinks[2m > [22m[2mshould clean up orphaned conversation links
2025-11-06T18:07:55.5942737Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:55.5943778Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Cleaned up orphaned conversation links { cleanedCount: [33m1[39m }
2025-11-06T18:07:55.5944305Z 
2025-11-06T18:07:55.5946025Z [90mstdout[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mintegration scenarios[2m > [22m[2mshould handle complete poll deletion workflow
2025-11-06T18:07:55.5948219Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Removed poll link from conversation { conversationId: [32m'conv-1'[39m, pollId: [32m'poll-1'[39m }
2025-11-06T18:07:55.5948952Z 
2025-11-06T18:07:55.5950942Z [90mstdout[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mintegration scenarios[2m > [22m[2mshould handle complete poll deletion workflow
2025-11-06T18:07:55.5952762Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Poll deleted successfully { pollId: [32m'poll-1'[39m }
2025-11-06T18:07:55.5953245Z 
2025-11-06T18:07:55.6001125Z   message: [32m'Update failed'[39m,
2025-11-06T18:07:55.6003107Z [90mstdout[2m | src/hooks/__tests__/usePollDeletionCascade.test.ts[2m > [22m[2musePollDeletionCascade[2m > [22m[2mintegration scenarios[2m > [22m[2mshould handle orphaned link cleanup maintenance
2025-11-06T18:07:55.6005795Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:55.6006783Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Cleaned up orphaned conversation links { cleanedCount: [33m2[39m }
2025-11-06T18:07:55.6008056Z   stack: [32m'DooDatesError: Update failed\n'[39m +
2025-11-06T18:07:55.6009534Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:103:22)\n'[39m +
2025-11-06T18:07:55.6011441Z     [32m'    at Object.cleanupOrphanedLinks (/home/runner/work/DooDates/DooDates/src/hooks/usePollDeletionCascade.ts:297:30)\n'[39m +
2025-11-06T18:07:55.6013336Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePollDeletionCascade.test.ts:274:30'[39m,
2025-11-06T18:07:55.6014491Z   timestamp: [32m'2025-11-06T18:07:55.589Z'[39m,
2025-11-06T18:07:55.6015018Z   context: {
2025-11-06T18:07:55.6015625Z     component: [32m'usePollDeletionCascade'[39m,
2025-11-06T18:07:55.6016364Z     operation: [32m'cleanupOrphanedLinks'[39m
2025-11-06T18:07:55.6016870Z   },
2025-11-06T18:07:55.6017282Z   severity: [32m'medium'[39m,
2025-11-06T18:07:55.6018037Z   category: [32m'system'[39m,
2025-11-06T18:07:55.6018922Z   userMessage: [32m'Erreur lors du nettoyage des liens orphelins'[39m
2025-11-06T18:07:55.6019747Z }
2025-11-06T18:07:55.6020198Z üö® DooDates Error: {
2025-11-06T18:07:55.6020780Z   message: [32m'Update failed'[39m,
2025-11-06T18:07:55.6021405Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:07:55.6022093Z   stack: [32m'DooDatesError: Update failed\n'[39m +
2025-11-06T18:07:55.6023321Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:103:22)\n'[39m +
2025-11-06T18:07:55.6025505Z     [32m'    at Object.cleanupOrphanedLinks (/home/runner/work/DooDates/DooDates/src/hooks/usePollDeletionCascade.ts:297:30)\n'[39m +
2025-11-06T18:07:55.6027664Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePollDeletionCascade.test.ts:274:30'[39m,
2025-11-06T18:07:55.6028868Z   timestamp: [32m'2025-11-06T18:07:55.590Z'[39m,
2025-11-06T18:07:55.6029607Z   context: {
2025-11-06T18:07:55.6030221Z     component: [32m'usePollDeletionCascade'[39m,
2025-11-06T18:07:55.6030990Z     operation: [32m'cleanupOrphanedLinks'[39m
2025-11-06T18:07:55.6031487Z   },
2025-11-06T18:07:55.6031950Z   severity: [32m'medium'[39m,
2025-11-06T18:07:55.6032532Z   category: [32m'system'[39m,
2025-11-06T18:07:55.6033393Z   userMessage: [32m'Erreur lors du nettoyage des liens orphelins'[39m
2025-11-06T18:07:55.6034035Z }
2025-11-06T18:07:55.6034214Z 
2025-11-06T18:07:55.6034230Z 
2025-11-06T18:07:55.6035227Z  [32m‚úì[39m src/hooks/__tests__/usePollDeletionCascade.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 79[2mms[22m[39m
2025-11-06T18:07:56.6702316Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Form Polls[2m > [22m[2md√©tecte 'questionnaire' comme Form Poll
2025-11-06T18:07:56.6704323Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=2, dateScore=0 
2025-11-06T18:07:56.6705039Z 
2025-11-06T18:07:56.6711790Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Form Polls[2m > [22m[2md√©tecte 'sondage d'opinion' comme Form Poll
2025-11-06T18:07:56.6716838Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=2, dateScore=0 
2025-11-06T18:07:56.6717523Z 
2025-11-06T18:07:56.6719466Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Form Polls[2m > [22m[2md√©tecte 'enqu√™te' comme Form Poll
2025-11-06T18:07:56.6721240Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=2, dateScore=0 
2025-11-06T18:07:56.6721847Z 
2025-11-06T18:07:56.6727813Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Form Polls[2m > [22m[2md√©tecte 'formulaire' comme Form Poll
2025-11-06T18:07:56.6732883Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=1, dateScore=0 
2025-11-06T18:07:56.6733548Z 
2025-11-06T18:07:56.6735323Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Form Polls[2m > [22m[2md√©tecte 'feedback' comme Form Poll
2025-11-06T18:07:56.6737055Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=1, dateScore=0 
2025-11-06T18:07:56.6737602Z 
2025-11-06T18:07:56.6741978Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Form Polls[2m > [22m[2md√©tecte multiple mots-cl√©s Form
2025-11-06T18:07:56.6746738Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=3, dateScore=0 
2025-11-06T18:07:56.6748264Z 
2025-11-06T18:07:56.6751059Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Date Polls[2m > [22m[2md√©tecte 'rendez-vous' comme Date Poll
2025-11-06T18:07:56.6753769Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=0, dateScore=2 
2025-11-06T18:07:56.6755261Z 
2025-11-06T18:07:56.6811803Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Date Polls[2m > [22m[2md√©tecte 'r√©union' comme Date Poll
2025-11-06T18:07:56.6813485Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=0, dateScore=2 
2025-11-06T18:07:56.6813922Z 
2025-11-06T18:07:56.6815576Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Date Polls[2m > [22m[2md√©tecte 'disponibilit√©' comme Date Poll
2025-11-06T18:07:56.6817806Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=0, dateScore=2 
2025-11-06T18:07:56.6818241Z 
2025-11-06T18:07:56.6820030Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Date Polls[2m > [22m[2md√©tecte 'planning' comme Date Poll
2025-11-06T18:07:56.6821643Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=0, dateScore=1 
2025-11-06T18:07:56.6822055Z 
2025-11-06T18:07:56.6823848Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Date Polls[2m > [22m[2md√©tecte 'cr√©neau' comme Date Poll
2025-11-06T18:07:56.6825579Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=0, dateScore=2 
2025-11-06T18:07:56.6826105Z 
2025-11-06T18:07:56.6827862Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Date Polls[2m > [22m[2md√©tecte multiple mots-cl√©s Date
2025-11-06T18:07:56.6829669Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=0, dateScore=4 
2025-11-06T18:07:56.6830070Z 
2025-11-06T18:07:56.6862472Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Cas Ambigus[2m > [22m[2md√©tecte 'date' par d√©faut si √©galit√©
2025-11-06T18:07:56.6864448Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=0, dateScore=0 
2025-11-06T18:07:56.6865173Z 
2025-11-06T18:07:56.6867077Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Cas Ambigus[2m > [22m[2mprioritise Form si plus de mots-cl√©s Form
2025-11-06T18:07:56.6869701Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=2, dateScore=1 
2025-11-06T18:07:56.6870374Z 
2025-11-06T18:07:56.6872325Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Cas Ambigus[2m > [22m[2mprioritise Date si plus de mots-cl√©s Date
2025-11-06T18:07:56.6874317Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=1, dateScore=1 
2025-11-06T18:07:56.6874988Z 
2025-11-06T18:07:56.6877035Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Cas Ambigus[2m > [22m[2mg√®re les textes sans mots-cl√©s (d√©faut Date)
2025-11-06T18:07:56.6879123Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=0, dateScore=0 
2025-11-06T18:07:56.6880016Z 
2025-11-06T18:07:56.6884640Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Cas R√©els[2m > [22m[2md√©tecte correctement un cas Form r√©aliste
2025-11-06T18:07:56.6886378Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=4, dateScore=0 
2025-11-06T18:07:56.6886817Z 
2025-11-06T18:07:56.6893183Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Cas R√©els[2m > [22m[2md√©tecte correctement un cas Date r√©aliste
2025-11-06T18:07:56.6894873Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=0, dateScore=5 
2025-11-06T18:07:56.6895279Z 
2025-11-06T18:07:56.6896881Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Cas R√©els[2m > [22m[2md√©tecte Form pour inscription √©v√©nement
2025-11-06T18:07:56.6898418Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=1, dateScore=0 
2025-11-06T18:07:56.6898807Z 
2025-11-06T18:07:56.6900482Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2mdetectPollType - Cas R√©els[2m > [22m[2md√©tecte Date pour planning √©quipe
2025-11-06T18:07:56.6915701Z [22m[39m‚ÑπÔ∏è üåê Poll type detection: formScore=0, dateScore=3 
2025-11-06T18:07:56.6916111Z 
2025-11-06T18:07:56.6918181Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2misMarkdownQuestionnaire - Markdown Detection[2m > [22m[2md√©tecte un questionnaire markdown valide
2025-11-06T18:07:56.6920767Z [22m[39m‚ÑπÔ∏è üåê Markdown detection: title=true, sections=true, questions=true, checkboxes=true, length=242, result=true 
2025-11-06T18:07:56.6921455Z 
2025-11-06T18:07:56.6923217Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2misMarkdownQuestionnaire - Markdown Detection[2m > [22m[2mrejette un texte simple sans markdown
2025-11-06T18:07:56.6925605Z [22m[39m‚ÑπÔ∏è üåê Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=44, result=false 
2025-11-06T18:07:56.6926423Z 
2025-11-06T18:07:56.6928305Z [90mstdout[2m | src/lib/__tests__/gemini-detection.test.ts[2m > [22m[2mGeminiService - Poll Type Detection[2m > [22m[2misMarkdownQuestionnaire - Markdown Detection[2m > [22m[2mrejette un markdown trop court
2025-11-06T18:07:56.6930848Z [22m[39m‚ÑπÔ∏è üåê Markdown detection: title=true, sections=true, questions=true, checkboxes=true, length=31, result=false 
2025-11-06T18:07:56.6931609Z 
2025-11-06T18:07:56.6969681Z  [32m‚úì[39m src/lib/__tests__/gemini-detection.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 29[2mms[22m[39m
2025-11-06T18:07:56.7914229Z [90mstdout[2m | src/lib/__tests__/gemini-conditional-parsing.test.ts[2m > [22m[2mGeminiService - Conditional Rules Parsing[2m > [22m[2mparseFormPollResponse - Conditional Rules[2m > [22m[2mshould parse questionnaire with conditional rules
2025-11-06T18:07:56.7916285Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 3 valid questions 
2025-11-06T18:07:56.7916678Z 
2025-11-06T18:07:56.7918880Z [90mstdout[2m | src/lib/__tests__/gemini-conditional-parsing.test.ts[2m > [22m[2mGeminiService - Conditional Rules Parsing[2m > [22m[2mparseFormPollResponse - Conditional Rules[2m > [22m[2mshould handle questionnaire without conditional rules
2025-11-06T18:07:56.7921137Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 1 valid questions 
2025-11-06T18:07:56.7921536Z 
2025-11-06T18:07:56.7923564Z [90mstdout[2m | src/lib/__tests__/gemini-conditional-parsing.test.ts[2m > [22m[2mGeminiService - Conditional Rules Parsing[2m > [22m[2mparseFormPollResponse - Conditional Rules[2m > [22m[2mshould parse multiple conditional rules
2025-11-06T18:07:56.7925484Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 3 valid questions 
2025-11-06T18:07:56.7925879Z 
2025-11-06T18:07:56.7938218Z [90mstdout[2m | src/lib/__tests__/gemini-conditional-parsing.test.ts[2m > [22m[2mGeminiService - Conditional Rules Parsing[2m > [22m[2mparseFormPollResponse - Conditional Rules[2m > [22m[2mshould support different conditional operators
2025-11-06T18:07:56.7945158Z [22m[39m‚ÑπÔ∏è üåê Form Poll parsed: 4 valid questions 
2025-11-06T18:07:56.7949036Z 
2025-11-06T18:07:56.8023251Z  [32m‚úì[39m src/lib/__tests__/gemini-conditional-parsing.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 18[2mms[22m[39m
2025-11-06T18:07:58.2376700Z  [32m‚úì[39m src/lib/__tests__/conversationFilters.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 13[2mms[22m[39m
2025-11-06T18:07:58.2531381Z  [32m‚úì[39m src/lib/__tests__/conditionalValidator.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 11[2mms[22m[39m
2025-11-06T18:07:58.6118146Z  [32m‚úì[39m src/components/dashboard/__tests__/DashboardFilters.test.tsx [2m([22m[2m20 tests[22m[2m)[22m[33m 1137[2mms[22m[39m
2025-11-06T18:07:59.3744320Z  [32m‚úì[39m src/components/ui/__tests__/CascadeDeleteModal.test.tsx [2m([22m[2m21 tests[22m[2m)[22m[33m 2600[2mms[22m[39m
2025-11-06T18:07:59.3746611Z    [33m[2m‚úì[22m[39m CascadeDeleteModal[2m > [22mValidation saisie confirmation[2m > [22mshould keep button disabled with incorrect input [33m 580[2mms[22m[39m
2025-11-06T18:07:59.5287372Z  [32m‚úì[39m src/lib/__tests__/pollStorage.resultsVisibility.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 11[2mms[22m[39m
2025-11-06T18:07:59.7403014Z [90mstdout[2m | src/hooks/__tests__/usePollConversationLink.test.ts
2025-11-06T18:07:59.7408128Z [22m[39müîß Supabase Config Debug: {
2025-11-06T18:07:59.7409063Z   url: [32m'https://test.supabase.co...'[39m,
2025-11-06T18:07:59.7410115Z   key: [32m'test-anon-key...'[39m,
2025-11-06T18:07:59.7410861Z   isLocalDev: [33mfalse[39m
2025-11-06T18:07:59.7411386Z }
2025-11-06T18:07:59.7411662Z 
2025-11-06T18:07:59.7823149Z [90mstdout[2m | src/hooks/__tests__/usePollConversationLink.test.ts[2m > [22m[2musePollConversationLink[2m > [22m[2mlinkPollToConversation[2m > [22m[2mshould successfully link a poll to a conversation
2025-11-06T18:07:59.7852914Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Poll linked to conversation { conversationId: [32m'conv-1'[39m, pollId: [32m'poll-1'[39m }
2025-11-06T18:07:59.7853619Z 
2025-11-06T18:07:59.8014430Z [90mstderr[2m | src/hooks/__tests__/usePollConversationLink.test.ts[2m > [22m[2musePollConversationLink[2m > [22m[2mlinkPollToConversation[2m > [22m[2mshould handle linking errors gracefully
2025-11-06T18:07:59.8019944Z [22m[39müö® DooDates Error: {
2025-11-06T18:07:59.8021880Z   message: [90mundefined[39m,
2025-11-06T18:07:59.8023906Z   name: [90mundefined[39m,
2025-11-06T18:07:59.8024650Z   stack: [90mundefined[39m,
2025-11-06T18:07:59.8026500Z   timestamp: [32m'2025-11-06T18:07:59.789Z'[39m,
2025-11-06T18:07:59.8027291Z   context: Error: Update failed
2025-11-06T18:07:59.8029798Z       at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/usePollConversationLink.test.ts:81:60
2025-11-06T18:07:59.8031933Z       at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:07:59.8034092Z       at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
2025-11-06T18:07:59.8036134Z       at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:07:59.8037245Z       at new Promise (<anonymous>)
2025-11-06T18:07:59.8038959Z       at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:07:59.8041293Z       at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12[90m)[39m
2025-11-06T18:07:59.8043320Z       at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:59.8046175Z       at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:59.8050456Z       at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:07:59.8051476Z }
2025-11-06T18:07:59.8051684Z 
2025-11-06T18:07:59.8387569Z [90mstdout[2m | src/hooks/__tests__/usePollConversationLink.test.ts[2m > [22m[2musePollConversationLink[2m > [22m[2mintegration scenarios[2m > [22m[2mshould handle complete poll creation and linking workflow
2025-11-06T18:07:59.8389965Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Poll linked to conversation { conversationId: [32m'conv-1'[39m, pollId: [32m'poll-1'[39m }
2025-11-06T18:07:59.8390606Z 
2025-11-06T18:07:59.8391607Z  [32m‚úì[39m src/hooks/__tests__/usePollConversationLink.test.ts [2m([22m[2m12 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 70[2mms[22m[39m
2025-11-06T18:07:59.9883242Z  [32m‚úì[39m src/services/__tests__/FormPollIntentService.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 18[2mms[22m[39m
2025-11-06T18:08:00.6231701Z [90mstdout[2m | src/lib/__tests__/pollStorage.test.ts[2m > [22m[2mpollStorage[2m > [22m[2mdeletePollById() should remove the poll and persist
2025-11-06T18:08:00.6250460Z [22m[39müêõ ‚ÑπÔ∏è Deleting poll with id: 1 
2025-11-06T18:08:00.6251527Z üêõ ‚ÑπÔ∏è Found 2 polls before deletion 
2025-11-06T18:08:00.6252242Z üêõ ‚ÑπÔ∏è 1 polls remaining after filter 
2025-11-06T18:08:00.6252905Z ‚ÑπÔ∏è ‚ÑπÔ∏è Poll 1 deleted successfully 
2025-11-06T18:08:00.6253650Z ‚ÑπÔ∏è ‚ÑπÔ∏è üîî Dispatching pollsChanged event for poll 1 
2025-11-06T18:08:00.6254389Z ‚ÑπÔ∏è ‚ÑπÔ∏è ‚úÖ pollsChanged event dispatched 
2025-11-06T18:08:00.6254736Z 
2025-11-06T18:08:00.6606242Z [90mstderr[2m | src/lib/__tests__/pollStorage.test.ts[2m > [22m[2mpollStorage[2m > [22m[2maddPoll() should validate form polls: title is required
2025-11-06T18:08:00.6640760Z  [32m‚úì[39m src/lib/__tests__/pollStorage.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 45[2mms[22m[39m
2025-11-06T18:08:00.6670217Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:00.6671503Z   message: [32m'Invalid form poll: title must be a non-empty string'[39m,
2025-11-06T18:08:00.6672560Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:00.6673838Z   stack: [32m'DooDatesError: Invalid form poll: title must be a non-empty string\n'[39m +
2025-11-06T18:08:00.6675605Z     [32m'    at Object.validation (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:136:5)\n'[39m +
2025-11-06T18:08:00.6677401Z     [32m'    at validatePoll (/home/runner/work/DooDates/DooDates/src/lib/pollStorage.ts:394:44)\n'[39m +
2025-11-06T18:08:00.6680660Z     [32m'    at addPoll (/home/runner/work/DooDates/DooDates/src/lib/pollStorage.ts:272:3)\n'[39m +
2025-11-06T18:08:00.6682406Z     [32m'    at /home/runner/work/DooDates/DooDates/src/lib/__tests__/pollStorage.test.ts:202:18\n'[39m +
2025-11-06T18:08:00.6684312Z     [32m'    at Proxy.assertThrows (file:///home/runner/work/DooDates/DooDates/node_modules/chai/chai.js:2723:5)\n'[39m +
2025-11-06T18:08:00.6686302Z     [32m'    at Proxy.methodWrapper (file:///home/runner/work/DooDates/DooDates/node_modules/chai/chai.js:1618:25)\n'[39m +
2025-11-06T18:08:00.6688391Z     [32m'    at Proxy.<anonymous> (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/expect/dist/index.js:1088:12)\n'[39m +
2025-11-06T18:08:00.6690792Z     [32m'    at Proxy.overwritingMethodWrapper (file:///home/runner/work/DooDates/DooDates/node_modules/chai/chai.js:1670:33)\n'[39m +
2025-11-06T18:08:00.6692880Z     [32m'    at Proxy.<anonymous> (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/expect/dist/index.js:1420:16)\n'[39m +
2025-11-06T18:08:00.6694934Z     [32m'    at Proxy.<anonymous> (file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/expect/dist/index.js:1029:14)'[39m,
2025-11-06T18:08:00.6696231Z   timestamp: [32m'2025-11-06T18:08:00.645Z'[39m,
2025-11-06T18:08:00.6697357Z   context: { component: [32m'pollStorage'[39m, operation: [32m'validateFormPoll'[39m },
2025-11-06T18:08:00.6698298Z   severity: [32m'medium'[39m,
2025-11-06T18:08:00.6698951Z   category: [32m'validation'[39m,
2025-11-06T18:08:00.6700023Z   userMessage: [32m'Le titre du formulaire est obligatoire'[39m
2025-11-06T18:08:00.6700912Z }
2025-11-06T18:08:00.6701297Z 
2025-11-06T18:08:01.2852440Z  [32m‚úì[39m src/services/__tests__/EmailService.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 17[2mms[22m[39m
2025-11-06T18:08:01.6563949Z [90mstderr[2m | src/components/__tests__/PollActions.test.tsx[2m > [22m[2mPollActions[2m > [22m[2mcopies the poll link on copy action
2025-11-06T18:08:01.6565931Z [22m[39mWarning: An update to PollActions inside a test was not wrapped in act(...).
2025-11-06T18:08:01.6566735Z 
2025-11-06T18:08:01.6567508Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:08:01.6568253Z 
2025-11-06T18:08:01.6568547Z act(() => {
2025-11-06T18:08:01.6569164Z   /* fire events that update state */
2025-11-06T18:08:01.6570006Z });
2025-11-06T18:08:01.6570531Z /* assert on the output */
2025-11-06T18:08:01.6570967Z 
2025-11-06T18:08:01.6572060Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:08:01.6574181Z     at PollActions (/home/runner/work/DooDates/DooDates/src/components/polls/PollActions.tsx:15:24)
2025-11-06T18:08:01.6575336Z 
2025-11-06T18:08:01.6607138Z  [32m‚úì[39m src/components/__tests__/PollActions.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 202[2mms[22m[39m
2025-11-06T18:08:02.4206771Z  [32m‚úì[39m src/components/dashboard/__tests__/ManageTagsFolderDialog.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 1092[2mms[22m[39m
2025-11-06T18:08:02.5668720Z  [32m‚úì[39m src/hooks/__tests__/useAutoSave.isolated.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 453[2mms[22m[39m
2025-11-06T18:08:02.6876393Z [90mstdout[2m | src/hooks/__tests__/usePollConversationLink.1to1.test.ts
2025-11-06T18:08:02.6882982Z [22m[39müîß Supabase Config Debug: {
2025-11-06T18:08:02.6883764Z   url: [32m'https://test.supabase.co...'[39m,
2025-11-06T18:08:02.6884489Z   key: [32m'test-anon-key...'[39m,
2025-11-06T18:08:02.6885096Z   isLocalDev: [33mfalse[39m
2025-11-06T18:08:02.6885552Z }
2025-11-06T18:08:02.6885804Z 
2025-11-06T18:08:02.7242763Z [90mstdout[2m | src/hooks/__tests__/usePollConversationLink.1to1.test.ts[2m > [22m[2musePollConversationLink - 1:1 Relations (Task 2.1)[2m > [22m[2m1:1 Link Creation[2m > [22m[2mshould create direct 1:1 relationship using tags (current implementation)
2025-11-06T18:08:02.7245378Z [22m[39m‚ÑπÔ∏è ‚ÑπÔ∏è Poll linked to conversation { conversationId: [32m'conv-1'[39m, pollId: [32m'poll-1'[39m }
2025-11-06T18:08:02.7287156Z 
2025-11-06T18:08:02.7385448Z [90mstderr[2m | src/hooks/__tests__/usePollConversationLink.1to1.test.ts[2m > [22m[2musePollConversationLink - 1:1 Relations (Task 2.1)[2m > [22m[2m1:1 Link Creation[2m > [22m[2mshould handle linking errors gracefully
2025-11-06T18:08:02.7387197Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:02.7387761Z   message: [90mundefined[39m,
2025-11-06T18:08:02.7388251Z   name: [90mundefined[39m,
2025-11-06T18:08:02.7388733Z   stack: [90mundefined[39m,
2025-11-06T18:08:02.7389596Z   timestamp: [32m'2025-11-06T18:08:02.727Z'[39m,
2025-11-06T18:08:02.7390160Z   context: Error: Update failed
2025-11-06T18:08:02.7391357Z       at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/__tests__/usePollConversationLink.1to1.test.ts:63:60
2025-11-06T18:08:02.7393100Z       at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
2025-11-06T18:08:02.7394756Z       at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
2025-11-06T18:08:02.7396400Z       at [90mfile:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
2025-11-06T18:08:02.7397371Z       at new Promise (<anonymous>)
2025-11-06T18:08:02.7398774Z       at runWithTimeout [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
2025-11-06T18:08:02.7400911Z       at runTest [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12[90m)[39m
2025-11-06T18:08:02.7402783Z       at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:08:02.7404786Z       at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:08:02.7406708Z       at runSuite [90m(file:///home/runner/work/DooDates/DooDates/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
2025-11-06T18:08:02.7407708Z }
2025-11-06T18:08:02.7407883Z 
2025-11-06T18:08:02.7981108Z [90mstderr[2m | src/hooks/__tests__/usePollConversationLink.1to1.test.ts[2m > [22m[2musePollConversationLink - 1:1 Relations (Task 2.1)[2m > [22m[2mNavigation[2m > [22m[2mshould navigate to conversation from poll
2025-11-06T18:08:02.7987799Z [22m[39mError: Not implemented: navigation (except hash changes)
2025-11-06T18:08:02.7990048Z     at module.exports (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
2025-11-06T18:08:02.7991753Z     at navigateFetch (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
2025-11-06T18:08:02.7993417Z     at exports.navigate (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
2025-11-06T18:08:02.7995303Z     at LocationImpl._locationObjectNavigate (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)
2025-11-06T18:08:02.7997759Z     at LocationImpl._locationObjectSetterNavigate (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)
2025-11-06T18:08:02.8000203Z     at LocationImpl.set href [as href] (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)
2025-11-06T18:08:02.8002078Z     at Location.set href [as href] (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)
2025-11-06T18:08:02.8003838Z     at Object.navigateToConversation (/home/runner/work/DooDates/DooDates/src/hooks/usePollConversationLink.ts:103:25)
2025-11-06T18:08:02.8017473Z     at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePollConversationLink.1to1.test.ts:132:24
2025-11-06T18:08:02.8021442Z     at /home/runner/work/DooDates/DooDates/node_modules/@testing-library/react/dist/act-compat.js:48:24 [90mundefined[39m
2025-11-06T18:08:02.8024161Z 
2025-11-06T18:08:02.8064616Z [90mstderr[2m | src/hooks/__tests__/usePollConversationLink.1to1.test.ts[2m > [22m[2musePollConversationLink - 1:1 Relations (Task 2.1)[2m > [22m[2mNavigation[2m > [22m[2mshould navigate to poll from conversation
2025-11-06T18:08:02.8068000Z [22m[39mError: Not implemented: navigation (except hash changes)
2025-11-06T18:08:02.8070588Z     at module.exports (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
2025-11-06T18:08:02.8083313Z     at navigateFetch (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
2025-11-06T18:08:02.8084876Z     at exports.navigate (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
2025-11-06T18:08:02.8100144Z     at LocationImpl._locationObjectNavigate (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)
2025-11-06T18:08:02.8102213Z     at LocationImpl._locationObjectSetterNavigate (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)
2025-11-06T18:08:02.8104067Z     at LocationImpl.set href [as href] (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)
2025-11-06T18:08:02.8105729Z     at Location.set href [as href] (/home/runner/work/DooDates/DooDates/node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)
2025-11-06T18:08:02.8107186Z     at Object.navigateToPoll (/home/runner/work/DooDates/DooDates/src/hooks/usePollConversationLink.ts:112:25)
2025-11-06T18:08:02.8108542Z     at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePollConversationLink.1to1.test.ts:143:24
2025-11-06T18:08:02.8110646Z     at /home/runner/work/DooDates/DooDates/node_modules/@testing-library/react/dist/act-compat.js:48:24 [90mundefined[39m
2025-11-06T18:08:02.8111444Z 
2025-11-06T18:08:02.8182610Z  [32m‚úì[39m src/hooks/__tests__/usePollConversationLink.1to1.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 110[2mms[22m[39m
2025-11-06T18:08:03.0396761Z [90mstdout[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.0398446Z [22m[39müîß Supabase Config Debug: {
2025-11-06T18:08:03.0399800Z   url: [32m'https://test.supabase.co...'[39m,
2025-11-06T18:08:03.0400806Z   key: [32m'test-anon-key...'[39m,
2025-11-06T18:08:03.0401358Z   isLocalDev: [33mfalse[39m
2025-11-06T18:08:03.0401756Z }
2025-11-06T18:08:03.0401928Z 
2025-11-06T18:08:03.1196283Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1197976Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:03.1198617Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1199497Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1200220Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1201442Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1203382Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:08:03.1205066Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1206406Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:08:03.1207855Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:08:03.1208901Z   timestamp: [32m'2025-11-06T18:08:03.117Z'[39m,
2025-11-06T18:08:03.1209584Z   context: {
2025-11-06T18:08:03.1210217Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1210980Z     operation: [32m'createConversation'[39m
2025-11-06T18:08:03.1211466Z   },
2025-11-06T18:08:03.1211939Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1212524Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1213382Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:08:03.1214036Z }
2025-11-06T18:08:03.1214517Z üö® DooDates Error: {
2025-11-06T18:08:03.1215105Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1215719Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1216398Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1217568Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1259692Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:08:03.1261553Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1262895Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:08:03.1264392Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:08:03.1265523Z   timestamp: [32m'2025-11-06T18:08:03.118Z'[39m,
2025-11-06T18:08:03.1266072Z   context: {
2025-11-06T18:08:03.1266744Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1267488Z     operation: [32m'createConversation'[39m
2025-11-06T18:08:03.1267967Z   },
2025-11-06T18:08:03.1268425Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1268996Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1270056Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:08:03.1270708Z }
2025-11-06T18:08:03.1270893Z 
2025-11-06T18:08:03.1272660Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1277806Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:08:03.1279628Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:08:03.1282337Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:08:03.1284035Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:08:03.1285277Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:08:03.1286742Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:08:03.1287790Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1288364Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1288793Z   context: {
2025-11-06T18:08:03.1342466Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1343449Z     operation: [32m'createConversation'[39m
2025-11-06T18:08:03.1343977Z   },
2025-11-06T18:08:03.1344576Z   timestamp: [32m'2025-11-06T18:08:03.116Z'[39m,
2025-11-06T18:08:03.1345547Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:08:03.1346216Z }
2025-11-06T18:08:03.1346389Z 
2025-11-06T18:08:03.1348161Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1350354Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:03.1351125Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1351785Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1352497Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1353704Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1355524Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:08:03.1357251Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1358627Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:08:03.1360310Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:08:03.1361405Z   timestamp: [32m'2025-11-06T18:08:03.126Z'[39m,
2025-11-06T18:08:03.1361916Z   context: {
2025-11-06T18:08:03.1362548Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1363340Z     operation: [32m'createConversation'[39m
2025-11-06T18:08:03.1363843Z   },
2025-11-06T18:08:03.1364305Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1364844Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1365663Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:08:03.1366283Z }
2025-11-06T18:08:03.1366738Z üö® DooDates Error: {
2025-11-06T18:08:03.1367292Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1367904Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1368567Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1371634Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1373404Z     [32m'    at createConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:231:28)\n'[39m +
2025-11-06T18:08:03.1374923Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1376109Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:110:22\n'[39m +
2025-11-06T18:08:03.1377422Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:256:32)'[39m,
2025-11-06T18:08:03.1380317Z   timestamp: [32m'2025-11-06T18:08:03.127Z'[39m,
2025-11-06T18:08:03.1380798Z   context: {
2025-11-06T18:08:03.1381355Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1382393Z     operation: [32m'createConversation'[39m
2025-11-06T18:08:03.1383026Z   },
2025-11-06T18:08:03.1383426Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1383915Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1384671Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:08:03.1385297Z }
2025-11-06T18:08:03.1385478Z 
2025-11-06T18:08:03.1387125Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1389269Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la cr√©ation dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:08:03.1390977Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:08:03.1392724Z     at createConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:231:28[90m)[39m
2025-11-06T18:08:03.1394408Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:08:03.1395599Z     at [90m/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:110:22
2025-11-06T18:08:03.1397029Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:256:32[90m)[39m {
2025-11-06T18:08:03.1398095Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1398694Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1399121Z   context: {
2025-11-06T18:08:03.1400063Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1400796Z     operation: [32m'createConversation'[39m
2025-11-06T18:08:03.1401256Z   },
2025-11-06T18:08:03.1401743Z   timestamp: [32m'2025-11-06T18:08:03.126Z'[39m,
2025-11-06T18:08:03.1402597Z   userMessage: [32m'Erreur lors de la cr√©ation de la conversation'[39m
2025-11-06T18:08:03.1403263Z }
2025-11-06T18:08:03.1403448Z 
2025-11-06T18:08:03.1431696Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1433918Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:03.1434711Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1435495Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1436418Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1437834Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1439965Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1441774Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1443389Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1445294Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1447321Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1448707Z   timestamp: [32m'2025-11-06T18:08:03.137Z'[39m,
2025-11-06T18:08:03.1449647Z   context: {
2025-11-06T18:08:03.1450547Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1451539Z     operation: [32m'getConversation'[39m
2025-11-06T18:08:03.1452239Z   },
2025-11-06T18:08:03.1452947Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1453786Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1454864Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1455777Z }
2025-11-06T18:08:03.1456400Z üö® DooDates Error: {
2025-11-06T18:08:03.1457472Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1458499Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1459513Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1460946Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1462954Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1464687Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1466456Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1468551Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1470748Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1472695Z   timestamp: [32m'2025-11-06T18:08:03.138Z'[39m,
2025-11-06T18:08:03.1474099Z   context: {
2025-11-06T18:08:03.1475059Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1475753Z     operation: [32m'getConversation'[39m,
2025-11-06T18:08:03.1476372Z     conversationId: [32m'conv-123'[39m
2025-11-06T18:08:03.1476839Z   },
2025-11-06T18:08:03.1477298Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1477874Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1478720Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1479575Z }
2025-11-06T18:08:03.1479756Z 
2025-11-06T18:08:03.1481472Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1482853Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:03.1483339Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1483887Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1484555Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1485702Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1487507Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1489152Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1491040Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1493022Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1494819Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1495976Z   timestamp: [32m'2025-11-06T18:08:03.138Z'[39m,
2025-11-06T18:08:03.1496486Z   context: {
2025-11-06T18:08:03.1497089Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1497788Z     operation: [32m'getMessages'[39m
2025-11-06T18:08:03.1498229Z   },
2025-11-06T18:08:03.1498661Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1499201Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1500253Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1500911Z }
2025-11-06T18:08:03.1501309Z üö® DooDates Error: {
2025-11-06T18:08:03.1501797Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1502303Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1502945Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1504400Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1506490Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1508147Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1509993Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1511971Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1513723Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1514863Z   timestamp: [32m'2025-11-06T18:08:03.138Z'[39m,
2025-11-06T18:08:03.1515373Z   context: {
2025-11-06T18:08:03.1516028Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1516728Z     operation: [32m'getMessages'[39m,
2025-11-06T18:08:03.1517304Z     conversationId: [32m'conv-123'[39m
2025-11-06T18:08:03.1517749Z   },
2025-11-06T18:08:03.1518201Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1518749Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1519788Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1520474Z }
2025-11-06T18:08:03.1520655Z 
2025-11-06T18:08:03.1522396Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1523924Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:03.1524553Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1525195Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1525932Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1527208Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1529079Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1530966Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1532667Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1534637Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1536448Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1537578Z   timestamp: [32m'2025-11-06T18:08:03.139Z'[39m,
2025-11-06T18:08:03.1538111Z   context: {
2025-11-06T18:08:03.1538767Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1539710Z     operation: [32m'addMessages'[39m
2025-11-06T18:08:03.1540196Z   },
2025-11-06T18:08:03.1540677Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1541232Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1542078Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1542732Z }
2025-11-06T18:08:03.1543156Z üö® DooDates Error: {
2025-11-06T18:08:03.1543700Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1544295Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1544950Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1546112Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1547896Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1549676Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1551724Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1553669Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1555415Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1556562Z   timestamp: [32m'2025-11-06T18:08:03.139Z'[39m,
2025-11-06T18:08:03.1557086Z   context: {
2025-11-06T18:08:03.1557760Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1558524Z     operation: [32m'addMessages'[39m,
2025-11-06T18:08:03.1559241Z     conversationId: [32m'conv-123'[39m
2025-11-06T18:08:03.1559917Z   },
2025-11-06T18:08:03.1560417Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1560972Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1561853Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1562564Z }
2025-11-06T18:08:03.1562752Z 
2025-11-06T18:08:03.1564496Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1566698Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de l'ajout du message dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:08:03.1568316Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:08:03.1570349Z     at getConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:173:28[90m)[39m
2025-11-06T18:08:03.1571978Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:08:03.1573596Z     at getMessages [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:371:26[90m)[39m
2025-11-06T18:08:03.1575421Z     at addMessages [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:485:30[90m)[39m
2025-11-06T18:08:03.1576978Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:272:13[90m)[39m {
2025-11-06T18:08:03.1577932Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1578445Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1578852Z   context: {
2025-11-06T18:08:03.1579638Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1580353Z     operation: [32m'getConversation'[39m
2025-11-06T18:08:03.1580796Z   },
2025-11-06T18:08:03.1581298Z   timestamp: [32m'2025-11-06T18:08:03.137Z'[39m,
2025-11-06T18:08:03.1582167Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1582793Z }
2025-11-06T18:08:03.1582962Z 
2025-11-06T18:08:03.1584531Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1585933Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:03.1586479Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1587037Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1587675Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1588838Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1590772Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1592318Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1593873Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1596123Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1597770Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1598807Z   timestamp: [32m'2025-11-06T18:08:03.147Z'[39m,
2025-11-06T18:08:03.1599472Z   context: {
2025-11-06T18:08:03.1600061Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1600748Z     operation: [32m'getConversation'[39m
2025-11-06T18:08:03.1601199Z   },
2025-11-06T18:08:03.1601616Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1602135Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1602920Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1603537Z }
2025-11-06T18:08:03.1603926Z üö® DooDates Error: {
2025-11-06T18:08:03.1604434Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1605027Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1605707Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1606829Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1608526Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1610235Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1611771Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1613580Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1615201Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1616221Z   timestamp: [32m'2025-11-06T18:08:03.147Z'[39m,
2025-11-06T18:08:03.1616708Z   context: {
2025-11-06T18:08:03.1617287Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1617980Z     operation: [32m'getConversation'[39m,
2025-11-06T18:08:03.1618582Z     conversationId: [32m'conv-123'[39m
2025-11-06T18:08:03.1619013Z   },
2025-11-06T18:08:03.1619580Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1620111Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1620896Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1621509Z }
2025-11-06T18:08:03.1621674Z 
2025-11-06T18:08:03.1623392Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1624823Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:03.1625371Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1625972Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1626622Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1627750Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1629586Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1631081Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1632659Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1634517Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1636162Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1637673Z   timestamp: [32m'2025-11-06T18:08:03.147Z'[39m,
2025-11-06T18:08:03.1638169Z   context: {
2025-11-06T18:08:03.1638752Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1639590Z     operation: [32m'getMessages'[39m
2025-11-06T18:08:03.1640026Z   },
2025-11-06T18:08:03.1640448Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1640957Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1641735Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1642354Z }
2025-11-06T18:08:03.1642730Z üö® DooDates Error: {
2025-11-06T18:08:03.1643229Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1643804Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1644453Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1645566Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1647296Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1648863Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1650683Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1652637Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1680560Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1681690Z   timestamp: [32m'2025-11-06T18:08:03.151Z'[39m,
2025-11-06T18:08:03.1682193Z   context: {
2025-11-06T18:08:03.1682801Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1683486Z     operation: [32m'getMessages'[39m,
2025-11-06T18:08:03.1684158Z     conversationId: [32m'conv-123'[39m
2025-11-06T18:08:03.1684657Z   },
2025-11-06T18:08:03.1685157Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1685722Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1686595Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1687262Z }
2025-11-06T18:08:03.1687446Z 
2025-11-06T18:08:03.1689179Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1690948Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:03.1691584Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1692216Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1692940Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1694179Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1696019Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1697579Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1699079Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1700996Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1702484Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1703379Z   timestamp: [32m'2025-11-06T18:08:03.151Z'[39m,
2025-11-06T18:08:03.1703802Z   context: {
2025-11-06T18:08:03.1704316Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1704930Z     operation: [32m'addMessages'[39m
2025-11-06T18:08:03.1705585Z   },
2025-11-06T18:08:03.1706127Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1706612Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1707366Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1707961Z }
2025-11-06T18:08:03.1708312Z üö® DooDates Error: {
2025-11-06T18:08:03.1708774Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:03.1712237Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:03.1713058Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:03.1714227Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:03.1715998Z     [32m'    at getConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:173:28)\n'[39m +
2025-11-06T18:08:03.1717531Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:03.1719629Z     [32m'    at getMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:371:26)\n'[39m +
2025-11-06T18:08:03.1721884Z     [32m'    at addMessages (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:485:30)\n'[39m +
2025-11-06T18:08:03.1723644Z     [32m'    at Object.addMessage (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:272:13)'[39m,
2025-11-06T18:08:03.1724779Z   timestamp: [32m'2025-11-06T18:08:03.151Z'[39m,
2025-11-06T18:08:03.1725297Z   context: {
2025-11-06T18:08:03.1725933Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1726701Z     operation: [32m'addMessages'[39m,
2025-11-06T18:08:03.1727357Z     conversationId: [32m'conv-123'[39m
2025-11-06T18:08:03.1727829Z   },
2025-11-06T18:08:03.1728301Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1728874Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1729993Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1730679Z }
2025-11-06T18:08:03.1730871Z 
2025-11-06T18:08:03.1732617Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:03.1734886Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de l'ajout du message dans Supabase, utilisation de localStorage DooDatesError: [object Object]
2025-11-06T18:08:03.1736522Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:08:03.1738382Z     at getConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:173:28[90m)[39m
2025-11-06T18:08:03.1740283Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:08:03.1741931Z     at getMessages [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:371:26[90m)[39m
2025-11-06T18:08:03.1744179Z     at addMessages [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:485:30[90m)[39m
2025-11-06T18:08:03.1746159Z     at Object.addMessage [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:272:13[90m)[39m {
2025-11-06T18:08:03.1747233Z   severity: [32m'medium'[39m,
2025-11-06T18:08:03.1747804Z   category: [32m'system'[39m,
2025-11-06T18:08:03.1748234Z   context: {
2025-11-06T18:08:03.1748816Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:03.1749784Z     operation: [32m'getConversation'[39m
2025-11-06T18:08:03.1750273Z   },
2025-11-06T18:08:03.1750828Z   timestamp: [32m'2025-11-06T18:08:03.146Z'[39m,
2025-11-06T18:08:03.1751787Z   userMessage: [32m'Erreur lors de la r√©cup√©ration de la conversation'[39m
2025-11-06T18:08:03.1752462Z }
2025-11-06T18:08:03.1752646Z 
2025-11-06T18:08:03.6224515Z  [32m‚úì[39m src/utils/__tests__/validation.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 18[2mms[22m[39m
2025-11-06T18:08:03.6861484Z  [32m‚úì[39m src/lib/pollStorage.unicity.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 7[2mms[22m[39m
2025-11-06T18:08:04.1484016Z [90mstderr[2m | src/hooks/__tests__/useViewportItems.test.ts[2m > [22m[2museViewportItems[2m > [22m[2mshould update when viewport size changes
2025-11-06T18:08:04.1490105Z [22m[39mWarning: An update to TestComponent inside a test was not wrapped in act(...).
2025-11-06T18:08:04.1492210Z 
2025-11-06T18:08:04.1494107Z When testing, code that causes React state updates should be wrapped into act(...):
2025-11-06T18:08:04.1495950Z 
2025-11-06T18:08:04.1497306Z act(() => {
2025-11-06T18:08:04.1498949Z   /* fire events that update state */
2025-11-06T18:08:04.1500098Z });
2025-11-06T18:08:04.1501438Z /* assert on the output */
2025-11-06T18:08:04.1507962Z 
2025-11-06T18:08:04.1509020Z This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
2025-11-06T18:08:04.1510823Z     at TestComponent (/home/runner/work/DooDates/DooDates/node_modules/@testing-library/react/dist/pure.js:329:5)
2025-11-06T18:08:04.1511613Z 
2025-11-06T18:08:04.2833205Z  [32m‚úì[39m src/hooks/__tests__/useViewportItems.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 186[2mms[22m[39m
2025-11-06T18:08:04.5811392Z  [32m‚úì[39m src/lib/simulation/__tests__/SimulationService.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 31[2mms[22m[39m
2025-11-06T18:08:04.6644419Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:04.6645992Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:04.6646595Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:04.6647176Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:04.6647821Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:04.6648970Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:04.6650903Z     [32m'    at updateConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:292:28)\n'[39m +
2025-11-06T18:08:04.6652571Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:04.6654027Z     [32m'    at Timeout._onTimeout (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:212:21)'[39m,
2025-11-06T18:08:04.6655119Z   timestamp: [32m'2025-11-06T18:08:04.663Z'[39m,
2025-11-06T18:08:04.6655599Z   context: {
2025-11-06T18:08:04.6656203Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:04.6656991Z     operation: [32m'updateConversation'[39m
2025-11-06T18:08:04.6657502Z   },
2025-11-06T18:08:04.6657980Z   severity: [32m'medium'[39m,
2025-11-06T18:08:04.6658538Z   category: [32m'system'[39m,
2025-11-06T18:08:04.6659981Z   userMessage: [32m'Erreur lors de la mise √† jour de la conversation'[39m
2025-11-06T18:08:04.6660917Z }
2025-11-06T18:08:04.6661388Z üö® DooDates Error: {
2025-11-06T18:08:04.6661981Z   message: [32m'[object Object]'[39m,
2025-11-06T18:08:04.6662602Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:04.6663341Z   stack: [32m'DooDatesError: [object Object]\n'[39m +
2025-11-06T18:08:04.6664578Z     [32m'    at handleError (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:111:22)\n'[39m +
2025-11-06T18:08:04.6666506Z     [32m'    at updateConversation (/home/runner/work/DooDates/DooDates/src/lib/storage/ConversationStorageSupabase.ts:292:28)\n'[39m +
2025-11-06T18:08:04.6668241Z     [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n'[39m +
2025-11-06T18:08:04.6669962Z     [32m'    at Timeout._onTimeout (/home/runner/work/DooDates/DooDates/src/hooks/useAutoSave.ts:212:21)'[39m,
2025-11-06T18:08:04.6671103Z   timestamp: [32m'2025-11-06T18:08:04.663Z'[39m,
2025-11-06T18:08:04.6671592Z   context: {
2025-11-06T18:08:04.6672175Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:04.6672869Z     operation: [32m'updateConversation'[39m,
2025-11-06T18:08:04.6673514Z     conversationId: [32m'conv-123'[39m
2025-11-06T18:08:04.6673977Z   },
2025-11-06T18:08:04.6674418Z   severity: [32m'medium'[39m,
2025-11-06T18:08:04.6674970Z   category: [32m'system'[39m,
2025-11-06T18:08:04.6675804Z   userMessage: [32m'Erreur lors de la mise √† jour de la conversation'[39m
2025-11-06T18:08:04.6676443Z }
2025-11-06T18:08:04.6676616Z 
2025-11-06T18:08:04.6678336Z [90mstderr[2m | src/hooks/__tests__/useAutoSave.titleGeneration.test.ts[2m > [22m[2museAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22m[2mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage
2025-11-06T18:08:04.6680479Z [22m[39m‚ùå ‚ÑπÔ∏è Erreur lors de la mise √† jour du titre dans Supabase DooDatesError: [object Object]
2025-11-06T18:08:04.6681924Z     at handleError [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/error-handling.ts:111:22[90m)[39m
2025-11-06T18:08:04.6683775Z     at updateConversation [90m(/home/runner/work/DooDates/DooDates/[39msrc/lib/storage/ConversationStorageSupabase.ts:292:28[90m)[39m
2025-11-06T18:08:04.6685394Z [90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
2025-11-06T18:08:04.6686898Z     at Timeout._onTimeout [90m(/home/runner/work/DooDates/DooDates/[39msrc/hooks/useAutoSave.ts:212:21[90m)[39m {
2025-11-06T18:08:04.6687992Z   severity: [32m'medium'[39m,
2025-11-06T18:08:04.6688578Z   category: [32m'system'[39m,
2025-11-06T18:08:04.6689065Z   context: {
2025-11-06T18:08:04.6689936Z     component: [32m'ConversationStorageSupabase'[39m,
2025-11-06T18:08:04.6690703Z     operation: [32m'updateConversation'[39m
2025-11-06T18:08:04.6691198Z   },
2025-11-06T18:08:04.6691725Z   timestamp: [32m'2025-11-06T18:08:04.663Z'[39m,
2025-11-06T18:08:04.6692643Z   userMessage: [32m'Erreur lors de la mise √† jour de la conversation'[39m
2025-11-06T18:08:04.6693331Z }
2025-11-06T18:08:04.6693526Z 
2025-11-06T18:08:04.7046734Z  [32m‚úì[39m src/hooks/__tests__/useAutoSave.titleGeneration.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 1726[2mms[22m[39m
2025-11-06T18:08:04.7048737Z    [33m[2m‚úì[22m[39m useAutoSave - G√©n√©ration de Titre (Sc√©nario R√©el)[2m > [22mdevrait g√©n√©rer un titre apr√®s cr√©ation de sondage [33m 1724[2mms[22m[39m
2025-11-06T18:08:05.1349152Z  [32m‚úì[39m src/components/dashboard/__tests__/DashboardTableView.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[32m 188[2mms[22m[39m
2025-11-06T18:08:05.5266041Z [90mstdout[2m | src/hooks/__tests__/usePolls.createPoll.test.ts
2025-11-06T18:08:05.5266997Z [22m[39müîß Supabase Config Debug: {
2025-11-06T18:08:05.5267752Z   url: [32m'https://test.supabase.co...'[39m,
2025-11-06T18:08:05.5268563Z   key: [32m'test-anon-key...'[39m,
2025-11-06T18:08:05.5269159Z   isLocalDev: [33mfalse[39m
2025-11-06T18:08:05.5269822Z }
2025-11-06T18:08:05.5270001Z 
2025-11-06T18:08:05.5947864Z [90mstderr[2m | src/hooks/__tests__/usePolls.createPoll.test.ts[2m > [22m[2musePolls.createPoll[2m > [22m[2mrejects creation when selectedDates is empty
2025-11-06T18:08:05.5953506Z [22m[39müö® DooDates Error: {
2025-11-06T18:08:05.5954212Z   message: [32m'No dates selected for poll creation'[39m,
2025-11-06T18:08:05.5954875Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:05.5955659Z   stack: [32m'DooDatesError: No dates selected for poll creation\n'[39m +
2025-11-06T18:08:05.5956921Z     [32m'    at Object.validation (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:136:5)\n'[39m +
2025-11-06T18:08:05.5958343Z     [32m'    at Object.createPoll (/home/runner/work/DooDates/DooDates/src/hooks/usePolls.ts:74:30)\n'[39m +
2025-11-06T18:08:05.5960042Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePolls.createPoll.test.ts:88:30\n'[39m +
2025-11-06T18:08:05.5961826Z     [32m'    at /home/runner/work/DooDates/DooDates/node_modules/@testing-library/react/dist/act-compat.js:48:24\n'[39m +
2025-11-06T18:08:05.5963487Z     [32m'    at act (/home/runner/work/DooDates/DooDates/node_modules/react/cjs/react.development.js:2512:16)\n'[39m +
2025-11-06T18:08:05.5965165Z     [32m'    at Proxy.act (/home/runner/work/DooDates/DooDates/node_modules/@testing-library/react/dist/act-compat.js:47:25)\n'[39m +
2025-11-06T18:08:05.5966813Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePolls.createPoll.test.ts:86:23\n'[39m +
2025-11-06T18:08:05.5968401Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n'[39m +
2025-11-06T18:08:05.5970180Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n'[39m +
2025-11-06T18:08:05.5971775Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20'[39m,
2025-11-06T18:08:05.5972856Z   timestamp: [32m'2025-11-06T18:08:05.590Z'[39m,
2025-11-06T18:08:05.5973742Z   context: { component: [32m'usePolls'[39m, operation: [32m'createPoll'[39m },
2025-11-06T18:08:05.5974482Z   severity: [32m'medium'[39m,
2025-11-06T18:08:05.5975034Z   category: [32m'validation'[39m,
2025-11-06T18:08:05.5975917Z   userMessage: [32m'S√©lectionnez au moins une date pour cr√©er le sondage.'[39m
2025-11-06T18:08:05.5976572Z }
2025-11-06T18:08:05.5976963Z üö® DooDates Error: {
2025-11-06T18:08:05.5977587Z   message: [32m'No dates selected for poll creation'[39m,
2025-11-06T18:08:05.5978250Z   name: [32m'DooDatesError'[39m,
2025-11-06T18:08:05.5979028Z   stack: [32m'DooDatesError: No dates selected for poll creation\n'[39m +
2025-11-06T18:08:05.5980462Z     [32m'    at Object.validation (/home/runner/work/DooDates/DooDates/src/lib/error-handling.ts:136:5)\n'[39m +
2025-11-06T18:08:05.5981909Z     [32m'    at Object.createPoll (/home/runner/work/DooDates/DooDates/src/hooks/usePolls.ts:74:30)\n'[39m +
2025-11-06T18:08:05.5983382Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePolls.createPoll.test.ts:88:30\n'[39m +
2025-11-06T18:08:05.5984954Z     [32m'    at /home/runner/work/DooDates/DooDates/node_modules/@testing-library/react/dist/act-compat.js:48:24\n'[39m +
2025-11-06T18:08:05.5986562Z     [32m'    at act (/home/runner/work/DooDates/DooDates/node_modules/react/cjs/react.development.js:2512:16)\n'[39m +
2025-11-06T18:08:05.5988230Z     [32m'    at Proxy.act (/home/runner/work/DooDates/DooDates/node_modules/@testing-library/react/dist/act-compat.js:47:25)\n'[39m +
2025-11-06T18:08:05.5990019Z     [32m'    at /home/runner/work/DooDates/DooDates/src/hooks/__tests__/usePolls.createPoll.test.ts:86:23\n'[39m +
2025-11-06T18:08:05.5991622Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n'[39m +
2025-11-06T18:08:05.5993466Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n'[39m +
2025-11-06T18:08:05.5995240Z     [32m'    at file:///home/runner/work/DooDates/DooDates/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20'[39m,
2025-11-06T18:08:05.5996321Z   timestamp: [32m'2025-11-06T18:08:05.590Z'[39m,
2025-11-06T18:08:05.5997174Z   context: { component: [32m'usePolls'[39m, operation: [32m'createPoll'[39m },
2025-11-06T18:08:05.5997951Z   severity: [32m'medium'[39m,
2025-11-06T18:08:05.5998486Z   category: [32m'validation'[39m,
2025-11-06T18:08:05.6005590Z   userMessage: [32m'S√©lectionnez au moins une date pour cr√©er le sondage.'[39m
2025-11-06T18:08:05.6006351Z }
2025-11-06T18:08:05.6006532Z 
2025-11-06T18:08:05.6007503Z  [32m‚úì[39m src/hooks/__tests__/usePolls.createPoll.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 30[2mms[22m[39m
2025-11-06T18:08:05.9691590Z  [32m‚úì[39m src/lib/__tests__/timeSlotFunctions.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 25[2mms[22m[39m
2025-11-06T18:08:06.3052438Z  [32m‚úì[39m src/lib/storage/__tests__/messageCounter.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
2025-11-06T18:08:06.3238321Z 
2025-11-06T18:08:06.3239187Z [31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 2 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m
2025-11-06T18:08:06.3239811Z 
2025-11-06T18:08:06.3244341Z [41m[1m FAIL [22m[49m src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22mtitleGeneration + useAutoSave Integration[2m > [22mTitle Generation Integration[2m > [22mshould integrate with conversation storage updates
2025-11-06T18:08:06.3260592Z [31m[1mAssertionError[22m: expected "spy" to be called with arguments: [ Array(1) ][90m
2025-11-06T18:08:06.3261204Z 
2025-11-06T18:08:06.3263362Z Received: 
2025-11-06T18:08:06.3263753Z 
2025-11-06T18:08:06.3264048Z [1m  1st spy call:
2025-11-06T18:08:06.3264283Z 
2025-11-06T18:08:06.3264576Z [22m[2m  [[22m
2025-11-06T18:08:06.3264961Z [2m    {[22m
2025-11-06T18:08:06.3265740Z [32m-     "firstMessage": "Je veux planifier une r√©union d'√©quipe",[90m
2025-11-06T18:08:06.3266806Z [32m-     "title": StringContaining "Je veux planifier une r√©union",[90m
2025-11-06T18:08:06.3267623Z [31m+     "firstMessage": "Hi there!",[90m
2025-11-06T18:08:06.3268277Z [31m+     "title": "Hi there!",[90m
2025-11-06T18:08:06.3268913Z [2m      "userId": "test-user",[22m
2025-11-06T18:08:06.3269721Z [2m    },[22m
2025-11-06T18:08:06.3270129Z [2m  ][22m
2025-11-06T18:08:06.3270332Z 
2025-11-06T18:08:06.3270553Z [1m  2nd spy call:
2025-11-06T18:08:06.3270777Z 
2025-11-06T18:08:06.3270999Z [22m[2m  [[22m
2025-11-06T18:08:06.3271377Z [2m    {[22m
2025-11-06T18:08:06.3272197Z [32m-     "firstMessage": "Je veux planifier une r√©union d'√©quipe",[90m
2025-11-06T18:08:06.3273325Z [32m-     "title": StringContaining "Je veux planifier une r√©union",[90m
2025-11-06T18:08:06.3274235Z [31m+     "firstMessage": "How can I help?",[90m
2025-11-06T18:08:06.3274953Z [31m+     "title": "How can I help?",[90m
2025-11-06T18:08:06.3275624Z [2m      "userId": "test-user",[22m
2025-11-06T18:08:06.3276163Z [2m    },[22m
2025-11-06T18:08:06.3276583Z [2m  ][22m
2025-11-06T18:08:06.3276968Z [31m[90m
2025-11-06T18:08:06.3277169Z 
2025-11-06T18:08:06.3277448Z Number of calls: [1m2[22m
2025-11-06T18:08:06.3277916Z [31m[39m
2025-11-06T18:08:06.3278993Z [36m [2m‚ùØ[22m src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts:[2m298:58[22m[39m
2025-11-06T18:08:06.3327050Z     [90m296| [39m
2025-11-06T18:08:06.3329079Z     [90m297| [39m      [90m// Verify the conversation creation was called with proper title[39m
2025-11-06T18:08:06.3330544Z     [90m298| [39m      expect(mockConversationStorage.createConversation).toHaveBeenCal‚Ä¶
2025-11-06T18:08:06.3331560Z     [90m   | [39m                                                         [31m^[39m
2025-11-06T18:08:06.3332528Z     [90m299| [39m        title: expect.stringContaining("Je veux planifier une r√©union"‚Ä¶
2025-11-06T18:08:06.3334048Z     [90m300| [39m        firstMessage[33m:[39m [32m"Je veux planifier une r√©union d'√©quipe"[39m[33m,[39m
2025-11-06T18:08:06.3334840Z 
2025-11-06T18:08:06.3335326Z [31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/2]‚éØ[22m[39m
2025-11-06T18:08:06.3337016Z 
2025-11-06T18:08:06.3339482Z [41m[1m FAIL [22m[49m src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts[2m > [22mtitleGeneration + useAutoSave Integration[2m > [22mError Handling Integration[2m > [22mshould handle title generation errors gracefully
2025-11-06T18:08:06.3341494Z [31m[1mAssertionError[22m: expected "spy" to be called at least once[39m
2025-11-06T18:08:06.3342829Z [36m [2m‚ùØ[22m src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts:[2m394:51[22m[39m
2025-11-06T18:08:06.3343691Z     [90m392| [39m
2025-11-06T18:08:06.3344392Z     [90m393| [39m      [90m// Verify error was handled gracefully[39m
2025-11-06T18:08:06.3345791Z     [90m394| [39m      [34mexpect[39m(mockConversationStorage[33m.[39maddMessages)[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
2025-11-06T18:08:06.3347018Z     [90m   | [39m                                                  [31m^[39m
2025-11-06T18:08:06.3347650Z     [90m395| [39m    })[33m;[39m
2025-11-06T18:08:06.3348143Z     [90m396| [39m
2025-11-06T18:08:06.3348376Z 
2025-11-06T18:08:06.3348806Z [31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/2]‚éØ[22m[39m
2025-11-06T18:08:06.3349167Z 
2025-11-06T18:08:06.3349200Z 
2025-11-06T18:08:06.3354833Z [2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m52 passed[39m[22m[90m (53)[39m
2025-11-06T18:08:06.3356381Z [2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m825 passed[39m[22m[2m | [22m[33m13 skipped[39m[90m (840)[39m
2025-11-06T18:08:06.3357363Z [2m   Start at [22m 18:07:41
2025-11-06T18:08:06.3380996Z [2m   Duration [22m 24.98s[2m (transform 3.08s, setup 10.02s, collect 11.33s, tests 20.42s, environment 35.50s, prepare 6.56s)[22m
2025-11-06T18:08:06.3381740Z 
2025-11-06T18:08:06.3395619Z 
2025-11-06T18:08:06.3451442Z ##[error]AssertionError: expected "spy" to be called with arguments: [ Array(1) ]

Received: 

  1st spy call:

  [
    {
-     "firstMessage": "Je veux planifier une r√©union d'√©quipe",
-     "title": StringContaining "Je veux planifier une r√©union",
+     "firstMessage": "Hi there!",
+     "title": "Hi there!",
      "userId": "test-user",
    },
  ]

  2nd spy call:

  [
    {
-     "firstMessage": "Je veux planifier une r√©union d'√©quipe",
-     "title": StringContaining "Je veux planifier une r√©union",
+     "firstMessage": "How can I help?",
+     "title": "How can I help?",
      "userId": "test-user",
    },
  ]


Number of calls: 2

 ‚ùØ src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts:298:58


2025-11-06T18:08:06.3464169Z 
2025-11-06T18:08:06.3466759Z ##[error]AssertionError: expected "spy" to be called at least once
 ‚ùØ src/lib/services/__tests__/titleGeneration.useAutoSave.test.ts:394:51


2025-11-06T18:08:06.4417227Z ##[error]Process completed with exit code 1.
2025-11-06T18:08:06.4506951Z Post job cleanup.
2025-11-06T18:08:06.5435817Z [command]/usr/bin/git version
2025-11-06T18:08:06.5472486Z git version 2.51.2
2025-11-06T18:08:06.5516044Z Temporarily overriding HOME='/home/runner/work/_temp/4f465849-30fa-436c-9ae7-3bf6669b998b' before making global git config changes
2025-11-06T18:08:06.5517549Z Adding repository directory to the temporary git global config as a safe directory
2025-11-06T18:08:06.5528680Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/DooDates/DooDates
2025-11-06T18:08:06.5564723Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-11-06T18:08:06.5596659Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-11-06T18:08:06.5820101Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-06T18:08:06.5839105Z http.https://github.com/.extraheader
2025-11-06T18:08:06.5852066Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-11-06T18:08:06.5881749Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-11-06T18:08:06.6207175Z Cleaning up orphan processes
