name: ðŸ”„ Sync Testing â†’ Bug (legacy/manual)

on:
  workflow_dispatch:

jobs:
  sync-to-bug:
    name: ðŸ”„ Sync to Bug Branch
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ“¥ Checkout Code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: ðŸ”§ Configure Git
        run: |
          git config --global user.name "Sync Bot"
          git config --global user.email "sync@doodates.com"

      - name: ðŸ”„ Merge to Bug
        run: |
          # CrÃ©er/mettre Ã  jour la branche bug avec les changements de testing
          git checkout -b bug || git checkout bug
          git merge origin/testing --no-ff -m "sync: testing â†’ bug"
          git pull origin bug --rebase

      - name: ðŸ“¤ Push to Bug
        run: git push origin bug
