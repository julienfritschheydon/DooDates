name: ðŸ”„ Sync Staging â†’ Testing

on:
  push:
    branches: [staging]

jobs:
  sync-to-testing:
    name: ðŸ”„ Sync to Testing Branch
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ“¥ Checkout Code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: ðŸ”§ Configure Git
        run: |
          git config --global user.name "Sync Bot"
          git config --global user.email "sync@doodates.com"

      - name: ðŸ”„ Merge to Testing
        run: |
          git checkout testing
          git merge origin/staging --no-ff -m "sync: staging â†’ testing"
          
      - name: ðŸ“¤ Push to Testing
        run: git push origin testing
