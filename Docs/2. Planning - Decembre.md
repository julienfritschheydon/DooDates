# üöÄ DOODATES - PLANNING LANCEMENT D√âTAILL√â
***

## NOUVELLES IDEES
  ### HIGH
  ### MEDIUM
  ### LOW

## üìã OBJECTIF STRAT√âGIQUE

**üéØ Deadline Lancement :** Janvier 2026  
**üë• Objectif :** Lancer 4 produits   
**üåè Vision :** Architecture internationale "privacy-by-design" et "security-by-design"

---

## PLAN D'EX√âCUTION - 3H/JOUR (2H + 1H TRAVAIL DE FOND)

    IDEE POUR LE SUPPORT
     - Chaque demande est analys√© et si on ne peut pas r√©pondre avec le script on demande √† gemini et on note la question pour rajouter cela au script 
     - Section support & demande dans l'interface UI, dans la barre de gauche ? Ainsi ?

### TESTS 

  - [ ] **Tester √† la main les favories**
  - [ ] **Tester l'acc√®s aux votes**
  - [ ] **Tester RGPD**
  - [ ] **Tests finaux 4 workflows**
  - [ ] **Tester les Automatisation RGPD avanc√©e**
  - [ ] **Revoir et tester la page http://localhost:8080/DooDates/data-control et toutes les fonctionalit√©s**
  - [ ] **Sondage - tester les conflits Google Calendar**
  - [ ] **Documentation utilisateur √† aligner avec les "vrai" fonctionalit√©s et mettre des √©crans**
  - [ ] **Tester les emails, donc ceux des quotas etc....**

---

### üí∞ QUOTAS & PRICING 

#### üéØ Mod√®le √©conomique & plans (√† finaliser pour lancement)

      **R√©f√©rences :**
      - `Docs/OLD/2025-First-Idea-DooDates.md` (plan historique GRATUIT / PRO / PREMIUM, paiement unique)
      - `Docs/INTERNATIONAL/2025-International-Pricing-Architecture.md` (price lists, g√©ographie, Lemon Squeezy)
      - `Docs/INTERNATIONAL/2025-International-Launch-Strategy.md` (freemium global, Free / Starter / Premium / Pro)
      - `src/pages/Pricing.tsx` (page tarifs actuelle, plans Free / Premium / Pro, TODO checkout)

      **Positionnement initial (id√©e 2025) :**
      - Interface ultra-moderne avec micro-animations et UX fluide
      - Paiement unique au lieu d'abonnements r√©currents (diff√©renciateur cl√©)
      - IA conversationnelle pour cr√©ation automatique de sondages
      - Ciblage individus/freelances plut√¥t qu'entreprises

      **Plan √©conomique historique (MVP) :**
      - GRATUIT : 3 sondages, fonctionnalit√©s basiques, 30 jours
      - PRO (15‚Ç¨) : ~100 sondages, calendrier, personnalisation
      - PREMIUM (25‚Ç¨) : ~500 sondages, tout PRO + Assistant IA

      **√âvolution actuelle (docs internationales) :**
      - Freemium permanent g√©n√©reux (Free) pour maximiser l'adoption
      - Starter (achat unique) pour lever la barri√®re psychologique des abonnements
      - Premium / Pro en abonnement mensuel ou annuel pour les usages r√©guliers / pros
      - Gestion des prix par r√©gion via `price_lists` + d√©tection g√©ographique (d√©j√† impl√©ment√©)

      **D√©cisions √† trancher pour Janvier (Go Live 4 produits) :**
      - [ ] Valider le mod√®le final :
      - [ ] Free (permanent, quotas IA limit√©s, export gratuit)
      - [ ] Starter one-shot (cr√©dits IA lifetime ou gros pack limit√©)
      - [ ] Premium / Pro (abonnements) align√©s avec `Pricing.tsx` et la strat√©gie internationale
      - [ ] Mettre √† jour les pages pricings
      - [ ] D√©cider d√©finitivement du Merchant of Record (Lemon Squeezy vs alternatives) en suivant `INTERNATIONAL-PRICING-ARCHITECTURE.md`
      - [ ] Cartographier pr√©cis√©ment chaque plan ‚Üî quotas (`POLL_TYPE_QUOTAS`, cr√©dits IA, limites par produit)
      - [ ] Mettre √† jour `Pricing.tsx` pour remplacer le TODO `handleUpgrade()` par un vrai checkout (Lemon Squeezy / MoR choisi)
      - [ ] Documenter le mod√®le √©conomique final dans une section d√©di√©e (site + docs), en gardant trace du diff√©renciateur "paiement simple / transparent"


#### üß≠ Plan d‚Äôimpl√©mentation paiements (MoR + Pricing)

      **√âtape 1 ‚Äì D√©cision Merchant of Record (1/2 journ√©e)**
      - [ ] Relire la comparaison d√©taill√©e dans `INTERNATIONAL-Launch-Strategy.md` (Lemon Squeezy / Paddle / Nexway)
      - [ ] Trancher : choisir officiellement un MoR (par d√©faut Lemon Squeezy tant qu‚Äôaucun blocage identifi√©)
      - [ ] Cr√©er le compte + r√©cup√©rer les identifiants (store id, variants, webhook secret)

      **√âtape 2 ‚Äì Mapping plans ‚Üî produits/prix (1/2 journ√©e)**
      - [ ] D√©finir la table finale des plans : Free / Starter one-shot / Premium / Pro (mensuel/annuel)
      - [ ] Aligner chaque plan avec : `product.code` Supabase, `price_list`, `lemonsqueezy_variant_id`
      - [ ] V√©rifier coh√©rence avec la page `Pricing.tsx` (noms, descriptions, quotas IA, sondages)

      **√âtape 3 ‚Äì Int√©gration checkout (1 journ√©e)**
      - [ ] Impl√©menter `lib/payments/lemonsqueezy.ts` (ou √©quivalent) en suivant `INTERNATIONAL-PRICING-ARCHITECTURE.md`
      - [ ] Brancher `handleUpgrade()` dans `Pricing.tsx` sur ce service (plus de `alert()` demo)
      - [ ] G√©rer le retour apr√®s paiement (succ√®s / √©chec) avec redirection vers Dashboard + message clair

      **√âtape 4 ‚Äì Webhook & activation des plans (1 journ√©e)**
      - [ ] Cr√©er l‚ÄôEdge Function webhook (ex. `lemonsqueezy-webhook`) qui re√ßoit les √©v√©nements paiement
      - [ ] Mapper les `variant_id` vers `plan_type` + cr√©dits IA initiaux
      - [ ] Mettre √† jour la ligne utilisateur (plan, cr√©dits, dates) de fa√ßon idempotente
      - [ ] Logger les transactions dans une table d√©di√©e (`transactions`)

      **√âtape 5 ‚Äì Tests & garde-fous (1/2 journ√©e)**
      - [ ] Tester tout le flow : clic Pricing ‚Üí MoR ‚Üí retour app ‚Üí plan activ√©
      - [ ] V√©rifier que les quotas IA / sondages refl√®tent bien le plan actif
      - [ ] Ajouter un feature flag pour pouvoir d√©sactiver temporairement le checkout si besoin

      **R√©sultat attendu :** en Janvier, m√™me si l‚Äôactivation publique des paiements est progressive, toute la cha√Æne technique (mod√®le √©conomique, plans, MoR, Pricing, quotas) est pr√™te et test√©e.



#### 5. D√©finir limites exactes des quotas
      **Fichier concern√© :**`src/constants/quotas.ts`

      **Valeurs actuelles (temporaires) :**
      ```typescript
      export const POLL_TYPE_QUOTAS = {
        ANONYMOUS: {
          DATE_POLLS: 5,           // ‚ö†Ô∏è √Ä d√©finir dans planning d√©cembre
          FORM_POLLS: 5,           // ‚ö†Ô∏è √Ä d√©finir dans planning d√©cembre
          QUIZZ: 5,                // ‚ö†Ô∏è √Ä d√©finir dans planning d√©cembre
          AVAILABILITY_POLLS: 5,   // ‚ö†Ô∏è √Ä d√©finir dans planning d√©cembre
        },
        AUTHENTICATED: {
          DATE_POLLS: 50,          // ‚ö†Ô∏è √Ä d√©finir dans planning d√©cembre
          FORM_POLLS: 50,          // ‚ö†Ô∏è √Ä d√©finir dans planning d√©cembre
          QUIZZ: 50,               // ‚ö†Ô∏è √Ä d√©finir dans planning d√©cembre
          AVAILABILITY_POLLS: 50,  // ‚ö†Ô∏è √Ä d√©finir dans planning d√©cembre
        },
      } as const;
      ```

      **√Ä faire dans le planning de janvier :**
      - [ ] D√©cider des limites exactes selon la strat√©gie produit
      - [ ] Mettre √† jour les constantes dans `src/constants/quotas.ts`
      - [ ] Mettre √† jour les limites dans `GUEST_LIMITS` (`src/lib/guestQuotaService.ts`)
      - [ ] Mettre √† jour les limites dans la fonction SQL `consume_quota_credits` (`sql-scripts/create-quota-tracking-table.sql`)

#### UI Pricing & Conversion (2 jours)

    **Page Pricing (`/pricing`):** ‚úÖ CR√â√â
    - [X] Composant `PricingPage.tsx`
    - [X] Toggle Monthly/Annual avec badge √©conomie
    - [X] 3 cards tiers (Gratuit, Premium, Pro)
    - [X] Section Beta Testeurs (comment rejoindre)
    - [X] Comparaison features (tableau)
    - [X] FAQ pricing (6 questions)
    - [X] CTA final "Commencer gratuitement"
    - [X] Responsive mobile + Dark mode
    - [X] Route `/pricing` configur√©e

    **Modal Upgrade in-app:**
    - [ ] Trigger automatique √† 100% quota
    - [ ] Afficher tier actuel + recommandation personnalis√©e
    - [ ] Boutons:
      - "Voir les plans" ‚Üí /pricing
      - "Acheter pack cr√©dits" ‚Üí Modal achat
      - "Plus tard" ‚Üí Fermer (re-trigger dans 7 jours)
    - [ ] Tracking analytics (ouverture, clics, conversion)

    **Packs cr√©dits (Phase 2 - apr√®s Stripe):**
    - [ ] Modal `CreditPackPurchase.tsx`
    - [ ] 3 packs (50/3‚Ç¨, 100/5‚Ç¨, 500/20‚Ç¨)
    - [ ] Integration Stripe Checkout
    - [ ] Confirmation email avec r√©cap
    - [ ] Ajout cr√©dits imm√©diat apr√®s paiement
    - [ ] Validit√© 6 mois (tracking expiration)

    **Int√©grations Avanc√©es (Options C & D):**

    **Option C: Conversion optimis√©e (30 min)** ‚≠ê RECOMMAND√â
    - [X] Sidebar: Bouton "Tarifs" apr√®s "Tableau de bord" ‚úÖ FAIT
    - [ ] Modal quota: Trigger automatique √† 80% et 100% des cr√©dits
    - [ ] Indicateur cr√©dits: Badge cliquable dans TopBar "42/100 ‚ö°"
      - Tooltip: D√©tails consommation (messages: 20, analytics: 15, simulations: 7)
      - Click ‚Üí Redirect `/pricing` avec anchor #upgrade
    - Fichiers: `QuotaIndicator.tsx`, `QuotaReachedModal.tsx`, `useCredits.ts`
    - Triggers: 80% cr√©dits (dismissible 7j), 100% cr√©dits (force), apr√®s 3 blocages

    **Option D: Compl√®te (1h)** - Nice to have
    - [ ] Dashboard card "Votre plan" (tier, usage, upgrade CTA)
    - [ ] Menu Settings: Section "Abonnement & Facturation"
    - [ ] Floating button: "Upgrade" si cr√©dits < 20%
    - [ ] Banner temporaire: Promotions (ex: "-50% beta testeurs")
    - Fichiers: `PlanCard.tsx`, `SubscriptionSettings.tsx`, `FloatingUpgradeButton.tsx`

  ---


### SEO agent AgentSEO.jpg
    **THE PROMPT I USED TO BUILD AN SEO AGENT**
        Build an agent that performs a complete technical SEO audit for any provides prioritized, actionable optimization website and recommendations.
        When a user provides a URL, act as a Senior Technical SEO Specialist with 12+ years of experience. Analyze systematically:
        Site speed & Core Web Vitals (LCP, FID, CLS)
        Crawlability (robots.txt, XML sitemaps, indexation)
        Mobile responsiveness & optimization
        HTTPS and security setup
        Structured data & schema markup
        Internal linking architecture
        Duplicate content & canonical tags
        Meta tags & heading hierarchy
        Ask one natural question to identify their main goal (e.g., traffic growth, technical fixes, migration prep). Then present findings in this structure:
        1. **Critical Issues** fix immediately (high impact)
        2. **Important Optimizations** fix soon (medium impact)
        3. **Recommended Enhancements** nice to have
        For each issue, provide:
        What's wrong and why it matters
        Step-by-step fix instructions
        Expected outcome or improvement
        How to validate the fix
        Use clear, concise, and actionable language.
        Every recommendation should include implementation steps, prioritized by SEO impact and difficulty.

### üîÑ EOL (END OF LIFE) - ANCIENNE EXP√âRIENCE QUOTAS UNIFI√âS

  #### Contexte
  Avec la s√©paration compl√®te des quotas par produit (date-polls, form-polls, quizz, availability), l'ancienne exp√©rience o√π les 3 produits partageaient un quota global `polls_created` est obsol√®te.

  #### √âtat actuel
  - ‚úÖ **S√©paration technique compl√®te** : Compteurs s√©par√©s dans la base de donn√©es
  - ‚úÖ **Limites par type** : Chaque produit a sa propre limite ind√©pendante
  - ‚ö†Ô∏è **R√©trocompatibilit√© maintenue** : `polls_created` existe encore pour affichage uniquement (via trigger SQL)
  - ‚ö†Ô∏è **V√©rifications globales supprim√©es** : Plus de limite globale `polls_created >= LIMIT`

  #### Actions EOL √† planifier

  **Strat√©gie :** Branche s√©par√©e `feature/eol-remove-polls-created` depuis `testing` pour isoler les changements et ne pas casser la version testing actuelle.

  #### Phase 1 : Nettoyage code (Janvier 2025)
  - [ ] Cr√©er branche `feature/eol-remove-polls-created` depuis `testing`
  - [ ] Retirer `pollsCreated` de toutes les interfaces TypeScript
  - [ ] Remplacer `pollsCreated` par calcul √† la vol√©e dans les composants UI : `datePollsCreated + formPollsCreated + quizzCreated + availabilityPollsCreated`
  - [ ] Mettre √† jour Edge Functions pour ne plus retourner `pollsCreated`
  - [ ] Mettre √† jour tous les scripts de monitoring pour ne plus utiliser `polls_created`
  - [ ] Mettre √† jour tests E2E pour ne plus v√©rifier `pollsCreated`
  - [ ] Supprimer trigger SQL `sync_polls_created_trigger`
  - [ ] Supprimer fonction SQL `sync_polls_created_from_separated_counters`
  - [ ] Supprimer colonne `polls_created` de `quota_tracking` et `guest_quotas`
  - [ ] Mettre √† jour documentation pour refl√©ter la s√©paration compl√®te

  #### Phase 2 : Tests & Validation (Janvier 2025)
  - [ ] Tests de r√©gression complets sur la branche EOL
  - [ ] V√©rifier que tous les composants UI fonctionnent avec calcul √† la vol√©e
  - [ ] V√©rifier que les dashboards admin affichent correctement les quotas s√©par√©s
  - [ ] Tests E2E passent avec les nouveaux compteurs uniquement

  #### Phase 3 : Merge & Documentation (F√©vrier 2025)
  - [ ] Merge de `feature/eol-remove-polls-created` dans `testing` apr√®s validation
  - [ ] Documenter la d√©cision d'EOL dans `Docs/ARCHITECTURE/`
  - [ ] Mettre √† jour guides d√©veloppeur

  #### Notes importantes
  - `polls_created` est actuellement maintenu uniquement pour l'affichage dans l'UI
  - Les limites sont maintenant **uniquement** v√©rifi√©es par type de poll
  - Le trigger SQL maintient `polls_created = somme des 4 compteurs` automatiquement
  - **Aucune action imm√©diate requise** : L'EOL peut √™tre planifi√© apr√®s la b√™ta

  #### Plan d'action d√©taill√© (Branche EOL)

  **Fichiers √† modifier (ordre d'ex√©cution) :**

  1. **Interfaces TypeScript** (priorit√© haute - base de tout)
     - `src/lib/quotaTracking.ts` : Interface `QuotaConsumedData` (ligne 58)
     - `src/lib/quotaTracking.d.ts` : Interface `QuotaConsumedData` (ligne 37)
     - `src/lib/guestQuotaService.ts` : Interface `GuestQuotaData` et mapping
     - `src/pages/AdminQuotaDashboard.tsx` : Interface `GuestQuota` (ligne 39)

  2. **Services & Edge Functions**
     - `src/lib/quotaTracking.ts` : Retirer `pollsCreated` des retours de fonctions
     - `supabase/functions/quota-tracking/index.ts` : Retirer `pollsCreated` des r√©ponses (lignes 255, 381)
     - `src/lib/supabase.ts` : V√©rifier les requ√™tes qui utilisent `polls_created`

  3. **Composants UI** (remplacer par calcul √† la vol√©e)
     - `src/pages/AdminQuotaDashboard.tsx` : Calculer `pollsCreated = somme des 4 compteurs` si besoin d'affichage
     - `src/pages/AdminUserActivity.tsx` : Idem
     - `src/components/ui/QuotaIndicator.tsx` : V√©rifier si utilis√©
     - Tous les hooks : `useQuota.ts`, `useFreemiumQuota.ts`

  4. **Tests E2E**
     - `tests/e2e/quota-tracking-complete.spec.ts` : Retirer toutes les assertions sur `pollsCreated`
     - `tests/e2e/products/cross-product/cross-product-workflow.spec.ts` : Idem
     - `src/lib/__tests__/guestQuotaService.test.ts` : Idem

  5. **Base de donn√©es SQL** (derni√®re √©tape)
     - `sql-scripts/create-quota-tracking-table.sql` : Supprimer colonne, trigger, fonction
     - `sql-scripts/create-guest-quotas-table.sql` : Supprimer colonne
     - `sql-scripts/create-can-consume-function.sql` : Retirer r√©f√©rence ligne 27

  6. **Scripts de monitoring**
     - `sql-scripts/view-user-quotas.sql` : Retirer `polls_created`
     - `sql-scripts/monitor-guest-quotas.sql` : Idem
     - `scripts/view-quotas.ps1` / `scripts/view-quotas.sh` : Idem

  **Fonction utilitaire √† cr√©er :**
  ```typescript
  // Calcul √† la vol√©e pour l'affichage
  function calculateTotalPollsCreated(quota: {
    datePollsCreated: number;
    formPollsCreated: number;
    quizzCreated: number;
    availabilityPollsCreated: number;
  }): number {
    return quota.datePollsCreated + quota.formPollsCreated + 
           quota.quizzCreated + quota.availabilityPollsCreated;
  }
  ```

### SEMAINE 4 : 

  ### üìå LUNDI 22 D√âCEMBRE

    #### Checklist performance
    [ ] Ouvrir /performance
    [ ] V√©rifier que "Jours track√©s" a augment√©
    [ ] V√©rifier les nouvelles m√©triques dans Supabase
    [ ] V√©rifier les logs des workflows GitHub Actions
    [ ] V√©rifier s'il y a des alertes cr√©√©es


  ### üìå MARDI 23 D√âCEMBRE

  **D√âPLOIEMENT EN PRODUCTION**
  - [ ] D√©ploiement progressif
  - [ ] Monitoring des erreurs
  - [ ] Support utilisateur


## NEXT

  ### RGPD üö® PROBL√àME CRITIQUE : Utilisateurs non connect√©s
      **Trou identifi√© :** Les utilisateurs invit√©s (non connect√©s) n'ont pas d'email pour les alertes
      - **Risque :** Suppression automatique sans pr√©avis pour les invit√©s
      - [ ] **Probl√®me** : Les invit√©s n'ont pas d'email pour les alertes de suppression
      - [ ] **Solution 1** : Demander email optionnel lors cr√©ation (guest mode)
      - [ ] **Solution 2** : P√©riode de r√©tection 90j pour invit√©s vs 30j pour connect√©s
      - [ ] **Solution 3** : Alertes in-app plus visibles pour invit√©s
      - [ ] **Solution 4** : Warning "Connectez-vous pour sauvegarder vos donn√©es"
      - [ ] **Tests** : V√©rifier que les invit√©s sont bien prot√©g√©s

  #### Monitoring RGPD
      - **Alertes** : D√©passement des dur√©es de conservation
      - **Rapports** : Mensuels sur les demandes RGPD
      - **Audit** : Annuel de la conformit√©

  #### Traffic 
  1. PICK the 5+ questions people ask most in your category things like ‚Äúx vs y,‚Äù ‚Äúbest tools for ___,‚Äù ‚Äútop alternatives to ___z' (these become your anchor pages) 
  2. CREATE the clearest answer on the internet for each one like tables, pricing snapshots, use cases, strengths, limitations, examples. 
  3. ADD short summaries that models can digest easily. (basically LLMs prefer concise sections followed by depth, so build both) 
  4. KEEP updating these pages every month AI favors sources that stay current and freshness signals matter. 
  5. LINK these pages across your product, blog, docs, and onboarding. because internal structure helps models surface you more consistently. 
  6. TRACK which queries LLMs pick you for use tools like searchable, brightedge ai promptwatch, keyword insights, or simple workflows with chatgpt, gemini, and perplexity to see which pages models pull from, then refine based on the patterns 
  7. CREATE structured data the way LLMs think. clear headings, comparison blocks, tight labels. predictable structure ‚Üí easier citation. 
  8. BUILD a ‚Äúsource of truth‚Äù page for your entire category one deep explainer with: how it works, common mistakes, use cases, buyer checklists. models love foundational clarity. 
  9. PUBLISH transparent opinions! ‚Äúwho this is for‚Äù and ‚Äúwho this is built for‚Äù creates strong signal. i noticed LLMs favor the confidence. 
  10. ADD real examples and scenarios. workflows and before/after snapshots give llms concrete anchors. 
  11. CREATE a glossary LLMs rely on clean definitions when generating answers a glossary becomes a reference hub for your niche. 
  12. BUILD topical clusters instead of random posts 5 strong, related pages outperform 50 scattered ones. depth beats volume. 
  13. EMBED real data stats, comparisons, and numbers increase citation because they strengthen model answers. ai search influences more than billions of prompts every day, and a growing share of those answers involve choosing tools, comparing products, and understanding categories. hope this playbook gets your creative juices flowing.

  #### Marketing

    # ROLE
    You are Gemini 3, acting as a full-stack AI marketing strategist for a start-up about to launch a new product.
    # INPUTS
    product:
    {Describe your product or service here}
    audience: Who is it for? (demographics, psychographics, industry, etc.)}
    launch_goal: {e.g. "generate leads", "build awareness", "launch successfully"}
    brand_tone: {e.g. "bold & punchy", "casual & fun", "professional & clear"}
    # TASKS
    1. Customer Insight
    Build an Ideal Customer Profile (ICP).
    List top pain points, desired gains, and buying triggers.
    Suggest 3 positioning angles that will resonate.
    2. Conversion Messaging
    Craft a hook-driven landing page (headline, sub-headline, CTA).
    Give 3 viral headline options.
    Produce a Messaging Matrix: Pain Promise ‚Üí Proof CT–ê.
    3. Content Engine
    . Create a 7-day content plan for X/Twitter **and** LinkedIn.
    Include daily post titles, themes, and tone tips.
    Add 1 short-form video idea that supports the plan.
    4. Email Playbook
    Write 3 cold-email variations:
    Value-first, ‚ë° Problem-Agitate-Solve, ‚ë¢ Social-proof / case-study.
    5. SEO Fast-Track
    . Propose 1 SEO topic cluster that aligns with the product.
    Give 5 blog-post titles targeting mid high-intent keywords.
    . Outline a "pillar + supporting posts" structure.
    # OUTPUT RULES
    Use clear section headers (e.g. **ICP**, **Landing Copy**, **SEO Titles**).
    Format in Markdown for easy reading.
    No chain-of-thought or reasoning-deliver polished results only.