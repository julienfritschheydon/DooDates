# DooDates - Development Planning


---

### üêõ Bugs √† Corriger
   
- le bouton cr√©√©er avec ia ne marche plus
- nighly echoue
   - il faut comit√©

### üîß T√¢ches Techniques Avant Merge Main

- [ ] **CRITIQUE : Corriger les 567 erreurs ESLint** (avant merge vers main)
  - 512 erreurs `@typescript-eslint/no-explicit-any` 
  - 55 warnings React hooks
  - Fichiers principaux : GeminiChatInterface.tsx, PollCreator.tsx, hooks/, lib/
  - **Estimation :** 4-6h
  - **Priorit√© :** üî¥ BLOQUANT pour merge main
  - **Note :** Actuellement ignor√© avec `continue-on-error: true` sur branche test

## üÜï NOUVELLES ID√âES - √Ä ANALYSER 

### üéØ Strat√©gie Tarifaire R√©vis√©e

**Contexte :** Analyse concurrentielle SurveyMonkey r√©v√®le opportunit√© de positionnement diff√©renci√©

**D√©cision strat√©gique :**
- ‚úÖ **Offre gratuite "b√©ton"** : Surpasser Google Forms pour attirer base utilisateurs
- ‚úÖ **Offre payante comp√©titive** : Alternative abordable √† SurveyMonkey (10‚Ç¨ vs 468‚Ç¨/an)
- ‚úÖ **Focus s√©lectif** : Ne PAS impl√©menter toutes les features SurveyMonkey (certaines inutiles)

**üìã TODO :** Analyser en d√©tail les fonctionnalit√©s √† impl√©menter vs ignorer
‚Üí Voir document `2025-10-26-Analyse-Concurrentielle-SurveyMonkey.md` section 10.3

---

### üöÄ INNOVATIONS IA - DIFF√âRENCIATEURS MAJEURS

#### 1. üß™ Simulation IA des R√©ponses

**Concept :** L'IA g√©n√®re des r√©ponses fictives pour tester/valider le questionnaire AVANT envoi

**Valeur ajout√©e :**
- Validation questionnaire AVANT envoi (√©conomie temps/argent)
- Am√©lioration qualit√© des donn√©es collect√©es
- D√©tection questions ambigu√´s, biais potentiels
- **AUCUN concurrent ne fait √ßa** (diff√©renciateur unique)

**Priorit√© :** üî• HAUTE - Feature diff√©renciante majeure

**Estimation :** 15-20h d√©veloppement

**üìã TODO :** Sp√©cifier algorithme de g√©n√©ration et crit√®res d'analyse
‚Üí Voir document SurveyMonkey section 10.4 pour d√©tails complets

---

#### 2. üìä Analyse Temporelle Continue

**Concept :** L'IA analyse l'√©volution des r√©ponses en temps r√©el pendant la collecte

**Fonctionnalit√©s :**
- Snapshots automatiques √† intervalles configurables
- D√©tection de tendances ("R√©ponses n√©gatives +15% depuis hier")
- Alertes intelligentes (baisse taux r√©ponse, tendances n√©gatives)
- Analyse comparative temporelle (Semaine 1 vs Semaine 2)

**Valeur ajout√©e :**
- R√©activit√© en cours d'enqu√™te (vs analyse post-mortem)
- D√©tection pr√©coce de probl√®mes
- Optimisation continue du taux de r√©ponse
- **SurveyMonkey n'a pas √ßa**

**Priorit√© :** üî• HAUTE - Feature diff√©renciante majeure

**Estimation :** 20-25h d√©veloppement

**üìã TODO :** D√©finir fr√©quences snapshot, seuils d'alerte, types de tendances
‚Üí Voir document SurveyMonkey section 10.4 pour cas d'usage d√©taill√©s

---

#### 3. üéØ Validation d'Objectifs

**Concept :** L'utilisateur d√©finit l'objectif, l'IA valide que le questionnaire permet de l'atteindre

**Workflow :**
1. Utilisateur d√©finit objectif ("Mesurer satisfaction et identifier points d'am√©lioration")
2. IA g√©n√®re questionnaire
3. Utilisateur demande validation ("Simule 100 r√©ponses et v√©rifie objectif")
4. IA analyse ad√©quation questions ‚Üî objectifs
5. IA propose adaptations si n√©cessaire

**Valeur ajout√©e :**
- Garantit alignement questionnaire ‚Üî objectifs
- √âvite collecte de donn√©es inutiles
- Maximise ROI de l'enqu√™te
- **Unique sur le march√©**

**Priorit√© :** üî• HAUTE - Feature diff√©renciante majeure

**Estimation :** 15-20h d√©veloppement

**üìã TODO :** D√©finir format d√©finition objectifs et crit√®res validation
‚Üí Voir document SurveyMonkey section 10.4 pour workflow complet

---

### üìù ANALYSE D√âTAILL√âE √Ä FAIRE

**üìã TODO PRIORITAIRE :** Analyser en profondeur les fonctionnalit√©s Form Polls

**Questions √† r√©soudre :**
1. **Quelles features SurveyMonkey impl√©menter ?**
   - Comparer avec fonctionnalit√©s existantes DooDates
   - Identifier gaps critiques vs nice-to-have
   - Prioriser selon effort/impact

2. **Quelles features SurveyMonkey IGNORER ?**
   - Panel "Audience" (co√ªteux, hors scope)
   - 200+ int√©grations (maintenance excessive)
   - Certifications HIPAA/SOC 2 (overkill PME)
   - A/B Testing avanc√© (complexit√© excessive)

3. **Comment impl√©menter les 3 innovations IA ?**
   - Architecture technique d√©taill√©e
   - Int√©gration avec syst√®me IA existant
   - Interface utilisateur (GUI + conversationnel)
   - Tests et validation

4. **Quelle roadmap de d√©veloppement ?**
   - Phase 1 : Consolider existant (1-2 mois)
   - Phase 2 : Innovations IA (2-3 mois)
   - Phase 3 : Marketing diff√©renci√© (3-6 mois)

**üìÖ Deadline :** √Ä planifier (pas ce soir)

**üìÑ R√©f√©rence :** Document `2025-10-26-Analyse-Concurrentielle-SurveyMonkey.md`
- Section 10.2 : Strat√©gie tarifaire d√©taill√©e
- Section 10.3 : Features √† NE PAS impl√©menter
- Section 10.4 : Innovations IA (specs compl√®tes)
- Section 10.5 : Plan d'action strat√©gique

---























## NOW - Current Work & Immediate Blockers

#### üìã Jour 3-4 : Simplifier GeminiChatInterface - **√Ä PLANIFIER** (4-5h)

**Objectif :** R√©duire GeminiChatInterface de 800+ lignes √† < 500 lignes

**Quand :** Quand les tests de E2E seront utilis√©s pour valider le refactoring

**Actions :**
- [ ] Extraire hooks m√©tier
  - `useQuotaManagement` - Gestion quota conversations
  - `usePollPersistence` - Sauvegarde automatique
  - `usePollCreation` - Logique cr√©ation sondages
- [ ] Extraire composants
  - `ChatMessageList` - Affichage messages
  - `ChatInput` - Saisie utilisateur
  - `PollSuggestions` - Suggestions IA
- [ ] Tests unitaires pour chaque hook/composant

**Gains attendus :**
- Code plus lisible et maintenable
- Composants r√©utilisables
- Tests plus faciles
- < 500 lignes dans GeminiChatInterface

---

### üìã Autres t√¢ches
- [ ] Cr√©er template EmailJS `template_ai_feedback` (5 min)

### Permettre la reconnaissance vocale pour le chat (Web Speech API) ‚úÖ
   - [x] Hook useVoiceRecognition cr√©√©
   - [x] Bouton micro int√©gr√© dans chat
   - [x] Feedback visuel temps r√©el
   - [x] Gestion erreurs et permissions
   - [x] Quotas ajust√©s (-50%) pour compenser usage facilit√©
   - [ ] Tests (1h)
      

### Freemium
   - [x] Cr√©er useAiMessageQuota (1h) ‚úÖ
      - [x] Tracker messages IA
      - [x] V√©rifier limite avant appel Gemini
      - [x] Sauvegarder dans localStorage
   - [x] Int√©grer dans GeminiChatInterface (1h) ‚úÖ
      - [x] Bloquer si quota d√©pass√©
      - [x] Afficher compteur restant
      - [x] Trigger auth incentive
      - [x] Service AiQuotaService cr√©√© (code propre)
   - [x] Ajouter limite polls/conversation (30 min) ‚úÖ
      - [x] V√©rifier nombre polls dans conversation
      - [x] Bloquer cr√©ation si > 3
      - [x] Incr√©menter compteur apr√®s cr√©ation
   - [ ] Tests (1h)
      - [ ] Tester limite 20 messages
      - [ ] Tester limite 3 polls/conversation
      - [ ] Tester auth incentive

### üéØ Priorit√©s Imm√©diates

### üß™ Tests - Plan d'Action Optionnel

**R√©f√©rence** : Voir `TESTS-GUIDE-COMPLET.md` et `ANALYSE-TESTS-OCTOBRE-2025.md`

### üìä Dashboard & UX Core (Priorit√© HAUTE)

**Dashboard unifi√© - Actions essentielles**
- [ ] R√©sultats (affichage histogrammes)
- [ ] Voter
- [ ] Dupliquer
- [ ] Supprimer
- [ ] Archiver
- [ ] Reprendre conversation
- [ ] Filtres (BUG : ne marchent pas bien)
- [ ] Recherche
- [ ] Sorting & pagination
- [ ] Poll claiming (associer sondage sans compte)

**UX & Animations**
- [ ] Vote experience mobile vs desktop

### üìà Graphiques & Analytics (Priorit√© MOYENNE)

**Graphiques r√©sultats (Recharts - 3-4h)**
- [ ] Int√©gration Recharts
- [ ] BarChart, PieChart, GaugeChart
- [ ] Export PNG/SVG
- [ ] Seuils pagination (texte >50 r√©ponses)
- [ ] √âchelle histogrammes (pourcentage vs valeur brute)

### üé® UX Polish (Priorit√© BASSE)

**Quick wins visuels**
- [ ] Audit UX flows (cr√©ation, vote, r√©sultats)
- [ ] Espacement, couleurs, typographie
- [ ] Transitions et feedback


---

## 2. NEXT - Features Avanc√©es

### Multi-step Flow [OPTIONNEL] (4-6h)
- Design Typeform-style
- 1 question par √©cran
- Barre de progression
- Navigation clavier (Entr√©e, Fl√®ches)
- Validation par √©tape
- Animations transitions



#### üé® Th√®mes Visuels - STRAT√âGIE FREEMIUM VALID√âE

**üåø Th√®me NATURE (Gratuit)**
- Public : Grand public, √©v√©nements occasionnels
- Objectif : Acquisition, marketing viral
- Status : ‚úÖ Specs compl√®tes + mockups g√©n√©r√©s
- Fichier : `Docs/Visual-Identity-Specs.md` section 3

**‚ö™‚ö´ Th√®me MINIMALISTE Light + Dark (Premium)**
- Public : Power users, pros, sessions longues
- Objectif : Conversion payante, diff√©renciation tangible
- Status : ‚úÖ Specs compl√®tes (√† g√©n√©rer par L√©a)
- Fichier : `Docs/Visual-Identity-Specs.md` sections 3A/3B
- Accent Light : Coral `#FF6B6B`
- Accent Dark : Mint `#00FFA3`

**‚ùå Th√®mes √©limin√©s :**
- Business navy bleu (trop g√©n√©rique)
- TikTok n√©on gradients (trop niche)

**üìê √Ä g√©n√©rer pour L√©a :**
- Minimaliste Light : Dashboard, Poll Creation, Results
- Minimaliste Dark : Dashboard, Poll Creation, Results
- Format Desktop 1920x1080


### Tests Performance + A11y (1-2 semaines) - **OPTIONNEL**

**Semaine 1 : Tests Performance (Lighthouse)**
- [ ] Jour 1 : Installer `@lhci/cli`, `lighthouse`
- [ ] Jour 2 : Cr√©er `lighthouserc.json` (seuils : perf 90%, a11y 95%, SEO 90%)
- [ ] Jour 3-4 : Scripts NPM `test:lighthouse`
- [ ] Jour 5 : Workflow GitHub `performance-tests.yml` (mercredi 14h)

**Semaine 2 : Tests Accessibilit√© (Axe)**
- [ ] Jour 1 : Installer `@axe-core/playwright`
- [ ] Jour 2 : Cr√©er `tests/a11y/accessibility.spec.ts`
  - Tests : Violations a11y, navigation clavier, aria-labels
- [ ] Jour 3 : Int√©grer dans `pr-validation.yml`

**Bonus : Bundle Analysis**
- [ ] Installer `webpack-bundle-analyzer`
- [ ] Script `analyze:bundle`
- [ ] Monitorer taille bundle en CI

**R√©sultat** :
- ‚úÖ Tests Lighthouse (performance, SEO)
- ‚úÖ Tests Axe (accessibilit√©)
- ‚úÖ Bundle analysis
- ‚úÖ M√©triques track√©es en CI

## 3. PRE LANCEMENT

### Onboarding
- [ ] First-time user experience
- [ ] Tour guid√© IA-first
- [ ] Exemples interactifs

### Timezone
- **QUESTION** : choix de la timezone ? Comment cela se passe actuellement et dans un contexte internationale, comment faire cela au mieux ?
    - Ajouter choix timezone lors de la cr√©ation
    - Stocker timezone: "Europe/Paris" dans les polls
    - Afficher indication "Horaires en heure de Paris"
    - Utiliser date-fns-tz pour conversion

### Email Templates & Workflows
- **Templates d'emails professionnels** : Cr√©ation, vote confirmation, notifications
- **Flux avec emails automatis√©s**
- **Analytics & Monitoring** : M√©triques usage + performance
- **Tableau de bord d√©veloppeurs**

### Authentication & Security
- **Sans Compte Owner Token** (voir @Sans-Compte-OwnerToken.md)
- **Accessibilit√©** (√©diteur + vote) : Focus management, aria labels
- **Performance** : Rendre uniquement la question active (d√©j√† fait), virtualisation si > 20 questions
- **Analytics dev** : Taux de compl√©tion, abandons par √©tape, erreurs validation

#### Google Services Integration (10-15h)
**Objectif :** Int√©gration compl√®te √©cosyst√®me Google

**Composants :**

**1. Google OAuth 2.0 (base) - 4h**
- Flow frontend/backend
- Tokens management (stockage, refresh)
- Scopes permissions

**2. Google Sheets API Export - 8-12h**
- Export direct vers Sheets via API officielle
- Cr√©ation spreadsheet automatique
- Remplissage donn√©es structur√©es
- Gestion rate limits (300 req/min)

**3. Calendar Integration (optionnel) - 2-3h**
- Auto-suggestion apr√®s s√©lection dates
- Connexion calendrier (Google Calendar API)
- Interface discr√®te et optionnelle

**Architecture :**
- Backend Node.js pour gestion tokens
- googleapis SDK
- Rate limiting + error handling

**Note :** Base OAuth r√©utilisable pour tous les services Google

### Payment System & Monetization
- **Syst√®me de paiement int√©gr√©**
- **Gestion abonnements Pro/Premium**
- **D√©blocage features payantes** (exports avanc√©s, analytics d√©taill√©s)
- **M√©triques de conversion** et analytics business
- **Quotas Management** : Limites par option/segment, feedback temps-r√©el
- **QUESTION** : √âtats UI quotas (source de v√©rit√© serveur, √©tats √† afficher, seuil "presque plein" 90%/95%?)

**Note:** Formats d'export actuellement support√©s: CSV, PDF, JSON, Markdown (pas de Google Sheets/XLSX)

### Deployment & Operations
- **Setup Sentry** : Configuration monitoring production (voir Docs/Monitoring-Production.md)
- **Production Setup** : Domain, hosting, email service, database
- **CI/CD Pipeline** : Tests automatis√©s, branch protection, deployment automation
- **Beta Launch** : 100+ early adopters, mobile-first, feedback collection

### Plan d'Acquisition (D√©connexion Strat√©gie ‚Üî Planning)
Manque: Strat√©gie d√©taille "Phase 1: 0-100 users" mais aucun plan d'impl√©mentation
Impact: Pas de plan concret pour atteindre les premiers utilisateurs
N√©cessaire: Landing page, Product Hunt, Reddit outreach, SEO

### Analytics & Tracking (Fonctionnel manquant)
Manque: Strat√©gie mentionne 20+ KPIs (conversion, activation, IA quality) mais aucun plan d'impl√©mentation
Impact: Impossible de mesurer le succ√®s ou optimiser
N√©cessaire: Setup Plausible/Posthog, √©v√©nements tracking, dashboards

### Monitoring Production (Op√©rationnel critique)
Manque: Sentry mentionn√© mais pas de plan d√©taill√©
Impact: Risque de bugs silencieux en production
N√©cessaire: Setup Sentry, alerting, error tracking, uptime monitoring

### Onboarding Utilisateurs (UX critique)
Manque: Mentionn√© dans strat√©gie (welcome emails, product tours) mais pas dans planning
Impact: Taux d'activation faible
N√©cessaire: First-run experience, tooltips, emails onboarding

### i18n (Internationalisation) (Strat√©gique)
Manque: Strat√©gie dit "app globale d√®s lancement" mais i18n est en LATER
Impact: March√© limit√© √† FR/EN
N√©cessaire: Setup i18next, traductions, formats locaux

### Pre-Launch (Semaine -2 √† -1)
1. **Setup Infrastructure Production**
   - [ ] Domain setup (doodates.com)
   - [ ] Vercel production deployment
   - [ ] Supabase production DB
   - [ ] Sentry error tracking
   - [ ] Uptime monitoring

2. **Landing Page & Marketing**
   - [ ] Landing page avec value prop claire
   - [ ] SEO basique (meta tags, sitemap)
   - [ ] Analytics setup (conversions tracking)
   - [ ] Screenshots & d√©mo vid√©o

3. **Beta Testing**
   - [ ] Recruter 10-20 beta testers
   - [ ] Tests sc√©narios critiques (create, vote, results)
   - [ ] Collecter feedback structured
   - [ ] Fix bugs critiques



## LAUNCH

### Launch Day (Jour 0)
- [ ] Product Hunt launch
- [ ] Reddit posts (r/productivity, r/SideProject)
- [ ] Personal network outreach
- [ ] Social media annonce

### Post-Launch (Semaine 1-4)
- [ ] Daily monitoring (analytics + Sentry)
- [ ] R√©pondre feedback utilisateurs
- [ ] It√©rations rapides (bugs + quick wins)
- [ ] M√©triques de succ√®s: 50-100 users, 10+ polls created

## LATER - Advanced Features (Post-MVP)

### Tests Unitaires - Fichiers `.skip`

**Fichiers `.skip` √† migrer** (5 fichiers) :
- `useFreemiumQuota.test.ts.skip` - API chang√©e (refactor 2h)
- `QuotaIndicator.test.tsx.skip` - API chang√©e (refactor 2h)
- `ConversationHistory.test.tsx.skip` - Migration Jest‚ÜíVitest (30min)
- `GeminiChatInterface.integration.test.tsx.skip` - Migration Jest‚ÜíVitest (1h)
- `unified-flow.test.ts.skip` - Fix import paths (15min)

**Tests individuels skipp√©s** (18 tests) :
- 10 calendar-integration (volontaire, √† garder skipp√©s)
- 8 autres tests (timing, mocks complexes)

### PWA Core Features (en r√©flexion)
- **Installable app**
- **Push notifications**
- **Offline functionality**
- **Note** : Statut √† confirmer (MVP ou Post-MVP)

### OR Mobile Native (Capacitor)
- Transform web app to Android native
- Native APIs integration
- Push notification system complet

### Anti-doublons Avanc√©
- **Double-submit** : D√©sactiver bouton apr√®s clic, idempotence c√¥t√© API (token de soumission)
- **Empreinte locale** : Hash local (device + pollId + contenu) stock√© en localStorage
- **Comportement** : Bloquer ET alerter l'utilisateur (message explicite + impossibilit√© de re-soumettre)
- **Dur√©e du blocage** : Jusqu'√† une nouvelle cr√©ation (pas de d√©lai temporel, blocage permanent pour ce contenu exact)

### Advanced Form Features

#### Autres Advanced Features
- **Reordering & Duplication** : Focus management, raccourcis clavier, annonces ARIA, ID stability

### File & Media Support
- **File Uploads** dans formulaires
- **Media attachments** pour contexte sondages

### Advanced Authentication
- **Forced Authentication** pour r√©pondants (option)
- **Enterprise SSO** integration
- **Advanced permissions** et r√¥les
- **Multi-factor Authentication** pour les comptes administrateurs

### Chat AI

### ü§ñ IA Avanc√©e 

**Smart suggestions proactives (6-8h)**
- [ ] "Cette question pourrait √™tre une matrice ?"
- [ ] "Trop d'options, veux-tu les grouper ?"
- [ ] Suggestions contextuelles intelligentes
- [ ] Updates with "every/chaque"
- [ ] Undo/Redo
- [ ] Tester formulations naturelles possibles

**Analytics conversationnels IA (8-10h)**
- [ ] Query langage naturel ("Combien ont vot√© ?", "Option populaire ?")
- [ ] G√©n√©ration insights automatiques
- [ ] D√©tection patterns et tendances
- [ ] R√©sum√©s intelligents

**Export via IA (2h)**
- [ ] "Exporte en CSV" ‚Üí t√©l√©chargement auto
- [ ] "G√©n√®re PDF" ‚Üí impression
- [ ] Commandes conversationnelles

#### Templates Pr√©d√©finis (2h) - NON PRIORITAIRE
**Objectif :** Biblioth√®que de questionnaires pr√™ts √† l'emploi

**Templates types :**
- "Satisfaction client" ‚Üí 5-7 questions standard
- "Feedback produit" ‚Üí Questions NPS + ouvertes
- "Inscription √©v√©nement" ‚Üí Coordonn√©es + pr√©f√©rences

**Note :** Fonctionnalit√© identifi√©e comme non n√©cessaire par l'utilisateur. L'IA g√©n√®re d√©j√† des questionnaires pertinents √† la demande.- **Am√©lioration prompts** bas√©e sur metrics

#### Autres
- **Scoring System** : Points/poids aux r√©ponses pour priorisation, matching, qualification
- **Quotas** par option
- **Analytics avanc√©s** Form Polls

## M√©triques de Succ√®s 

#### Phase NOW (MVP Completion)
- [ ] 0 erreurs critiques en production (Sentry)
- [ ] Tests E2E passent √† 100%
- [ ] Temps de r√©ponse API < 500ms

#### Phase NEXT-1 (MVP Launch)
- [ ] 50-100 utilisateurs (4 semaines)
- [ ] 10+ sondages cr√©√©s
- [ ] Taux de conversion visiteur ‚Üí cr√©ateur: 5%
- [ ] Taux d'activation: 30% (1+ vote re√ßu)

#### Phase NEXT-2 (Post-Launch Growth)
- [ ] 500-1000 utilisateurs (3 mois)
- [ ] 5-10 conversions Pro/Premium
- [ ] Taux de r√©tention J30: 20%
- [ ] NPS: > 40

#### Phase NEXT-3 (Diff√©renciation)
- [ ] 2000-5000 utilisateurs (6 mois)
- [ ] 50+ conversions payantes
- [ ] Taux d'utilisation IA: 15%
- [ ] Break-even co√ªts infrastructure

---



