# DooDates - Development Planning

## 1. NOW - Current Work & Immediate Blockers

**Sprint 2 (Semaine 3-4) - UX IA-First MVP :** 13h
- Chat plein √©cran landing (4h)
- Sidebar layout navigation (5h)
- Preview live basique (4h)

### üî• Sprint Actuel : IA Foundations + UX IA-First (16-23h)

**Strat√©gie :** Poser les fondations pour exp√©rience IA-first compl√®te
**Vision long-terme :** Interface chat-centric avec sidebar (ChatGPT-like)

#### üß† Partie A : Renforcement IA (9h)
**Objectif :** L'IA doit √©galer le GUI en fonctionnalit√©s

**1. Parsing dates/heures avanc√© (3h)**
- "mercredi prochain" ‚Üí date exacte
- "15h-17h" ‚Üí cr√©neaux horaires
- "cette semaine" / "mois prochain"
- D√©tection contexte temporel intelligent

**2. Modification sondages via IA (4h)**
- Charger sondage existant dans chat
- Modifications langage naturel ("Ajoute question prix", "Retire Q3")
- Merge intelligent + pr√©visualisation
- Prompt Gemini "modify" vs "create"
- Tests modification + backward compatibility

**3. Export via IA (2h)**
- "Exporte en CSV" ‚Üí t√©l√©chargement automatique
- "G√©n√®re PDF" ‚Üí impression
- Commandes export conversationnelles
- Compl√©ter la boucle IA

#### üé® Partie C : UX Polish (7-11h)
**Objectif :** Interface professionnelle et moderne

**1. Interface & UX Improvements (2h)**
- Audit UX flows principaux (cr√©ation, vote, r√©sultats)
- Quick wins visuels (espacement, couleurs, typographie)
- Am√©liorations ergonomie (feedback, transitions)
- Tests utilisateurs rapides

**2. Graphiques Recharts (3-4h)**
- Int√©gration Recharts (1h)
- BarChart pour choix unique/multiple (1h)
- PieChart + GaugeChart pour NPS (1h)
- Export PNG/SVG des graphiques (30min)
- Tests + responsive (30min)

**3. Multi-step Flow [OPTIONNEL] (4-6h)**
- Design Typeform-style
- 1 question par √©cran
- Barre de progression
- Navigation clavier (Entr√©e, Fl√®ches)
- Validation par √©tape
- Animations transitions

#### üìä Estimation Totale
- **Minimum (sans multi-step) :** 16-17h (~2-3 semaines)
- **Complet (avec multi-step) :** 20-23h (~3-4 semaines)

#### üöÄ Ordre d'ex√©cution - ROADMAP IA-FIRST VALID√âE

**üìç STRAT√âGIE LANCEMENT :** Option A - Investir 24h (NOW + Phase 1 UX IA-first) avant lancement

**Sprint 1 (Semaine 1-2) - IA Foundations :** 11h
- ‚úÖ Parsing dates/heures avanc√© (3h)
- ‚úÖ Modification sondages via IA (4h)
- ‚úÖ Export via IA (2h)
- ‚úÖ Interface improvements (2h)



**Sprint 3 (Semaine 5-6) - Polish & Graphiques :** 7-11h
- Graphiques Recharts (3-4h)
- Preview r√©active avanc√©e (4h) [Phase 2 IA]
- Multi-step Flow (4-6h) [OPTIONNEL]

**üéØ Total avant lancement : 24-28h (~5-7 semaines)**
**R√©sultat : Exp√©rience IA-first diff√©renciante + Interface pro**

**üìö Roadmap compl√®te d√©taill√©e :** Voir `Docs/AI-First-UX-Roadmap.md`

---

#### üé® Th√®mes Visuels - STRAT√âGIE FREEMIUM VALID√âE

**üåø Th√®me NATURE (Gratuit)**
- Public : Grand public, √©v√©nements occasionnels
- Objectif : Acquisition, marketing viral
- Status : ‚úÖ Specs compl√®tes + mockups g√©n√©r√©s
- Fichier : `Docs/Visual-Identity-Specs.md` section 3

**‚ö™‚ö´ Th√®me MINIMALISTE Light + Dark (Premium)**
- Public : Power users, pros, sessions longues
- Objectif : Conversion payante, diff√©renciation tangible
- Status : ‚úÖ Specs compl√®tes (√† g√©n√©rer par L√©a)
- Fichier : `Docs/Visual-Identity-Specs.md` sections 3A/3B
- Accent Light : Coral `#FF6B6B`
- Accent Dark : Mint `#00FFA3`

**‚ùå Th√®mes √©limin√©s :**
- Business navy bleu (trop g√©n√©rique)
- TikTok n√©on gradients (trop niche)

**üìê √Ä g√©n√©rer pour L√©a :**
- Minimaliste Light : Dashboard, Poll Creation, Results
- Minimaliste Dark : Dashboard, Poll Creation, Results
- Format Desktop 1920x1080

#### üêõ Bugs √† pr√©ciser
(√Ä d√©tailler)

## 2. NEXT

### Form Poll Features

#### IA Conversationnelle Compl√®te (suite) - AFTER NOW
**Objectif strat√©gique :** L'IA doit pouvoir faire TOUT ce que l'interface graphique peut faire

**Principe fondamental :**
> "Si l'IA a un p√©rim√®tre limit√© vs GUI riche, l'IA sera per√ßue comme gadget"
> ‚Üí Concurrence frontale avec produits sans IA mais plus complets
> ‚Üí Perte du diff√©renciateur strat√©gique

**Fonctionnalit√©s √† d√©velopper (parit√© IA ‚Üî GUI) :**

**1. Modification sondages existants (4h)**
- Charger sondage dans chat IA
- Modifications langage naturel ("Ajoute question prix", "Retire Q3")
- Merge intelligent + pr√©visualisation
- Prompt Gemini "modify" vs "create"

**2. Parsing dates/heures avanc√© (3h)**
- "mercredi prochain" ‚Üí date exacte
- "15h-17h" ‚Üí cr√©neaux horaires
- "cette semaine" / "mois prochain"
- D√©tection contexte temporel

**3. Context Management conversation (2h)**
- M√©moire conversation multi-tours
- R√©f√©rences au contexte ant√©rieur
- Continuit√© dans les modifications

**4. Smart Suggestions (2h)**
- Suggestions intelligentes bas√©es sur contexte
- Apprentissage pr√©f√©rences utilisateur
- Am√©lioration prompts bas√©e metrics

**5. Export via IA (2h)**
- "Exporte en CSV" ‚Üí t√©l√©chargement auto
- "G√©n√®re PDF" ‚Üí impression
- Commandes export conversationnelles

**6. Analyse r√©sultats via IA (2h)**
- "Analyse les r√©sultats du sondage X"
- G√©n√©ration insights automatiques
- R√©sum√©s intelligents

**Architecture :**
```typescript
// ai/advanced/
‚îú‚îÄ‚îÄ ContextManager.ts       // Gestion contexte conversation
‚îú‚îÄ‚îÄ DateTimeParser.ts       // Parsing dates/heures NLP
‚îú‚îÄ‚îÄ SmartSuggestions.ts     // Suggestions intelligentes
‚îú‚îÄ‚îÄ LearningEngine.ts       // Apprentissage pr√©f√©rences
‚îú‚îÄ‚îÄ ConversationFlow.ts     // Flow conversation optimis√©
‚îú‚îÄ‚îÄ PollModifier.ts         // Modification sondages existants
‚îî‚îÄ‚îÄ ResultsAnalyzer.ts      // Analyse r√©sultats intelligente
```

**Mesure de succ√®s :**
- Taux d'utilisation IA : 15%+ (objectif m√©triques)
- Feedback : "L'IA fait vraiment tout"
- Diff√©renciateur concurrentiel clair

#### Autres Features Form Poll
- **Multi-step Flow** (Typeform-style) : Une question par √©cran, barre de progression, validation par √©tape
- **Results Display** : Histogrammes r√©sultats FormPoll (mini barres horizontales)
- **QUESTION** : Seuils de pagination (texte >50 r√©ponses ‚Üí ¬´ Voir plus ¬ª, nombre N pour Dashboard)
- **QUESTION** : √âchelle histogrammes (pourcentage vs valeur brute, troncature labels, affichage ex-aequo)

#### Graphiques avanc√©s pour r√©sultats (3-4h)
**Objectif :** Visualisations interactives professionnelles des r√©sultats FormPoll

**Technologies :**
- Recharts (50kb gzipped)
- BarChart, PieChart, GaugeChart
- Export PNG/SVG

**Timeline :** 3-4h
- Int√©gration Recharts (1h)
- Composants graphiques (2h)
- Export images (30min)
- Tests + responsive (30min)

**Priorit√© :** Post-lancement (apr√®s 500+ users)
**Note :** L'IA devra aussi pouvoir g√©n√©rer/exporter ces graphiques

### Dashboard Improvements
- **Sorting & pagination**
  - Tri par updated_at, votes_count, participants_count
  - Pagination si > N √©l√©ments
- **Poll claiming**
  - Si cr√©√© sans compte, action "Associer √† mon compte" (flow de claim via token)


## 3. PRE LANCEMENT

### Timezone
- **QUESTION** : choix de la timezone ? Comment cela se passe actuellement et dans un contexte internationale, comment faire cela au mieux ?
    - Ajouter choix timezone lors de la cr√©ation
    - Stocker timezone: "Europe/Paris" dans les polls
    - Afficher indication "Horaires en heure de Paris"
    - Utiliser date-fns-tz pour conversion

### Email Templates & Workflows
- **Templates d'emails professionnels** : Cr√©ation, vote confirmation, notifications
- **Flux avec emails automatis√©s**
- **Analytics & Monitoring** : M√©triques usage + performance
- **Tableau de bord d√©veloppeurs**

### Authentication & Security
- **Sans Compte Owner Token** (voir @Sans-Compte-OwnerToken.md)
- **Accessibilit√©** (√©diteur + vote) : Focus management, aria labels
- **Performance** : Rendre uniquement la question active (d√©j√† fait), virtualisation si > 20 questions
- **Analytics dev** : Taux de compl√©tion, abandons par √©tape, erreurs validation

#### Google Services Integration (10-15h)
**Objectif :** Int√©gration compl√®te √©cosyst√®me Google

**Composants :**

**1. Google OAuth 2.0 (base) - 4h**
- Flow frontend/backend
- Tokens management (stockage, refresh)
- Scopes permissions

**2. Google Sheets API Export - 8-12h**
- Export direct vers Sheets via API officielle
- Cr√©ation spreadsheet automatique
- Remplissage donn√©es structur√©es
- Gestion rate limits (300 req/min)

**3. Calendar Integration (optionnel) - 2-3h**
- Auto-suggestion apr√®s s√©lection dates
- Connexion calendrier (Google Calendar API)
- Interface discr√®te et optionnelle

**Architecture :**
- Backend Node.js pour gestion tokens
- googleapis SDK
- Rate limiting + error handling

**Note :** Base OAuth r√©utilisable pour tous les services Google

### Payment System & Monetization
- **Syst√®me de paiement int√©gr√©**
- **Gestion abonnements Pro/Premium**
- **D√©blocage features payantes** (exports avanc√©s, analytics d√©taill√©s)
- **M√©triques de conversion** et analytics business
- **Quotas Management** : Limites par option/segment, feedback temps-r√©el
- **QUESTION** : √âtats UI quotas (source de v√©rit√© serveur, √©tats √† afficher, seuil "presque plein" 90%/95%?)

**Note:** Formats d'export actuellement support√©s: CSV, PDF, JSON, Markdown (pas de Google Sheets/XLSX)

### Deployment & Operations
- **Setup Sentry** : Configuration monitoring production (voir Docs/Monitoring-Production.md)
- **Production Setup** : Domain, hosting, email service, database
- **CI/CD Pipeline** : Tests automatis√©s, branch protection, deployment automation
- **Beta Launch** : 100+ early adopters, mobile-first, feedback collection

### Plan d'Acquisition (D√©connexion Strat√©gie ‚Üî Planning)
Manque: Strat√©gie d√©taille "Phase 1: 0-100 users" mais aucun plan d'impl√©mentation
Impact: Pas de plan concret pour atteindre les premiers utilisateurs
N√©cessaire: Landing page, Product Hunt, Reddit outreach, SEO

### Analytics & Tracking (Fonctionnel manquant)
Manque: Strat√©gie mentionne 20+ KPIs (conversion, activation, IA quality) mais aucun plan d'impl√©mentation
Impact: Impossible de mesurer le succ√®s ou optimiser
N√©cessaire: Setup Plausible/Posthog, √©v√©nements tracking, dashboards

### Monitoring Production (Op√©rationnel critique)
Manque: Sentry mentionn√© mais pas de plan d√©taill√©
Impact: Risque de bugs silencieux en production
N√©cessaire: Setup Sentry, alerting, error tracking, uptime monitoring

### Onboarding Utilisateurs (UX critique)
Manque: Mentionn√© dans strat√©gie (welcome emails, product tours) mais pas dans planning
Impact: Taux d'activation faible
N√©cessaire: First-run experience, tooltips, emails onboarding

### i18n (Internationalisation) (Strat√©gique)
Manque: Strat√©gie dit "app globale d√®s lancement" mais i18n est en LATER
Impact: March√© limit√© √† FR/EN
N√©cessaire: Setup i18next, traductions, formats locaux

### Pre-Launch (Semaine -2 √† -1)
1. **Setup Infrastructure Production**
   - [ ] Domain setup (doodates.com)
   - [ ] Vercel production deployment
   - [ ] Supabase production DB
   - [ ] Sentry error tracking
   - [ ] Uptime monitoring

2. **Landing Page & Marketing**
   - [ ] Landing page avec value prop claire
   - [ ] SEO basique (meta tags, sitemap)
   - [ ] Analytics setup (conversions tracking)
   - [ ] Screenshots & d√©mo vid√©o

3. **Beta Testing**
   - [ ] Recruter 10-20 beta testers
   - [ ] Tests sc√©narios critiques (create, vote, results)
   - [ ] Collecter feedback structured
   - [ ] Fix bugs critiques



## LAUNCH

### Launch Day (Jour 0)
- [ ] Product Hunt launch
- [ ] Reddit posts (r/productivity, r/SideProject)
- [ ] Personal network outreach
- [ ] Social media annonce

### Post-Launch (Semaine 1-4)
- [ ] Daily monitoring (analytics + Sentry)
- [ ] R√©pondre feedback utilisateurs
- [ ] It√©rations rapides (bugs + quick wins)
- [ ] M√©triques de succ√®s: 50-100 users, 10+ polls created

## 4. LATER - Advanced Features (Post-MVP)

### Tests Unitaires - Fichiers `.skip`

**Fichiers `.skip` √† migrer** (5 fichiers) :
- `useFreemiumQuota.test.ts.skip` - API chang√©e (refactor 2h)
- `QuotaIndicator.test.tsx.skip` - API chang√©e (refactor 2h)
- `ConversationHistory.test.tsx.skip` - Migration Jest‚ÜíVitest (30min)
- `GeminiChatInterface.integration.test.tsx.skip` - Migration Jest‚ÜíVitest (1h)
- `unified-flow.test.ts.skip` - Fix import paths (15min)

**Tests individuels skipp√©s** (18 tests) :
- 10 calendar-integration (volontaire, √† garder skipp√©s)
- 8 autres tests (timing, mocks complexes)

### PWA Core Features (en r√©flexion)
- **Installable app**
- **Push notifications**
- **Offline functionality**
- **Note** : Statut √† confirmer (MVP ou Post-MVP)

### OR Mobile Native (Capacitor)
- Transform web app to Android native
- Native APIs integration
- Push notification system complet

### Anti-doublons Avanc√©
- **Double-submit** : D√©sactiver bouton apr√®s clic, idempotence c√¥t√© API (token de soumission)
- **Empreinte locale** : Hash local (device + pollId + contenu) stock√© en localStorage
- **Comportement** : Bloquer ET alerter l'utilisateur (message explicite + impossibilit√© de re-soumettre)
- **Dur√©e du blocage** : Jusqu'√† une nouvelle cr√©ation (pas de d√©lai temporel, blocage permanent pour ce contenu exact)

### Advanced Form Features

#### Autres Advanced Features
- **Reordering & Duplication** : Focus management, raccourcis clavier, annonces ARIA, ID stability

### File & Media Support
- **File Uploads** dans formulaires
- **Media attachments** pour contexte sondages

### Advanced Authentication
- **Forced Authentication** pour r√©pondants (option)
- **Enterprise SSO** integration
- **Advanced permissions** et r√¥les
- **Multi-factor Authentication** pour les comptes administrateurs

### Chat AI later changes to consider

#### Templates Pr√©d√©finis (2h) - NON PRIORITAIRE
**Objectif :** Biblioth√®que de questionnaires pr√™ts √† l'emploi

**Templates types :**
- "Satisfaction client" ‚Üí 5-7 questions standard
- "Feedback produit" ‚Üí Questions NPS + ouvertes
- "Inscription √©v√©nement" ‚Üí Coordonn√©es + pr√©f√©rences

**Note :** Fonctionnalit√© identifi√©e comme non n√©cessaire par l'utilisateur. L'IA g√©n√®re d√©j√† des questionnaires pertinents √† la demande.- **Am√©lioration prompts** bas√©e sur metrics

#### Autres
- **Scoring System** : Points/poids aux r√©ponses pour priorisation, matching, qualification
- **Quotas** par option
- **Analytics avanc√©s** Form Polls

## M√©triques de Succ√®s 

#### Phase NOW (MVP Completion)
- [ ] 0 erreurs critiques en production (Sentry)
- [ ] Tests E2E passent √† 100%
- [ ] Temps de r√©ponse API < 500ms

#### Phase NEXT-1 (MVP Launch)
- [ ] 50-100 utilisateurs (4 semaines)
- [ ] 10+ sondages cr√©√©s
- [ ] Taux de conversion visiteur ‚Üí cr√©ateur: 5%
- [ ] Taux d'activation: 30% (1+ vote re√ßu)

#### Phase NEXT-2 (Post-Launch Growth)
- [ ] 500-1000 utilisateurs (3 mois)
- [ ] 5-10 conversions Pro/Premium
- [ ] Taux de r√©tention J30: 20%
- [ ] NPS: > 40

#### Phase NEXT-3 (Diff√©renciation)
- [ ] 2000-5000 utilisateurs (6 mois)
- [ ] 50+ conversions payantes
- [ ] Taux d'utilisation IA: 15%
- [ ] Break-even co√ªts infrastructure