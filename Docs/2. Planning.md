# DooDates - Development Planning

## 1. NOW - Current Work & Immediate Blockers

### üî• En cours (Priorit√© Absolue)

#### Interface loveart ai

#### Bug

## 2. NEXT

### Form Poll Features

#### Modification de sondages via IA
**Objectif :** Permettre de modifier un sondage/questionnaire existant via conversation IA

**Fonctionnalit√©s MVP :**
1. **Charger sondage existant** dans le chat IA
2. **Modifications en langage naturel** :
   - "Ajoute une question sur le prix"
   - "Retire la question 3"
   - "Change la question 2 en choix multiple"
3. **R√©g√©n√©ration intelligente** par l'IA
4. **Pr√©visualisation avant sauvegarde**

**Flux utilisateur :**
```
Dashboard ‚Üí Bouton "Modifier via IA" ‚Üí Chat pr√©-rempli avec contexte
User: "Ajoute une question sur le prix"
IA: [G√©n√®re sondage modifi√© avec nouvelle question]
User: "Parfait, sauvegarde"
```

**Impl√©mentation :**
- Prompt Gemini "modify" vs "create"
- Parser modifications (ajout/suppression/√©dition)
- Merge intelligent avec sondage existant
- Interface modification dans GeminiChatInterface
- Tests modification + backward compatibility

**Timeline estim√©e :** 4h
- Modification texte (2h)
- Interface + UX (1h)
- Tests (1h)

#### Autres Features Form Poll
- **Multi-step Flow** (Typeform-style) : Une question par √©cran, barre de progression, validation par √©tape
- **Results Display** : Histogrammes r√©sultats FormPoll (mini barres horizontales)
- **QUESTION** : Seuils de pagination (texte >50 r√©ponses ‚Üí ¬´ Voir plus ¬ª, nombre N pour Dashboard)
- **QUESTION** : √âchelle histogrammes (pourcentage vs valeur brute, troncature labels, affichage ex-aequo)

### IA Conversationnelle Avanc√©e
**Objectif :** IA compl√®te avec parsing avanc√©

**Fonctionnalit√©s IA avanc√©es :**
```typescript
// ai/advanced/
‚îú‚îÄ‚îÄ ContextManager.ts       // Gestion contexte conversation
‚îú‚îÄ‚îÄ DateTimeParser.ts       // Parsing dates/heures NLP
‚îú‚îÄ‚îÄ SmartSuggestions.ts     // Suggestions intelligentes
‚îú‚îÄ‚îÄ LearningEngine.ts       // Apprentissage pr√©f√©rences
‚îî‚îÄ‚îÄ ConversationFlow.ts     // Flow conversation optimis√©
```
**Parsing avanc√© :**
- "mercredi prochain" ‚Üí date exacte
- "15h-17h" ‚Üí cr√©neaux horaires
- "Paul et Marie" ‚Üí participants
- "r√©union √©quipe" ‚Üí contexte m√©tier

### Dashboard Improvements
- **Sorting & pagination**
  - Tri par updated_at, votes_count, participants_count
  - Pagination si > N √©l√©ments
- **Poll claiming**
  - Si cr√©√© sans compte, action "Associer √† mon compte" (flow de claim via token)

### Calendar Integration (Optional & Discrete)
- **Auto-suggestion** apr√®s s√©lection des dates
- **Direct link**: "Connecter votre calendrier (optionnel)" cliquable
- **Discrete closure**: Croix pour masquer cette section
- **Minimal interface**: Une seule ligne avec lien et bouton fermer
- **Completely optional**: peut √™tre ignor√© ou ferm√©

## 3. PRE LANCEMENT

### Timezone
- **QUESTION** : choix de la timezone ? Comment cela se passe actuellement et dans un contexte internationale, comment faire cela au mieux ?
    - Ajouter choix timezone lors de la cr√©ation
    - Stocker timezone: "Europe/Paris" dans les polls
    - Afficher indication "Horaires en heure de Paris"
    - Utiliser date-fns-tz pour conversion

### Export Features
- **Format CSV uniquement** pour le MVP (rapide, interop, l√©ger)
- **Points d'entr√©e** : Dashboard et page r√©sultats
- **S√©curit√© MVP** : Liens non indexables, validation permissions basique
- **üìÑ Sp√©cifications d√©taill√©es** : Voir [Specs-Techniques-Export.md](./Specs-Techniques-Export.md)

### Email Templates & Workflows
- **Templates d'emails professionnels** : Cr√©ation, vote confirmation, notifications
- **Flux avec emails automatis√©s**
- **Analytics & Monitoring** : M√©triques usage + performance
- **Tableau de bord d√©veloppeurs**

### Authentication & Security
- **Sans Compte Owner Token** (voir @Sans-Compte-OwnerToken.md)
- **Accessibilit√©** (√©diteur + vote) : Focus management, aria labels
- **Performance** : Rendre uniquement la question active (d√©j√† fait), virtualisation si > 20 questions
- **Analytics dev** : Taux de compl√©tion, abandons par √©tape, erreurs validation

### Payment System & Monetization
- **Syst√®me de paiement int√©gr√©**
- **Gestion abonnements Pro/Premium**
- **D√©blocage features payantes** (PDF/XLSX export)
- **M√©triques de conversion** et analytics business

### Deployment & Operations
- **Setup Sentry** : Configuration monitoring production (voir Docs/Monitoring-Production.md)
- **Production Setup** : Domain, hosting, email service, database
- **CI/CD Pipeline** : Tests automatis√©s, branch protection, deployment automation
- **Beta Launch** : 100+ early adopters, mobile-first, feedback collection

### Plan d'Acquisition (D√©connexion Strat√©gie ‚Üî Planning)
Manque: Strat√©gie d√©taille "Phase 1: 0-100 users" mais aucun plan d'impl√©mentation
Impact: Pas de plan concret pour atteindre les premiers utilisateurs
N√©cessaire: Landing page, Product Hunt, Reddit outreach, SEO

### Analytics & Tracking (Fonctionnel manquant)
Manque: Strat√©gie mentionne 20+ KPIs (conversion, activation, IA quality) mais aucun plan d'impl√©mentation
Impact: Impossible de mesurer le succ√®s ou optimiser
N√©cessaire: Setup Plausible/Posthog, √©v√©nements tracking, dashboards

### Monitoring Production (Op√©rationnel critique)
Manque: Sentry mentionn√© mais pas de plan d√©taill√©
Impact: Risque de bugs silencieux en production
N√©cessaire: Setup Sentry, alerting, error tracking, uptime monitoring

### Onboarding Utilisateurs (UX critique)
Manque: Mentionn√© dans strat√©gie (welcome emails, product tours) mais pas dans planning
Impact: Taux d'activation faible
N√©cessaire: First-run experience, tooltips, emails onboarding

### i18n (Internationalisation) (Strat√©gique)
Manque: Strat√©gie dit "app globale d√®s lancement" mais i18n est en LATER
Impact: March√© limit√© √† FR/EN
N√©cessaire: Setup i18next, traductions, formats locaux

### Pre-Launch (Semaine -2 √† -1)
1. **Setup Infrastructure Production**
   - [ ] Domain setup (doodates.com)
   - [ ] Vercel production deployment
   - [ ] Supabase production DB
   - [ ] Sentry error tracking
   - [ ] Uptime monitoring

2. **Landing Page & Marketing**
   - [ ] Landing page avec value prop claire
   - [ ] SEO basique (meta tags, sitemap)
   - [ ] Analytics setup (conversions tracking)
   - [ ] Screenshots & d√©mo vid√©o

3. **Beta Testing**
   - [ ] Recruter 10-20 beta testers
   - [ ] Tests sc√©narios critiques (create, vote, results)
   - [ ] Collecter feedback structured
   - [ ] Fix bugs critiques



## LAUNCH

### Launch Day (Jour 0)
- [ ] Product Hunt launch
- [ ] Reddit posts (r/productivity, r/SideProject)
- [ ] Personal network outreach
- [ ] Social media annonce

### Post-Launch (Semaine 1-4)
- [ ] Daily monitoring (analytics + Sentry)
- [ ] R√©pondre feedback utilisateurs
- [ ] It√©rations rapides (bugs + quick wins)
- [ ] M√©triques de succ√®s: 50-100 users, 10+ polls created

## 4. LATER - Advanced Features (Post-MVP)

### Tests Unitaires - Fichiers `.skip`

**Fichiers `.skip` √† migrer** (5 fichiers) :
- `useFreemiumQuota.test.ts.skip` - API chang√©e (refactor 2h)
- `QuotaIndicator.test.tsx.skip` - API chang√©e (refactor 2h)
- `ConversationHistory.test.tsx.skip` - Migration Jest‚ÜíVitest (30min)
- `GeminiChatInterface.integration.test.tsx.skip` - Migration Jest‚ÜíVitest (1h)
- `unified-flow.test.ts.skip` - Fix import paths (15min)

**Tests individuels skipp√©s** (18 tests) :
- 10 calendar-integration (volontaire, √† garder skipp√©s)
- 8 autres tests (timing, mocks complexes)

### PWA Core Features (en r√©flexion)
- **Installable app**
- **Push notifications**
- **Offline functionality**
- **Note** : Statut √† confirmer (MVP ou Post-MVP)

### Anti-doublons Avanc√©
- **Double-submit** : D√©sactiver bouton apr√®s clic, idempotence c√¥t√© API (token de soumission)
- **Empreinte locale** : Hash local (device + pollId + contenu) stock√© en localStorage
- **Comportement** : Bloquer ET alerter l'utilisateur (message explicite + impossibilit√© de re-soumettre)
- **Dur√©e du blocage** : Jusqu'√† une nouvelle cr√©ation (pas de d√©lai temporel, blocage permanent pour ce contenu exact)


### Mobile Native (Capacitor)
- Transform web app to Android native
- Native APIs integration
- Push notification system complet

### Advanced Form Features

#### Phase 4b - Questions Conditionnelles via IA (6h)
**Objectif :** Logique conditionnelle avanc√©e dans les questionnaires

**Fonctionnalit√©s :**
1. **Questions conditionnelles** :
   - "Si r√©ponse Q1 = 'Oui' ‚Üí affiche Q2"
   - "Si r√©ponse Q3 > 5 ‚Üí passe √† Q10"
   - Logique AND/OR complexe
2. **Sauts de page intelligents**
3. **Branchements multiples**

**Structure TypeScript :**
```typescript
interface ConditionalLogic {
  questionId: string;
  condition: {
    type: 'equals' | 'contains' | 'greater' | 'less';
    value: string | number;
  };
  action: {
    type: 'show' | 'hide' | 'skip_to';
    targetQuestionId: string;
  };
}
```

**Complexit√© :**
- Prompt Gemini complexe pour conditionnelles
- Validation logique conditionnelle
- Modification FormPollCreator interface
- Adaptation syst√®me de vote (skip logic)
- Tests complexes de branchements

**Timeline estim√©e :** 6h
- Design logique conditionnelle (2h)
- G√©n√©ration IA + parsing (2h)
- Interface + Vote system (2h)

**Pr√©requis :** Phase 4a termin√©e + Feedback utilisateurs validant le besoin

#### Autres Advanced Features
- **Reordering & Duplication** : Focus management, raccourcis clavier, annonces ARIA, ID stability
- **Mobile UX** : Indicateur visuel de focus, grandes zones de clic
- **Multilangue** : Passer l'application en multilangue
- **Quotas Management** : Limites par option/segment, feedback temps-r√©el
- **QUESTION** : √âtats UI quotas (source de v√©rit√© serveur, √©tats √† afficher, seuil "presque plein" 90%/95%?)

### File & Media Support
- **File Uploads** dans formulaires
- **Media attachments** pour contexte sondages

### Advanced Authentication
- **Forced Authentication** pour r√©pondants (option)
- **Enterprise SSO** integration
- **Advanced permissions** et r√¥les
- **Multi-factor Authentication** pour les comptes administrateurs

### Chat AI later changes to consider

#### Templates Pr√©d√©finis (2h) - NON PRIORITAIRE
**Objectif :** Biblioth√®que de questionnaires pr√™ts √† l'emploi

**Templates types :**
- "Satisfaction client" ‚Üí 5-7 questions standard
- "Feedback produit" ‚Üí Questions NPS + ouvertes
- "Inscription √©v√©nement" ‚Üí Coordonn√©es + pr√©f√©rences

**Note :** Fonctionnalit√© identifi√©e comme non n√©cessaire par l'utilisateur. L'IA g√©n√®re d√©j√† des questionnaires pertinents √† la demande.- **Am√©lioration prompts** bas√©e sur metrics

#### Autres
- **Scoring System** : Points/poids aux r√©ponses pour priorisation, matching, qualification
- **Quotas** par option
- **Analytics avanc√©s** Form Polls

## M√©triques de Succ√®s 

#### Phase NOW (MVP Completion)
- [ ] 0 erreurs critiques en production (Sentry)
- [ ] Tests E2E passent √† 100%
- [ ] Temps de r√©ponse API < 500ms

#### Phase NEXT-1 (MVP Launch)
- [ ] 50-100 utilisateurs (4 semaines)
- [ ] 10+ sondages cr√©√©s
- [ ] Taux de conversion visiteur ‚Üí cr√©ateur: 5%
- [ ] Taux d'activation: 30% (1+ vote re√ßu)

#### Phase NEXT-2 (Post-Launch Growth)
- [ ] 500-1000 utilisateurs (3 mois)
- [ ] 5-10 conversions Pro/Premium
- [ ] Taux de r√©tention J30: 20%
- [ ] NPS: > 40

#### Phase NEXT-3 (Diff√©renciation)
- [ ] 2000-5000 utilisateurs (6 mois)
- [ ] 50+ conversions payantes
- [ ] Taux d'utilisation IA: 15%
- [ ] Break-even co√ªts infrastructure