# DooDates - Flow UX de Cr√©ation de Sondage

## Vue d'ensemble

L'exp√©rience de cr√©ation de sondage DooDates suit un principe d'**extension progressive** : l'utilisateur commence par une action simple (s√©lection de dates) puis l'interface s'√©tend progressivement pour r√©v√©ler les options avanc√©es.

## Flow Principal

### 1. Page d'Accueil Initiale
- **Zone de dialogue** avec assistant IA (temporairement d√©sactiv√©e)
- **Bouton + centr√©** pour cr√©er un nouveau sondage
- **Menu de gauche** (navigation avec fonctionnalit√©s gris√©es)

### 2. S√©lection des Dates (Action imm√©diate au clic +)
- **Calendrier avec scroll infini** : Navigation verticale fluide sans fl√®ches
- **Vue multi-mois** : Plusieurs mois visibles simultan√©ment
- **Affichage √©pur√©** : Seules les dates du mois courant sont visibles (pas de dates grises des autres mois)
- **Nom du mois en arri√®re-plan** : Design √©l√©gant avec texte semi-transparent en overlay
- **S√©lection multiple** des dates avec validation
- **M√©moire persistante** : les dates restent s√©lectionn√©es lors du changement de mois
- **Dates pass√©es masqu√©es** : Jours pass√©s compl√®tement invisibles (gain de place)
- **Calendrier commence aujourd'hui** : Navigation optimis√©e vers le futur uniquement
- **Chargement progressif** : Nouveaux mois ajout√©s automatiquement au scroll
- **Croix en haut** pour revenir √† l'accueil
- **Version de l'app** : Affich√©e en bas de la page d'accueil (v2.4.8)
- **Sauvegarde automatique** en cours de cr√©ation
- **Dates s√©lectionn√©es en bleu** : Style bleu vif avec hover bleu fonc√© (plus de gris)

### 3. Extension Progressive (√âcran unique qui s'√©tend)

#### 3.1 Connexion Calendrier (Optionnelle et Discr√®te)
- **Proposition automatique** apr√®s s√©lection des dates
- **Lien direct** : "Connecter votre calendrier (optionnel)" cliquable
- **Fermeture discr√®te** : Croix pour masquer cette section
- **Interface minimaliste** : Une seule ligne avec lien et bouton fermer
- **Compl√®tement optionnel** : peut √™tre ignor√© ou ferm√©

#### 3.2 Action Principale (Simplifi√©e et Repositionn√©e) ‚úÖ **[NOUVEAU]**
Apr√®s connexion calendrier (ou directement), **ordre logique respect√©** :

**1. S√©lection des dates** (calendrier)
**2. "Horaires"** (bouton avec ic√¥ne Clock) - seul bouton affich√© initialement
**3. "Partager"** (bouton avec ic√¥ne Share2) - **affich√© APR√àS la section horaires**

#### 3.3 Gestion des Horaires
**Bouton "Horaires"** qui r√©v√®le :
- **Calendrier semainier sp√©cialis√©** : 
  - Colonnes = dates s√©lectionn√©es (au lieu des jours de semaine)
  - En-t√™te "Horaires" avec roue crant√©e int√©gr√©e (pas de titre dupliqu√©)
  - En-t√™tes avec jour/date/mois pour chaque date s√©lectionn√©e
- **Granularit√© int√©gr√©e** :
  - Ic√¥ne roue crant√©e directement dans l'en-t√™te du tableau
  - 5 options : 15 minutes, 30 minutes, 1 heure (d√©faut), 2 heures, 4 heures
  - Menu avec croix pour fermer les r√©glages de pr√©cision
  - G√©n√©ration dynamique des cr√©neaux selon la granularit√© choisie
  - Interface responsive qui s'adapte √† la taille des cr√©neaux
- **Horaires 24h** avec optimisation :
  - 7h-22h affich√©s par d√©faut
  - Avant 7h : cach√© avec bouton "+" pour afficher (0h-6h)
  - Apr√®s 22h : cach√© avec bouton "+" pour afficher (23h)
- **S√©lection individuelle** : Chaque cellule date/heure cliquable
- **Gestion par date** : Chaque date a ses propres cr√©neaux horaires
- **Regroupement visuel parfait** : 
  - Blocs parfaitement continus sans s√©paration visible entre cr√©neaux adjacents
  - Heures de d√©but/fin calcul√©es automatiquement selon la granularit√©
  - Fond bleu uniforme avec bordures arrondies intelligentes
  - Transitions fluides entre les √©tats s√©lectionn√©/non-s√©lectionn√©
- **Scroll vertical** dans la grille des heures
- **Bouton "Partager" repositionn√©** : Affich√© sous la section horaires ‚úÖ **[NOUVEAU]**

#### 3.4 Gestion du Partage ‚úÖ **[AM√âLIOR√â]**
**Bouton "Partager"** maintenant affich√© :
- **Apr√®s la section horaires** quand elle est ouverte
- **Directement apr√®s les dates** si pas d'horaires s√©lectionn√©s
- **Section partage unique** : Ouvre directement sans condition d'affichage des horaires
- **Titre obligatoire** du sondage
- **Emails participants** : validation flexible (virgule, espace, retour ligne)
- **Lien dynamique visible** : `https://doodates.app/poll/titre-du-sondage` g√©n√©r√© automatiquement
- **Bouton copier lien** : Copie l'URL du sondage avec feedback visuel
- **Confirmation de copie** : Message vert "Lien copi√© dans le presse-papier !"
- **Bouton principal dynamique** : "Envoyer" par d√©faut, devient "Enregistrer" apr√®s copie du lien
- **Auto-reset** : L'√©tat de copie se remet √† z√©ro apr√®s 3 secondes

### 4. Apr√®s Cr√©ation
- **Redirection automatique** vers la zone des sondages en cours
- **Interface de gestion** des sondages cr√©√©s

## Principes UX

### Valid√©
- **Navigation fluide** : scroll infini au lieu de pagination par fl√®ches
- **Calendrier professionnel** : vue semaini√®re pour les horaires avec dates en colonnes
- **M√©moire utilisateur** : conservation des s√©lections entre navigations
- **Flexibilit√©** : options optionnelles et discr√®tes
- **Validation intelligente** : emails v√©rifi√©s, dates pass√©es bloqu√©es
- **Sauvegarde continue** : localStorage avec auto-save
- **Performance optimis√©e** : chargement progressif des mois
- **Flow logique** : Dates ‚Üí Horaires ‚Üí Partage (bouton repositionn√©)
- **Styles coh√©rents** : Dates s√©lectionn√©es en bleu, hover optimis√©
- **Flow logique** : Dates ‚Üí Horaires ‚Üí Partage (bouton repositionn√©)
- **Styles coh√©rents** : Dates s√©lectionn√©es en bleu, hover optimis√©

### Exclu
- Indicateurs de progression (√©tapes X/Y)
- Boutons "Suivant/Pr√©c√©dent"
- Validation obligatoire des √©tapes
- Pr√©visualisation avant envoi
- Boutons "Annuler" √† chaque √©tape
- Suggestions automatiques de titres
- Gestion des conflits calendrier
- Horaires diff√©rents par date

## Architecture Technique

### √âtats √† G√©rer
```typescript
interface PollCreationState {
  selectedDates: string[]
  visibleMonths: Date[] // Mois charg√©s pour scroll infini (commence aujourd'hui)
  calendarConnected: boolean
  pollTitle: string
  participantEmails: string
  showTimeSlots: boolean
  timeSlotsByDate: Record<string, TimeSlot[]> // Horaires par date avec fusion parfaite
  description: string
  notificationsEnabled: boolean
  userEmail: string
  showCalendarConnect: boolean
  showShare: boolean
  showDescription: boolean
  emailErrors: string[]
  showExtendedHours: boolean
  timeGranularity: number // Granularit√© en minutes (15, 30, 60, 120, 240)
  showGranularitySettings: boolean // Interface de configuration granularit√©
  showCalendarConnection: boolean
  pollLinkCopied: boolean
}

interface TimeSlot {
  hour: number
  minute: number // Support des minutes pour granularit√© fine
  enabled: boolean
}
```

## Validation

### Emails
- Format email valide
- S√©paration automatique (virgules, espaces, retours ligne)
- Indicateur visuel de validation

### Dates
- Minimum 1 date s√©lectionn√©e
- Conservation lors navigation mensuelle

### Finalisation
- Au moins 1 date s√©lectionn√©e requise
- Aucune erreur de validation d'email
- Bouton dynamique :
  - "Enregistrer" si pas d'email
  - "Partager" si emails saisis
- Redirection vers gestion des sondages

## Changelog R√©cent

### Version 2.4.10 (23/06/2025) ‚úÖ **[DERNIER]**
- ‚úÖ **Planning mis √† jour** : Timeline Backend d√©taill√©e (8 semaines juillet-ao√ªt)
- ‚úÖ **IA conversationnelle int√©gr√©e** : Mistral AI dans Phase 2 (semaines 3-4)
- ‚úÖ **Beta launch planifi√©e** : Octobre 2025 avec 50+ early adopters
- ‚úÖ **Roadmap compl√®te** : Supabase ‚Üí IA ‚Üí Mon√©tisation ‚Üí Scale
- ‚úÖ **Documentation coh√©rente** : Planning et UX-Flow synchronis√©s

### Version 2.4.9 (23/06/2025)
- ‚úÖ **Bouton Partager repositionn√©** : Maintenant affich√© apr√®s la section horaires
- ‚úÖ **Flow logique am√©lior√©** : Dates ‚Üí Horaires ‚Üí Partager (ordre respect√©)
- ‚úÖ **Double affichage intelligent** : Partager visible avec ou sans horaires
- ‚úÖ **Styles dates optimis√©s** : S√©lection en bleu vif, hover bleu fonc√© (plus de gris)
- ‚úÖ **UX coh√©rente** : Positionnement logique selon le contexte utilisateur

### Version 2.4.8 (23/06/2025)
- ‚úÖ **Application nettoy√©e** : Fonctionnalit√©s non-impl√©ment√©es gris√©es
- ‚úÖ **Chat IA d√©sactiv√©** : Interface avec message "Bient√¥t disponible"
- ‚úÖ **Sidebar optimis√©e** : √âtats d√©sactiv√©s avec tooltips explicatifs
- ‚úÖ **Configuration r√©seau** : Port 8080 pour acc√®s mobile fonctionnel
- ‚úÖ **Scripts de d√©veloppement** : start-dev.bat et start-dev.ps1 op√©rationnels

### Version 2.4.7 (23/06/2025)
- ‚úÖ **Validation simplifi√©e** : Titre du sondage rendu optionnel
- ‚úÖ **Bouton intelligent** : Affiche "Enregistrer" (sans email) ou "Partager" (avec emails)
- ‚úÖ **Exp√©rience fluide** : Validation en temps r√©el sans blocage inutile

### Version 2.4.6 (23/06/2025)
- ‚úÖ **Flow UX corrig√©** : Ordre logique respect√© - Jours ‚Üí Horaires ‚Üí Partage
- ‚úÖ **Renommage bouton** : "Ajouter des horaires" devient "Horaires" pour plus de concision
- ‚úÖ **Section partage unique** : Accessible depuis le bouton principal apr√®s s√©lection des dates
- ‚úÖ **Fonction copyPollLink am√©lior√©e** : Utilise le lien dynamique bas√© sur le titre du sondage
- ‚úÖ **Lien visible et interactif** : Affichage du lien complet avec bouton copier int√©gr√©
- ‚úÖ **Boutons clarifi√©s** : "Horaires" pour la gestion des cr√©neaux, "Partager" pour la diffusion
- ‚úÖ **Structure √©pur√©e** : Suppression des doublons et optimisation de l'interface

## √âtat Actuel du Projet

### ‚úÖ Frontend Termin√© (Phase 1 Compl√®te)
- **Interface PollCreator** : 100% fonctionnelle avec localStorage
- **UX Flow** : Valid√© et optimis√©
- **Responsive Design** : Mobile-first parfaitement impl√©ment√©
- **Scripts de d√©veloppement** : Op√©rationnels avec acc√®s r√©seau mobile
- **Composants UI** : 49 composants Shadcn/ui int√©gr√©s

### üöÄ Prochaine √âtape : Backend (Phase 2)
- **Supabase Integration** : Remplacement localStorage par vraie DB
- **IA Conversationnelle** : Mistral AI pour chat ‚Üí sondage automatique
- **Real-time Voting** : WebSockets pour votes en temps r√©el
- **Authentication** : Google OAuth + email/password
- **API Routes** : CRUD complet pour polls et votes
- **Email Notifications** : Invitations et rappels automatiques
- **Beta Launch** : 50+ early adopters avec feedback loop

### üìÖ Timeline
- **Juillet-Ao√ªt 2025** : Backend MVP complet (8 semaines)
  - Semaines 1-2 : Supabase foundation + auth
  - Semaines 3-4 : IA conversationnelle (Mistral)
  - Semaines 5-6 : Features core + voting real-time
  - Semaines 7-8 : Polish + beta launch
- **Septembre 2025** : Mon√©tisation (Stripe + tiers FREE/PRO/PREMIUM)
- **Octobre 2025** : Lancement beta publique
- **Q4 2025** : Scale + international + features avanc√©es

---

**Document mis √† jour le 23 juin 2025 - Version 2.4.10**
**Status :** Frontend complet, Phase 2 Backend en pr√©paration
**Prochaine milestone :** Backend MVP complet (fin ao√ªt 2025)
**Beta launch :** Octobre 2025
