# üìÖ DooDates - Catalogue des Fonctionnalit√©s & Audit Technique

Ce document est la source de v√©rit√© pour les fonctionnalit√©s de DooDates. Il est organis√© par **Produit** pour une lisibilit√© maximale, avec une section d√©di√©e au socle technique commun.

---

## 1. üìÖ Sondages de Dates (Date Polls)
**Route** : `/DooDates/date-polls/workspace/date`

L'outil historique pour planifier des r√©unions.

### Tableau de Bord (Dashboard)
**Route** : `/DooDates/date-polls/dashboard`
- **Filtres** : Tous, Brouillon, Actif, Termin√©, Archiv√©.
- **Vues** : Bascule entre Vue Grille et Vue Table.
- **Actions** : Journal d'activit√©, Recherche unifi√©e (Sondages & Conversations).

### Post-traitement Intelligent (Gemini)
*R√®gles m√©tier pour √©viter les hallucinations.*
- **Dur√©es Contextuelles** : "Stand-up" = 30 min, "R√©union d'√©quipe" = 60 min min.
- **Optimisation** : "D√©jeuner lundi" force un cr√©neau unique (12:00-13:30).
- **Logique** : `GeminiSuggestionPostProcessor.ts` (Archiv√©/Legacy).

---

## 2. üôã Disponibilit√©s (Availability Polls)
**Route** : `/DooDates/availability-polls/workspace/availability`

Partage de cr√©neaux libres pour la prise de rendez-vous.

### Interface de Cr√©ation
- **Types** : Mode "Basique" ou "Avanc√©".
- **Options** : Visibilit√© des r√©sultats (Cr√©ateur seulement, Votants, Public).
- **Canaux** : Configuration Email.

### Algorithme de "Matchmaking" (Smart Scheduling)
*Le syst√®me calcule un "Success Score" (0-100) pour chaque cr√©neau propos√©.*
- **Remplissage de Gaps** : Priorise les cr√©neaux qui comblent les petits trous entre r√©unions (+30 pts).
- **Bonus de Proximit√©** : Priorise les cr√©neaux imminents (48-72h) (+20 pts).
- **Concentration** : Favorise le regroupement de sessions (ex: 3 r√©unions l'apr√®s-midi) (+25 pts).
- **Logique** : `schedulingOptimizer.ts`.

### Fonctionnalit√©s Cl√©s
- **D√©tection de Conflits** : Vue temps r√©el des conflits **Google Calendar**.
- **S√©lection "Oui/Non/Si besoin"** : Vote nuanc√© pour les participants.
- **Vues Flexibles** : Bascule entre vue Verticale (Mobile) et Grille (Desktop).
- **Confirmation** : Email de r√©sum√© envoy√© aux participants (`EmailService.ts`).

---

## 3. üìù Formulaires (Form Polls)
**Route** : `/DooDates/form-polls/workspace/form`

Moteur de collecte de donn√©es structur√©es √† haute conversion.

### √âditeur Avanc√© & IA
- **Actions IA** : "Tester avec l'IA" (Simulation de r√©ponse).
- **Structure** : Monter/Descendre questions, Dupliquer, Supprimer.
- **Conditions** : Moteur de logique conditionnelle int√©gr√© √† l'√©diteur.
- **Validation** : V√©rification temps r√©el.

### Tableau de Bord
**Route** : `/DooDates/form-polls/dashboard`
- **Gestion** : Tags, S√©lection multiple, R√©sultats, Vote manuel.
- **Filtres d'√©tat** : Brouillon, Actif, Termin√©, Archiv√©.

### Types de Questions & Validation
- **Questions Matricielles** : Structures ligne-colonne complexes.
- **NPS & √âvaluations** : √âchelles 1-10 avec feedback visuel.
- **Logique** : `form-polls-service.ts`.

### Logique Conditionnelle (Branching)
- **Dynamique** : Affiche/Masque des questions selon les r√©ponses pr√©c√©dentes.
- **Op√©rateurs** : `equals`, `contains`, `notEquals`, `isEmpty`.
- **Logique** : `conditionalEvaluator.ts`, `conditionalValidator.ts`.
- **V√©rification** : `conditional-logic.spec.ts`.

---

## 4. üéì Aide aux Devoirs (Quizzes)
**Route** : `/DooDates/quizz/create`

Parcours d'apprentissage gamifi√©s pilot√©s par l'IA.

### Interface de G√©n√©ration
- **Modes** : "G√©n√©rer" (IA), "Ajouter" (Manuel).
- **Configuration** : Niveau (Basique/Avanc√©), Options de visibilit√©.
- **Champs** : Titre, Description, Questions/R√©ponses, Bonne r√©ponse.

### Cr√©ation Multimodale (Vision)
- **Photo-vers-Quiz** : Cr√©e un quiz √† partir d'une photo d'exercice.
- **Fichier-vers-Quiz** : Analyse PDF/Docx.
- **Logique** : `QuizzVisionService.ts`.

### Moteur √âducatif
- **Niveaux Adaptatifs** : Ajustement vocabulaire (CE1, 6√®me, Terminale).
- **Correction IA** : √âvaluation conceptuelle des r√©ponses ouvertes (pas de mot-√†-mot).
- **Gamification** : Badges ("Expert"), Confettis, Sons de succ√®s.
- **Logique** : `quizz-service.ts`.
- **V√©rification** : `quizz.feature.spec.ts`.

---

## 5. üè¢ Socle Commun & Plateforme

### Espace de Travail (Workspace)
- **Organisation** : Dossiers hi√©rarchiques (`FolderStorage.ts`) et Tags color√©s (`TagStorage.ts`).
- **Recherche (Omni-Search)** : Recherche fuzzy temps r√©el sur titres et contenu (`ConversationSearchService.ts`).
- **Favoris** : Syst√®me d'√©pinglage rapide.

### C≈ìur IA (Agent Interface)
- **Cr√©ation Zero-Click** : Classification d'intention ("R√©union demain") -> Sondage pr√™t.
- **Vocal** : Cr√©ation mains-libres via `useVoiceRecognition.ts`.
- **Logique** : `GeminiIntentService.ts`.

### S√©curit√© & Conformit√© (RGPD)
- **Param√®tres Globaux** : Route `/DooDates/settings` permettant la gestion des pr√©f√©rences utilisateur et de la confidentialit√©.
- **R√©tention** : Chat (30 jours), Sondages (1-6 ans).
- **Droit √† l'Oubli** : Suppression compte automatis√©e (`account-deletion.spec.ts`).
- **Pages Publiques** : CGU, Confidentialit√©, S√©curit√© et **Contact** accessibles en footer (interface modernis√©e en th√®me "Dark Premium").
- **Redirections H√©rit√©es** : Support des anciens chemins `/workspace/date` et `/workspace/form` via redirection automatique.
- **Rate Limiting** : Protection hybride Client/Serveur (`rate-limiter.test.ts`).

### Global
- **Interface** : Menu de langue pr√©sent (Actuellement Fran√ßais uniquement).
- **Prix Dynamique** : Ajustement devise selon IP (`pricing-service.ts`).

---

## 6. üõ°Ô∏è M√©thodologie d'Audit
1. **Analyse Source** : Scan r√©cursif de `src/`.
2. **Mapping E2E** : Lien manuel fichiers `spec.ts` <-> fonctionnalit√©s.
3. **Performance** : Suivi via `PerformanceMonitor.ts`.

---

## 7. üìä Rapport de Test Automatis√©
*G√©n√©r√© par AI Night Tester (Derni√®re version) le 24/12/2025*

### Couverture Globale
| M√©trique | Valeur |
|----------|--------|
| **Pages explor√©es** | 39 pages uniques |
| **√âl√©ments interactifs** | 530 √©l√©ments (dont 156 uniques) |
| **Interactions** | Simulation de clics, navigation et remplissage de formulaires. |

### Pages Visit√©es
- `/date-polls`, `/date-polls/workspace/date`, `/date-polls/dashboard`, `/date-polls/settings`, `/date-polls/data-control`
- `/form-polls`, `/form-polls/workspace/form`
- `/availability-polls`, `/availability-polls/workspace/availability`
- `/quizz`, `/quizz/create`
- `/settings`, `/privacy`, `/terms`, `/support-policy`, `/contact`

### üêõ Probl√®mes D√©tect√©s

| S√©v√©rit√© | Type | Page | Description |
|----------|------|------|-------------|
| üü° Minor | Accessibilit√© (color-contrast) | `/date-polls/data-control` | 3 √©l√©ments ne respectent pas le ratio WCAG 2 AA |
| üü° Minor | Accessibilit√© (link-in-text-block) | `/date-polls/data-control` | 1 lien non distinguable sans couleur |
| üü° Minor | Accessibilit√© (color-contrast) | `/date-polls/dashboard` | 1 √©l√©ment avec contraste insuffisant |

### Actions √† Planifier
- [x] Corriger les contrastes sur `/data-control` et `/dashboard` (Conversation 0e61f81e termin√©e)
- [ ] Am√©liorer la distinction des liens dans les blocs de texte

*Derni√®re mise √† jour : 24 d√©cembre 2025 - 22:15*
