
[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Julien Fritsch/Documents/GitHub/DooDates-bug[39m

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Direct Gemini API initialisâ”œÂ®e (fetch direct) 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Mode DIRECT GEMINI API activâ”œÂ® (bypass Edge Function) 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ VITE_GEMINI_API_KEY configurâ”œÂ®e: AIzaSyAXlQ... 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF
[22m[39m
======================================================================
Â­Æ’ÂºÂ¬ TESTS GEMINI - CATâ”œÃ«GORIE ASSOCIATIF
======================================================================

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®union parents-profs
[22m[39m
Â­Æ’Ã´Ã˜ [e6166631-49c2-4c57-b5fd-6ccfc84f27ca] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Cale la râ”œÂ®union parents-profs entre mardi et jeudi prochains.
  inputLength: [33m61[39m
  timestamp: 2025-12-05T18:38:49.591Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'e6166631-49c2-4c57-b5fd-6ccfc84f27ca'[39m,
  userInputLength: [33m61[39m,
  userInputPreview: [32m'Cale la râ”œÂ®union parents-profs entre mardi et jeudi'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=61, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'e6166631-49c2-4c57-b5fd-6ccfc84f27ca'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=3, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=61, result=false 

Ã”ÃœÃ–Â´Â©Ã… [e6166631-49c2-4c57-b5fd-6ccfc84f27ca] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Cale la râ”œÂ®union parents-profs entre mardi et jeudi prochains.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®union parents-profs
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:mardi'[39m, [32m'day:mardi,jeudi'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'e6166631-49c2-4c57-b5fd-6ccfc84f27ca'[39m, hintsLength: [33m257[39m }

Â­Æ’Ã´Ã± [e6166631-49c2-4c57-b5fd-6ccfc84f27ca] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Cale la râ”œÂ®union parents-profs entre mardi et jeudi prochains.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: mardi 9 dâ”œÂ®cembre 2025, jeudi 11 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Râ”œÂ®union parents-profs Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2 crâ”œÂ®neaux en dâ”œÂ®but de soirâ”œÂ®e (18h30-20h00, durâ”œÂ®e 90min)
Utilise ces hints pour affiner la sâ”œÂ®lection ...
    [... 2116 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Cale la râ”œÂ®union parents-profs entre mardi et jeudi prochains.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: mardi 9 dâ”œÂ®cembre 2025, jeudi 11 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2616[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'e6166631-49c2-4c57-b5fd-6ccfc84f27ca'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2616[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'e6166631-49c2-4c57-b5fd-6ccfc84f27ca'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Cale la râ”œÂ®union parents-profs entre mardi et jeudi prochains.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: mardi 9 dâ”œÂ®cembre 2025, jeudi 11 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Râ”œÂ®union parents-profs Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2 crâ”œÂ®neaux en dâ”œÂ®but de soirâ”œÂ®e (18h30-20h00, durâ”œÂ®e 90min)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Cale la râ”œÂ®union parents-profs entre mardi et jeudi prochains."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m61[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®union parents-profs
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [2 â”œÂ®lâ”œÂ®ments] [
  { text: [32m'mardi'[39m, date: [32m'2025-12-09T11:00:00.000Z'[39m },
  { text: [32m'jeudi'[39m, date: [32m'2025-12-11T11:00:00.000Z'[39m }
]
  chronoText: mardi
  chronoDate: 2025-12-09T11:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:mardi'[39m, [32m'day:mardi,jeudi'[39m ]
  dayOfWeek: [2 â”œÂ®lâ”œÂ®ments] [ [33m2[39m, [33m4[39m ]
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-09'[39m, [32m'2025-12-11'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-09T11:00:00.000Z'[39m ]
  parseType: day_of_week

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®union parents-profs
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m354[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®union parents-profs
[22m[39m
Â­Æ’Ã´Ã‘ [e6166631-49c2-4c57-b5fd-6ccfc84f27ca] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Râ”œÂ®union parents-profs",
  "description": "Gâ”œÂ®nâ”œÂ®rer 2 crâ”œÂ®neaux en dâ”œÂ®but de soirâ”œÂ®e (18h30-20h00, durâ”œÂ®e 90min)",
  "type": "date",
  "dates": [
    "2025-12-09",
    "2025-12-11"
  ],
  "timeSlots": [
    {
      "start": "18:30",
      "end": "20:00",
      "dates": [
        "2025-12-09",
        "2025-12-11"
      ]
    }
  ]
}
```
  responseTime: [33m1587[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'e6166631-49c2-4c57-b5fd-6ccfc84f27ca'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [e6166631-49c2-4c57-b5fd-6ccfc84f27ca] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-09'[39m, [32m'2025-12-11'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-09'[39m, [32m'2025-12-11'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-09'[39m, [32m'2025-12-11'[39m ]
  }
]
  filteredTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-09'[39m, [32m'2025-12-11'[39m ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [e6166631-49c2-4c57-b5fd-6ccfc84f27ca] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Râ”œÂ®union parents-profs
  description: Gâ”œÂ®nâ”œÂ®rer 2 crâ”œÂ®neaux en dâ”œÂ®but de soirâ”œÂ®e (18h30-20h00, durâ”œÂ®e 90min)
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-09'[39m, [32m'2025-12-11'[39m ]
  timeSlotsCount: [33m1[39m
  timeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-09'[39m, [32m'2025-12-11'[39m ]
  }
]

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®union parents-profs
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Cale la râ”œÂ®union parents-profs entre mardi et jeudi prochains.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-09, 2025-12-11
   - Crâ”œÂ®neaux: 18:30-20:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘2 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/associatif.manual.ts[2m > [22mGemini Tests - ASSOCIATIF[2m > [22mRâ”œÂ®union parents-profs[33m 1930[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mBureau associatif 30min
[22m[39m
Â­Æ’Ã´Ã˜ [fb7654d5-1571-404b-abbd-c1a4b7d14072] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Trouve un crâ”œÂ®neau de 30 minutes cette semaine pour le bureau de l'asso.
  inputLength: [33m71[39m
  timestamp: 2025-12-05T18:38:51.519Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'fb7654d5-1571-404b-abbd-c1a4b7d14072'[39m,
  userInputLength: [33m71[39m,
  userInputPreview: [32m'Trouve un crâ”œÂ®neau de 30 minutes cette semaine pour'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=71, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'fb7654d5-1571-404b-abbd-c1a4b7d14072'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=2, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=71, result=false 

Ã”ÃœÃ–Â´Â©Ã… [fb7654d5-1571-404b-abbd-c1a4b7d14072] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Trouve un crâ”œÂ®neau de 30 minutes cette semaine pour le bureau de l'asso.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mBureau associatif 30min
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'de 30 minutes'[39m, date: [32m'2025-12-05T19:08:51.520Z'[39m } ]
  chronoText: de 30 minutes
  chronoDate: 2025-12-05T19:08:51.520Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:de 30 minutes'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-05T19:08:51.520Z'[39m ]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:de 30 minutes'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'fb7654d5-1571-404b-abbd-c1a4b7d14072'[39m, hintsLength: [33m269[39m }

Â­Æ’Ã´Ã± [fb7654d5-1571-404b-abbd-c1a4b7d14072] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Trouve un crâ”œÂ®neau de 30 minutes cette semaine pour le bureau de l'asso.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 5 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Durâ”œÂ®e explicite (30 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 30 minutes
CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: ...
    [... 2198 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Trouve un crâ”œÂ®neau de 30 minutes cette semaine pour le bureau de l'asso.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 5 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2698[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'fb7654d5-1571-404b-abbd-c1a4b7d14072'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2698[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'fb7654d5-1571-404b-abbd-c1a4b7d14072'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Trouve un crâ”œÂ®neau de 30 minutes cette semaine pour le bureau de l'asso.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 5 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Durâ”œÂ®e explicite (30 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 30 minutes\n'[39m +
    [32m"CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot\n"[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m`Demande: "Trouve un crâ”œÂ®neau de 30 minutes cette semaine pour le bureau de l'asso."\n`[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m71[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mBureau associatif 30min
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m2673[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mBureau associatif 30min
[22m[39m
Â­Æ’Ã´Ã‘ [fb7654d5-1571-404b-abbd-c1a4b7d14072] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Trouve un crâ”œÂ®neau de 30 minutes cette semaine pour le bureau de l'asso.",
  "description": "Disponibilitâ”œÂ®s pour le bureau de l'association.",
  "type": "date",
  "dates": [
    "2025-12-05",
    "2025-12-08"
  ],
  "timeSlots": [
    {
      "start": "08:00",
      "end": "08:30",
      "dates": [
        "2025-12-05",
        "2025-12-08"
      ]
    },
    {
      "start": "08:30",
      "end": "09:00",
      "dates": [
        "2025-12-05",
        "2025-12-08"
      ]
 ...
    [... 2173 caractâ”œÂ¿res de plus]
  responseTime: [33m8532[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'fb7654d5-1571-404b-abbd-c1a4b7d14072'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [fb7654d5-1571-404b-abbd-c1a4b7d14072] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [19 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'08:00'[39m,
    end: [32m'08:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'08:30'[39m,
    end: [32m'09:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'09:00'[39m,
    end: [32m'09:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'09:30'[39m,
    end: [32m'10:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'10:00'[39m,
    end: [32m'10:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'10:30'[39m,
    end: [32m'11:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'11:00'[39m,
    end: [32m'11:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'11:30'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'14:00'[39m,
    end: [32m'14:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'14:30'[39m,
    end: [32m'15:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'15:00'[39m,
    end: [32m'15:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'15:30'[39m,
    end: [32m'16:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'16:00'[39m,
    end: [32m'16:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'16:30'[39m,
    end: [32m'17:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'18:30'[39m,
    end: [32m'19:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'19:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'19:30'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'20:00'[39m,
    end: [32m'20:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'20:30'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  }
]
  filteredTimeSlots: [19 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'08:00'[39m,
    end: [32m'08:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'08:30'[39m,
    end: [32m'09:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'09:00'[39m,
    end: [32m'09:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'09:30'[39m,
    end: [32m'10:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'10:00'[39m,
    end: [32m'10:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'10:30'[39m,
    end: [32m'11:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'11:00'[39m,
    end: [32m'11:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'11:30'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'14:00'[39m,
    end: [32m'14:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'14:30'[39m,
    end: [32m'15:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'15:00'[39m,
    end: [32m'15:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'15:30'[39m,
    end: [32m'16:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'16:00'[39m,
    end: [32m'16:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'16:30'[39m,
    end: [32m'17:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'18:30'[39m,
    end: [32m'19:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'19:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'19:30'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'20:00'[39m,
    end: [32m'20:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'20:30'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [fb7654d5-1571-404b-abbd-c1a4b7d14072] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Trouve un crâ”œÂ®neau de 30 minutes cette semaine pour le bureau de l'asso.
  description: Disponibilitâ”œÂ®s pour le bureau de l'association.
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  timeSlotsCount: [33m19[39m
  timeSlots: [19 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'08:00'[39m,
    end: [32m'08:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'08:30'[39m,
    end: [32m'09:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'09:00'[39m,
    end: [32m'09:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'09:30'[39m,
    end: [32m'10:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'10:00'[39m,
    end: [32m'10:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'10:30'[39m,
    end: [32m'11:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'11:00'[39m,
    end: [32m'11:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'11:30'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'14:00'[39m,
    end: [32m'14:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'14:30'[39m,
    end: [32m'15:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'15:00'[39m,
    end: [32m'15:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'15:30'[39m,
    end: [32m'16:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'16:00'[39m,
    end: [32m'16:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'16:30'[39m,
    end: [32m'17:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'18:30'[39m,
    end: [32m'19:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'19:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'19:30'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'20:00'[39m,
    end: [32m'20:30'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  },
  {
    start: [32m'20:30'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  }
]

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mBureau associatif 30min
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Trouve un crâ”œÂ®neau de 30 minutes cette semaine pour le bureau de l'asso.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-05, 2025-12-08
   - Crâ”œÂ®neaux: 08:00-08:30, 08:30-09:00, 09:00-09:30, 09:30-10:00, 10:00-10:30, 10:30-11:00, 11:00-11:30, 11:30-12:00, 14:00-14:30, 14:30-15:00, 15:00-15:30, 15:30-16:00, 16:00-16:30, 16:30-17:00, 18:30-19:00, 19:00-19:30, 19:30-20:00, 20:00-20:30, 20:30-21:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/associatif.manual.ts[2m > [22mGemini Tests - ASSOCIATIF[2m > [22mBureau associatif 30min[33m 8542[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mAtelier bâ”œÂ®nâ”œÂ®voles semaine du 12
[22m[39m
Â­Æ’Ã´Ã˜ [d3f9ddd3-3277-4348-b3d2-13fc9beeb30d] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Organise deux dates en soirâ”œÂ®e pour l'atelier bâ”œÂ®nâ”œÂ®voles, semaine du 12.
  inputLength: [33m70[39m
  timestamp: 2025-12-05T18:39:00.061Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'd3f9ddd3-3277-4348-b3d2-13fc9beeb30d'[39m,
  userInputLength: [33m70[39m,
  userInputPreview: [32m"Organise deux dates en soirâ”œÂ®e pour l'atelier bâ”œÂ®nâ”œÂ®v"[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=70, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'd3f9ddd3-3277-4348-b3d2-13fc9beeb30d'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=4, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=70, result=false 

Ã”ÃœÃ–Â´Â©Ã… [d3f9ddd3-3277-4348-b3d2-13fc9beeb30d] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Organise deux dates en soirâ”œÂ®e pour l'atelier bâ”œÂ®nâ”œÂ®voles, semaine du 12.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mAtelier bâ”œÂ®nâ”œÂ®voles semaine du 12
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'soir'[39m, date: [32m'2025-12-06T17:00:00.000Z'[39m } ]
  chronoText: soir
  chronoDate: 2025-12-06T17:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:soir'[39m, [32m'semaineDu:12'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m,
  [32m'2025-12-13'[39m,
  [32m'2025-12-14'[39m
]
  targetDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-07T23:00:00.000Z'[39m,
  [32m'2025-12-08T23:00:00.000Z'[39m,
  [32m'2025-12-09T23:00:00.000Z'[39m,
  [32m'2025-12-10T23:00:00.000Z'[39m,
  [32m'2025-12-11T23:00:00.000Z'[39m,
  [32m'2025-12-12T23:00:00.000Z'[39m,
  [32m'2025-12-13T23:00:00.000Z'[39m
]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m7[39m,
  detectedKeywords: [ [32m'chrono:soir'[39m, [32m'semaineDu:12'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'd3f9ddd3-3277-4348-b3d2-13fc9beeb30d'[39m, hintsLength: [33m395[39m }

Â­Æ’Ã´Ã± [d3f9ddd3-3277-4348-b3d2-13fc9beeb30d] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Organise deux dates en soirâ”œÂ®e pour l'atelier bâ”œÂ®nâ”œÂ®voles, semaine du 12.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025, mercredi 10 dâ”œÂ®cembre 2025, jeudi 11 dâ”œÂ®cembre 2025, vendredi 12 dâ”œÂ®cembre 2025, samedi 13 dâ”œÂ®cembre 2025, dimanche 14 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 7


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTE...
    [... 2221 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Organise deux dates en soirâ”œÂ®e pour l'atelier bâ”œÂ®nâ”œÂ®voles, semaine du 12.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025, mercredi 10 dâ”œÂ®cembre 2025, jeudi 11 dâ”œÂ®cembre 2025, vendredi 12 dâ”œÂ®cembre 2025, samedi 13 dâ”œÂ®cembre 2025, dimanche 14 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 7

  promptLength: [33m2721[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'd3f9ddd3-3277-4348-b3d2-13fc9beeb30d'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2721[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'd3f9ddd3-3277-4348-b3d2-13fc9beeb30d'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Organise deux dates en soirâ”œÂ®e pour l'atelier bâ”œÂ®nâ”œÂ®voles, semaine du 12.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025, mercredi 10 dâ”œÂ®cembre 2025, jeudi 11 dâ”œÂ®cembre 2025, vendredi 12 dâ”œÂ®cembre 2025, samedi 13 dâ”œÂ®cembre 2025, dimanche 14 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 7\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Soirâ”œÂ®e Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 18h30 et 21h00\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m`Demande: "Organise deux dates en soirâ”œÂ®e pour l'atelier bâ”œÂ®nâ”œÂ®voles, semaine du 12."\n`[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m70[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mAtelier bâ”œÂ®nâ”œÂ®voles semaine du 12
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m548[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mAtelier bâ”œÂ®nâ”œÂ®voles semaine du 12
[22m[39m
Â­Æ’Ã´Ã‘ [d3f9ddd3-3277-4348-b3d2-13fc9beeb30d] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Atelier bâ”œÂ®nâ”œÂ®voles",
  "description": "Organisation de deux dates en soirâ”œÂ®e pour l'atelier bâ”œÂ®nâ”œÂ®voles.",
  "type": "date",
  "dates": [
    "2025-12-08",
    "2025-12-09",
    "2025-12-10",
    "2025-12-11",
    "2025-12-12",
    "2025-12-13",
    "2025-12-14"
  ],
  "timeSlots": [
    {
      "start": "18:30",
      "end": "21:00",
      "dates": [
        "2025-12-08",
        "2025-12-09",
        "2025-12-10",
        "2025-12-11",
        "2025-12-12",
        "2025-12-1...
    [... 48 caractâ”œÂ¿res de plus]
  responseTime: [33m2346[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'd3f9ddd3-3277-4348-b3d2-13fc9beeb30d'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [d3f9ddd3-3277-4348-b3d2-13fc9beeb30d] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m,
  [32m'2025-12-13'[39m,
  [32m'2025-12-14'[39m
]
  filteredDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m,
  [32m'2025-12-13'[39m,
  [32m'2025-12-14'[39m
]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'21:00'[39m,
    dates: [
      [32m'2025-12-08'[39m,
      [32m'2025-12-09'[39m,
      [32m'2025-12-10'[39m,
      [32m'2025-12-11'[39m,
      [32m'2025-12-12'[39m,
      [32m'2025-12-13'[39m,
      [32m'2025-12-14'[39m
    ]
  }
]
  filteredTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'21:00'[39m,
    dates: [
      [32m'2025-12-08'[39m,
      [32m'2025-12-09'[39m,
      [32m'2025-12-10'[39m,
      [32m'2025-12-11'[39m,
      [32m'2025-12-12'[39m,
      [32m'2025-12-13'[39m,
      [32m'2025-12-14'[39m
    ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [d3f9ddd3-3277-4348-b3d2-13fc9beeb30d] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Atelier bâ”œÂ®nâ”œÂ®voles
  description: Organisation de deux dates en soirâ”œÂ®e pour l'atelier bâ”œÂ®nâ”œÂ®voles.
  type: date
  datesCount: [33m7[39m
  dates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m,
  [32m'2025-12-13'[39m,
  [32m'2025-12-14'[39m
]
  timeSlotsCount: [33m1[39m
  timeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'21:00'[39m,
    dates: [
      [32m'2025-12-08'[39m,
      [32m'2025-12-09'[39m,
      [32m'2025-12-10'[39m,
      [32m'2025-12-11'[39m,
      [32m'2025-12-12'[39m,
      [32m'2025-12-13'[39m,
      [32m'2025-12-14'[39m
    ]
  }
]

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mAtelier bâ”œÂ®nâ”œÂ®voles semaine du 12
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Organise deux dates en soirâ”œÂ®e pour l'atelier bâ”œÂ®nâ”œÂ®voles, semaine du 12.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-08, 2025-12-09, 2025-12-10, 2025-12-11, 2025-12-12, 2025-12-13, 2025-12-14
   - Crâ”œÂ®neaux: 18:30-21:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘2 dates | Obtenu: [33m7[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/associatif.manual.ts[2m > [22mGemini Tests - ASSOCIATIF[2m > [22mAtelier bâ”œÂ®nâ”œÂ®voles semaine du 12[33m 2353[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®pâ”œÂ®tition chorale week-end
[22m[39m
Â­Æ’Ã´Ã˜ [45f274bc-6d48-4730-80cf-8e4ec44a0237] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Planifie une râ”œÂ®pâ”œÂ®tition chorale samedi matin ou dimanche aprâ”œÂ¿s-midi.
  inputLength: [33m68[39m
  timestamp: 2025-12-05T18:39:02.415Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'45f274bc-6d48-4730-80cf-8e4ec44a0237'[39m,
  userInputLength: [33m68[39m,
  userInputPreview: [32m'Planifie une râ”œÂ®pâ”œÂ®tition chorale samedi matin ou di'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=68, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'45f274bc-6d48-4730-80cf-8e4ec44a0237'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=5, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=68, result=false 

Ã”ÃœÃ–Â´Â©Ã… [45f274bc-6d48-4730-80cf-8e4ec44a0237] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Planifie une râ”œÂ®pâ”œÂ®tition chorale samedi matin ou dimanche aprâ”œÂ¿s-midi.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®pâ”œÂ®tition chorale week-end
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [2 â”œÂ®lâ”œÂ®ments] [
  { text: [32m'samedi matin'[39m, date: [32m'2025-12-06T07:00:00.000Z'[39m },
  { text: [32m'dimanche aprâ”œÂ¿s-midi'[39m, date: [32m'2025-12-07T13:00:00.000Z'[39m }
]
  chronoText: samedi matin
  chronoDate: 2025-12-06T07:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:samedi matin'[39m, [32m'day:samedi,dimanche'[39m ]
  dayOfWeek: [2 â”œÂ®lâ”œÂ®ments] [ [33m6[39m, [33m0[39m ]
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T07:00:00.000Z'[39m ]
  parseType: day_of_week
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:samedi matin'[39m, [32m'day:samedi,dimanche'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'45f274bc-6d48-4730-80cf-8e4ec44a0237'[39m, hintsLength: [33m267[39m }

Â­Æ’Ã´Ã± [45f274bc-6d48-4730-80cf-8e4ec44a0237] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Planifie une râ”œÂ®pâ”œÂ®tition chorale samedi matin ou dimanche aprâ”œÂ¿s-midi.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Râ”œÂ®pâ”œÂ®tition chorale Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 1 crâ”œÂ®neau samedi matin (10h-12h) et 1 crâ”œÂ®neau dimanche aprâ”œÂ¿s-midi (15h-17h)
CONTEXTE: Matin Ã”Ã¥Ã† ...
    [... 2293 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Planifie une râ”œÂ®pâ”œÂ®tition chorale samedi matin ou dimanche aprâ”œÂ¿s-midi.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2793[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'45f274bc-6d48-4730-80cf-8e4ec44a0237'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2793[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'45f274bc-6d48-4730-80cf-8e4ec44a0237'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Planifie une râ”œÂ®pâ”œÂ®tition chorale samedi matin ou dimanche aprâ”œÂ¿s-midi.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Râ”œÂ®pâ”œÂ®tition chorale Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 1 crâ”œÂ®neau samedi matin (10h-12h) et 1 crâ”œÂ®neau dimanche aprâ”œÂ¿s-midi (15h-17h)\n'[39m +
    [32m'CONTEXTE: Matin Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 09h00 et 12h00 (pas 8h-11h)\n'[39m +
    [32m'CONTEXTE: Aprâ”œÂ¿s-midi Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 14h00 et 17h00 (pas 15h-17h)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Planifie une râ”œÂ®pâ”œÂ®tition chorale samedi matin ou dimanche aprâ”œÂ¿s-midi."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m68[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®pâ”œÂ®tition chorale week-end
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m372[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®pâ”œÂ®tition chorale week-end
[22m[39m
Â­Æ’Ã´Ã‘ [45f274bc-6d48-4730-80cf-8e4ec44a0237] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Râ”œÂ®pâ”œÂ®tition chorale",
  "description": null,
  "type": "date",
  "dates": [
    "2025-12-06",
    "2025-12-07"
  ],
  "timeSlots": [
    {
      "start": "10:00",
      "end": "12:00",
      "dates": [
        "2025-12-06"
      ]
    },
    {
      "start": "15:00",
      "end": "17:00",
      "dates": [
        "2025-12-07"
      ]
    }
  ]
}
```
  responseTime: [33m1513[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'45f274bc-6d48-4730-80cf-8e4ec44a0237'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [45f274bc-6d48-4730-80cf-8e4ec44a0237] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'10:00'[39m, end: [32m'12:00'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'15:00'[39m, end: [32m'17:00'[39m, dates: [ [32m'2025-12-07'[39m ] }
]
  filteredTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'10:00'[39m, end: [32m'12:00'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'15:00'[39m, end: [32m'17:00'[39m, dates: [ [32m'2025-12-07'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [45f274bc-6d48-4730-80cf-8e4ec44a0237] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Râ”œÂ®pâ”œÂ®tition chorale
  description: [1mnull[22m
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m ]
  timeSlotsCount: [33m2[39m
  timeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'10:00'[39m, end: [32m'12:00'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'15:00'[39m, end: [32m'17:00'[39m, dates: [ [32m'2025-12-07'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mRâ”œÂ®pâ”œÂ®tition chorale week-end
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Planifie une râ”œÂ®pâ”œÂ®tition chorale samedi matin ou dimanche aprâ”œÂ¿s-midi.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-06, 2025-12-07
   - Crâ”œÂ®neaux: 10:00-12:00, 15:00-17:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/associatif.manual.ts[2m > [22mGemini Tests - ASSOCIATIF[2m > [22mRâ”œÂ®pâ”œÂ®tition chorale week-end[33m 1521[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mAide devoirs mercredi/vendredi
[22m[39m
Â­Æ’Ã´Ã˜ [ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Cherche une disponibilitâ”œÂ® mercredi ou vendredi pour l'aide aux devoirs.
  inputLength: [33m71[39m
  timestamp: 2025-12-05T18:39:03.936Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4'[39m,
  userInputLength: [33m71[39m,
  userInputPreview: [32m'Cherche une disponibilitâ”œÂ® mercredi ou vendredi pou'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=71, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=3, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=71, result=false 

Ã”ÃœÃ–Â´Â©Ã… [ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Cherche une disponibilitâ”œÂ® mercredi ou vendredi pour l'aide aux devoirs.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mAide devoirs mercredi/vendredi
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [2 â”œÂ®lâ”œÂ®ments] [
  { text: [32m'mercredi'[39m, date: [32m'2025-12-10T11:00:00.000Z'[39m },
  { text: [32m'vendredi'[39m, date: [32m'2025-12-12T11:00:00.000Z'[39m }
]
  chronoText: mercredi
  chronoDate: 2025-12-10T11:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:mercredi'[39m, [32m'day:mercredi,vendredi'[39m ]
  dayOfWeek: [2 â”œÂ®lâ”œÂ®ments] [ [33m3[39m, [33m5[39m ]
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-10'[39m, [32m'2025-12-12'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-10T11:00:00.000Z'[39m ]
  parseType: day_of_week
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:mercredi'[39m, [32m'day:mercredi,vendredi'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4'[39m, hintsLength: [33m274[39m }

Â­Æ’Ã´Ã± [ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Cherche une disponibilitâ”œÂ® mercredi ou vendredi pour l'aide aux devoirs.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: mercredi 10 dâ”œÂ®cembre 2025, vendredi 12 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Aide aux devoirs Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux mercredi aprâ”œÂ¿s-midi (17h-18h) ou vendredi soir (18h-19h)
Utilise ces hints pour ...
    [... 2147 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Cherche une disponibilitâ”œÂ® mercredi ou vendredi pour l'aide aux devoirs.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: mercredi 10 dâ”œÂ®cembre 2025, vendredi 12 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2647[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2647[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Cherche une disponibilitâ”œÂ® mercredi ou vendredi pour l'aide aux devoirs.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: mercredi 10 dâ”œÂ®cembre 2025, vendredi 12 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Aide aux devoirs Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux mercredi aprâ”œÂ¿s-midi (17h-18h) ou vendredi soir (18h-19h)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m`Demande: "Cherche une disponibilitâ”œÂ® mercredi ou vendredi pour l'aide aux devoirs."\n`[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m71[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mAide devoirs mercredi/vendredi
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m406[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mAide devoirs mercredi/vendredi
[22m[39m
Â­Æ’Ã´Ã‘ [ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Aide aux devoirs",
  "description": "Disponibilitâ”œÂ®s pour l'aide aux devoirs",
  "type": "date",
  "dates": [
    "2025-12-10",
    "2025-12-12"
  ],
  "timeSlots": [
    {
      "start": "17:00",
      "end": "18:00",
      "dates": [
        "2025-12-10"
      ]
    },
    {
      "start": "18:00",
      "end": "19:00",
      "dates": [
        "2025-12-12"
      ]
    }
  ]
}
```
  responseTime: [33m1477[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-10'[39m, [32m'2025-12-12'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-10'[39m, [32m'2025-12-12'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'17:00'[39m, end: [32m'18:00'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'18:00'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-12'[39m ] }
]
  filteredTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'17:00'[39m, end: [32m'18:00'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'18:00'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-12'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [ac49fa2e-1a15-46ab-bb8f-8785b1cdc3e4] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Aide aux devoirs
  description: Disponibilitâ”œÂ®s pour l'aide aux devoirs
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-10'[39m, [32m'2025-12-12'[39m ]
  timeSlotsCount: [33m2[39m
  timeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'17:00'[39m, end: [32m'18:00'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'18:00'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-12'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mAide devoirs mercredi/vendredi
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Cherche une disponibilitâ”œÂ® mercredi ou vendredi pour l'aide aux devoirs.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-10, 2025-12-12
   - Crâ”œÂ®neaux: 17:00-18:00, 18:00-19:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/associatif.manual.ts[2m > [22mGemini Tests - ASSOCIATIF[2m > [22mAide devoirs mercredi/vendredi[33m 1481[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mComitâ”œÂ® de quartier J+15
[22m[39m
Â­Æ’Ã´Ã˜ [95c15e1e-d6f7-4968-9897-f42ddeb52270] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Prâ”œÂ®vois le comitâ”œÂ® de quartier dans quinze jours, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.
  inputLength: [33m75[39m
  timestamp: 2025-12-05T18:39:05.418Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'95c15e1e-d6f7-4968-9897-f42ddeb52270'[39m,
  userInputLength: [33m75[39m,
  userInputPreview: [32m'Prâ”œÂ®vois le comitâ”œÂ® de quartier dans quinze jours, p'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=75, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'95c15e1e-d6f7-4968-9897-f42ddeb52270'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=3, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=75, result=false 

Ã”ÃœÃ–Â´Â©Ã… [95c15e1e-d6f7-4968-9897-f42ddeb52270] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Prâ”œÂ®vois le comitâ”œÂ® de quartier dans quinze jours, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mComitâ”œÂ® de quartier J+15
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'soir'[39m, date: [32m'2025-12-06T17:00:00.000Z'[39m } ]
  chronoText: soir
  chronoDate: 2025-12-06T17:00:00.000Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:soir'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T17:00:00.000Z'[39m ]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m4[39m,
  detectedKeywords: [ [32m'chrono:soir'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'95c15e1e-d6f7-4968-9897-f42ddeb52270'[39m, hintsLength: [33m320[39m }

Â­Æ’Ã´Ã± [95c15e1e-d6f7-4968-9897-f42ddeb52270] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Prâ”œÂ®vois le comitâ”œÂ® de quartier dans quinze jours, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 4


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Soirâ”œÂ®e Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 18h30 et 21h00
Utilise ces hints pour ...
    [... 2151 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Prâ”œÂ®vois le comitâ”œÂ® de quartier dans quinze jours, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 4

  promptLength: [33m2651[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'95c15e1e-d6f7-4968-9897-f42ddeb52270'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2651[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'95c15e1e-d6f7-4968-9897-f42ddeb52270'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Prâ”œÂ®vois le comitâ”œÂ® de quartier dans quinze jours, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 4\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Soirâ”œÂ®e Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 18h30 et 21h00\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Prâ”œÂ®vois le comitâ”œÂ® de quartier dans quinze jours, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m75[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mComitâ”œÂ® de quartier J+15
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m1126[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mComitâ”œÂ® de quartier J+15
[22m[39m
Â­Æ’Ã´Ã‘ [95c15e1e-d6f7-4968-9897-f42ddeb52270] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "comitâ”œÂ® de quartier",
  "description": "Prâ”œÂ®vois le comitâ”œÂ® de quartier dans quinze jours, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.",
  "type": "date",
  "dates": [
    "2025-12-06",
    "2025-12-07",
    "2025-12-08",
    "2025-12-09"
  ],
  "timeSlots": [
    {
      "start": "18:30",
      "end": "19:00",
      "dates": [
        "2025-12-06",
        "2025-12-07",
        "2025-12-08",
        "2025-12-09"
      ]
    },
    {
      "start": "19:00",
      "end": "19:30",
      "dates":...
    [... 626 caractâ”œÂ¿res de plus]
  responseTime: [33m3382[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'95c15e1e-d6f7-4968-9897-f42ddeb52270'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [95c15e1e-d6f7-4968-9897-f42ddeb52270] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  filteredDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [5 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'19:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'19:30'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:30'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'20:00'[39m,
    end: [32m'20:30'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'20:30'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  filteredTimeSlots: [5 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'19:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'19:30'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:30'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'20:00'[39m,
    end: [32m'20:30'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'20:30'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [95c15e1e-d6f7-4968-9897-f42ddeb52270] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: comitâ”œÂ® de quartier
  description: Prâ”œÂ®vois le comitâ”œÂ® de quartier dans quinze jours, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.
  type: date
  datesCount: [33m4[39m
  dates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  timeSlotsCount: [33m5[39m
  timeSlots: [5 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'19:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'19:30'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:30'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'20:00'[39m,
    end: [32m'20:30'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'20:30'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mComitâ”œÂ® de quartier J+15
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Prâ”œÂ®vois le comitâ”œÂ® de quartier dans quinze jours, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-06, 2025-12-07, 2025-12-08, 2025-12-09
   - Crâ”œÂ®neaux: 18:30-19:00, 19:00-19:30, 19:30-20:00, 20:00-20:30, 20:30-21:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m4[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/associatif.manual.ts[2m > [22mGemini Tests - ASSOCIATIF[2m > [22mComitâ”œÂ® de quartier J+15[33m 3389[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mPrâ”œÂ®pa kermesse samedi 10h
[22m[39m
Â­Æ’Ã´Ã˜ [d14da54d-891c-49f2-9bb1-f93c7ddd4e60] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Propose un crâ”œÂ®neau samedi 10h pour la râ”œÂ®union de prâ”œÂ®paration kermesse.
  inputLength: [33m70[39m
  timestamp: 2025-12-05T18:39:08.808Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'd14da54d-891c-49f2-9bb1-f93c7ddd4e60'[39m,
  userInputLength: [33m70[39m,
  userInputPreview: [32m'Propose un crâ”œÂ®neau samedi 10h pour la râ”œÂ®union de p'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=70, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'd14da54d-891c-49f2-9bb1-f93c7ddd4e60'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=3, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=70, result=false 

Ã”ÃœÃ–Â´Â©Ã… [d14da54d-891c-49f2-9bb1-f93c7ddd4e60] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Propose un crâ”œÂ®neau samedi 10h pour la râ”œÂ®union de prâ”œÂ®paration kermesse.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mPrâ”œÂ®pa kermesse samedi 10h
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'samedi 10h'[39m, date: [32m'2025-12-06T09:00:00.000Z'[39m } ]
  chronoText: samedi 10h
  chronoDate: 2025-12-06T09:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:samedi 10h'[39m, [32m'day:samedi'[39m ]
  dayOfWeek: [1 â”œÂ®lâ”œÂ®ments] [ [33m6[39m ]
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [0 â”œÂ®lâ”œÂ®ments] []
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T09:00:00.000Z'[39m ]
  parseType: day_of_week
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m0[39m,
  detectedKeywords: [ [32m'chrono:samedi 10h'[39m, [32m'day:samedi'[39m ],
  validationErrors: [33m1[39m,
  validationWarnings: [33m1[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'd14da54d-891c-49f2-9bb1-f93c7ddd4e60'[39m, hintsLength: [33m0[39m }

Â­Æ’Ã´Ã± [d14da54d-891c-49f2-9bb1-f93c7ddd4e60] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Durâ”œÂ®e explicite (600 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 600 minutes
CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot
Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.


Demande: "Propose un crâ”œÂ®neau samedi 10h pour la râ”œÂ®union de prâ”œÂ®paration kermesse."

Râ”œÃªGLES FONDAMENTALES:
- Dates futures uniquement (>= 2025-12-05)
- Calculer â”œÃ¡ partir d'...
    [... 1930 caractâ”œÂ¿res de plus]
  dateHints: 
  promptLength: [33m2430[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'd14da54d-891c-49f2-9bb1-f93c7ddd4e60'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2430[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'd14da54d-891c-49f2-9bb1-f93c7ddd4e60'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Durâ”œÂ®e explicite (600 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 600 minutes\n'[39m +
    [32m"CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot\n"[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Propose un crâ”œÂ®neau samedi 10h pour la râ”œÂ®union de prâ”œÂ®paration kermesse."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m70[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mPrâ”œÂ®pa kermesse samedi 10h
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m262[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mPrâ”œÂ®pa kermesse samedi 10h
[22m[39m
Â­Æ’Ã´Ã‘ [d14da54d-891c-49f2-9bb1-f93c7ddd4e60] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Râ”œÂ®union de prâ”œÂ®paration kermesse",
  "description": null,
  "type": "date",
  "dates": [
    "2025-12-06"
  ],
  "timeSlots": [
    {
      "start": "10:00",
      "end": "20:00",
      "dates": [
        "2025-12-06"
      ]
    }
  ]
}
```
  responseTime: [33m1277[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'd14da54d-891c-49f2-9bb1-f93c7ddd4e60'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [d14da54d-891c-49f2-9bb1-f93c7ddd4e60] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m ]
  filteredDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [ { start: [32m'10:00'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-06'[39m ] } ]
  filteredTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [ { start: [32m'10:00'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-06'[39m ] } ]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [d14da54d-891c-49f2-9bb1-f93c7ddd4e60] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Râ”œÂ®union de prâ”œÂ®paration kermesse
  description: [1mnull[22m
  type: date
  datesCount: [33m1[39m
  dates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m ]
  timeSlotsCount: [33m1[39m
  timeSlots: [1 â”œÂ®lâ”œÂ®ments] [ { start: [32m'10:00'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-06'[39m ] } ]

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mPrâ”œÂ®pa kermesse samedi 10h
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Propose un crâ”œÂ®neau samedi 10h pour la râ”œÂ®union de prâ”œÂ®paration kermesse.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-06
   - Crâ”œÂ®neaux: 10:00-20:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m1[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/associatif.manual.ts[2m > [22mGemini Tests - ASSOCIATIF[2m > [22mPrâ”œÂ®pa kermesse samedi 10h[33m 1286[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mEquipe â”œÂ®ducative avant vacances
[22m[39m
Â­Æ’Ã´Ã˜ [af156ed0-a1c6-42af-a406-83813cb5eb17] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Planifie une râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative avant les vacances, matinâ”œÂ®e uniquement.
  inputLength: [33m79[39m
  timestamp: 2025-12-05T18:39:10.094Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'af156ed0-a1c6-42af-a406-83813cb5eb17'[39m,
  userInputLength: [33m79[39m,
  userInputPreview: [32m"Planifie une râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative avant les "[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=79, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'af156ed0-a1c6-42af-a406-83813cb5eb17'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=2, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=79, result=false 

Ã”ÃœÃ–Â´Â©Ã… [af156ed0-a1c6-42af-a406-83813cb5eb17] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Planifie une râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative avant les vacances, matinâ”œÂ®e uniquement.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mEquipe â”œÂ®ducative avant vacances
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m' matin'[39m, date: [32m'2025-12-06T07:00:00.000Z'[39m } ]
  chronoText: matin
  chronoDate: 2025-12-06T07:00:00.000Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:matin'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T07:00:00.000Z'[39m ]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:matin'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'af156ed0-a1c6-42af-a406-83813cb5eb17'[39m, hintsLength: [33m274[39m }

Â­Æ’Ã´Ã± [af156ed0-a1c6-42af-a406-83813cb5eb17] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Planifie une râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative avant les vacances, matinâ”œÂ®e uniquement.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Matin Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 09h00 et 12h00 (pas 8h-11h)
Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux ...
    [... 2121 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Planifie une râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative avant les vacances, matinâ”œÂ®e uniquement.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2621[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'af156ed0-a1c6-42af-a406-83813cb5eb17'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2621[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'af156ed0-a1c6-42af-a406-83813cb5eb17'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Planifie une râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative avant les vacances, matinâ”œÂ®e uniquement.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Matin Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 09h00 et 12h00 (pas 8h-11h)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m`Demande: "Planifie une râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative avant les vacances, matinâ”œÂ®e uniquement."\n`[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m79[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mEquipe â”œÂ®ducative avant vacances
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m996[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mEquipe â”œÂ®ducative avant vacances
[22m[39m
Â­Æ’Ã´Ã‘ [af156ed0-a1c6-42af-a406-83813cb5eb17] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative",
  "description": "Planification d'une râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative avant les vacances.",
  "type": "date",
  "dates": [
    "2025-12-08",
    "2025-12-09"
  ],
  "timeSlots": [
    {
      "start": "09:00",
      "end": "09:30",
      "dates": [
        "2025-12-08",
        "2025-12-09"
      ]
    },
    {
      "start": "09:30",
      "end": "10:00",
      "dates": [
        "2025-12-08",
        "2025-12-09"
      ]
    },
    {
      "start":...
    [... 496 caractâ”œÂ¿res de plus]
  responseTime: [33m3228[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'af156ed0-a1c6-42af-a406-83813cb5eb17'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [af156ed0-a1c6-42af-a406-83813cb5eb17] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [6 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:00'[39m,
    end: [32m'09:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'09:30'[39m,
    end: [32m'10:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:00'[39m,
    end: [32m'10:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:30'[39m,
    end: [32m'11:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:00'[39m,
    end: [32m'11:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:30'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  filteredTimeSlots: [6 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:00'[39m,
    end: [32m'09:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'09:30'[39m,
    end: [32m'10:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:00'[39m,
    end: [32m'10:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:30'[39m,
    end: [32m'11:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:00'[39m,
    end: [32m'11:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:30'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [af156ed0-a1c6-42af-a406-83813cb5eb17] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative
  description: Planification d'une râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative avant les vacances.
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  timeSlotsCount: [33m6[39m
  timeSlots: [6 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:00'[39m,
    end: [32m'09:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'09:30'[39m,
    end: [32m'10:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:00'[39m,
    end: [32m'10:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:30'[39m,
    end: [32m'11:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:00'[39m,
    end: [32m'11:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:30'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mEquipe â”œÂ®ducative avant vacances
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Planifie une râ”œÂ®union d'â”œÂ®quipe â”œÂ®ducative avant les vacances, matinâ”œÂ®e uniquement.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-08, 2025-12-09
   - Crâ”œÂ®neaux: 09:00-09:30, 09:30-10:00, 10:00-10:30, 10:30-11:00, 11:00-11:30, 11:30-12:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/associatif.manual.ts[2m > [22mGemini Tests - ASSOCIATIF[2m > [22mEquipe â”œÂ®ducative avant vacances[33m 3236[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mVisio trâ”œÂ®sorerie
[22m[39m
Â­Æ’Ã´Ã˜ [3e2c9a4c-fc00-49ac-9ff7-a76578ba548a] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Trouve-nous un crâ”œÂ®neau en visio aprâ”œÂ¿s 18h pour le point trâ”œÂ®sorerie.
  inputLength: [33m67[39m
  timestamp: 2025-12-05T18:39:13.331Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'3e2c9a4c-fc00-49ac-9ff7-a76578ba548a'[39m,
  userInputLength: [33m67[39m,
  userInputPreview: [32m'Trouve-nous un crâ”œÂ®neau en visio aprâ”œÂ¿s 18h pour le '[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=67, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'3e2c9a4c-fc00-49ac-9ff7-a76578ba548a'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=1, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=67, result=false 

Ã”ÃœÃ–Â´Â©Ã… [3e2c9a4c-fc00-49ac-9ff7-a76578ba548a] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Trouve-nous un crâ”œÂ®neau en visio aprâ”œÂ¿s 18h pour le point trâ”œÂ®sorerie.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mVisio trâ”œÂ®sorerie
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'18h'[39m, date: [32m'2025-12-06T17:00:00.000Z'[39m } ]
  chronoText: 18h
  chronoDate: 2025-12-06T17:00:00.000Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:18h'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T17:00:00.000Z'[39m ]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m4[39m,
  detectedKeywords: [ [32m'chrono:18h'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'3e2c9a4c-fc00-49ac-9ff7-a76578ba548a'[39m, hintsLength: [33m312[39m }

Â­Æ’Ã´Ã± [3e2c9a4c-fc00-49ac-9ff7-a76578ba548a] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Trouve-nous un crâ”œÂ®neau en visio aprâ”œÂ¿s 18h pour le point trâ”œÂ®sorerie.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 4


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Visioconfâ”œÂ®rence Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer maximum 2 crâ”œÂ®neaux entre 18h00 et 20h00 (durâ”œÂ®e 1h)
C...
    [... 2328 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Trouve-nous un crâ”œÂ®neau en visio aprâ”œÂ¿s 18h pour le point trâ”œÂ®sorerie.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 4

  promptLength: [33m2828[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'3e2c9a4c-fc00-49ac-9ff7-a76578ba548a'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2828[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'3e2c9a4c-fc00-49ac-9ff7-a76578ba548a'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Trouve-nous un crâ”œÂ®neau en visio aprâ”œÂ¿s 18h pour le point trâ”œÂ®sorerie.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 4\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Visioconfâ”œÂ®rence Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer maximum 2 crâ”œÂ®neaux entre 18h00 et 20h00 (durâ”œÂ®e 1h)\n'[39m +
    [32m'CONTEXTE: Durâ”œÂ®e explicite (1080 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 1080 minutes\n'[39m +
    [32m"CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot\n"[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Trouve-nous un crâ”œÂ®neau en visio aprâ”œÂ¿s 18h pour le point trâ”œÂ®sorerie."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m67[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mVisio trâ”œÂ®sorerie
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m577[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mVisio trâ”œÂ®sorerie
[22m[39m
Â­Æ’Ã´Ã‘ [3e2c9a4c-fc00-49ac-9ff7-a76578ba548a] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Point trâ”œÂ®sorerie",
  "description": "Visioconfâ”œÂ®rence pour le point trâ”œÂ®sorerie.",
  "type": "date",
  "dates": [
    "2025-12-06",
    "2025-12-07",
    "2025-12-08",
    "2025-12-09"
  ],
  "timeSlots": [
    {
      "start": "18:00",
      "end": "19:00",
      "dates": [
        "2025-12-06",
        "2025-12-07",
        "2025-12-08",
        "2025-12-09"
      ]
    },
    {
      "start": "19:00",
      "end": "20:00",
      "dates": [
        "2025-12-06",
        "20...
    [... 77 caractâ”œÂ¿res de plus]
  responseTime: [33m2161[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'3e2c9a4c-fc00-49ac-9ff7-a76578ba548a'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [3e2c9a4c-fc00-49ac-9ff7-a76578ba548a] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  filteredDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:00'[39m,
    end: [32m'19:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  filteredTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:00'[39m,
    end: [32m'19:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [3e2c9a4c-fc00-49ac-9ff7-a76578ba548a] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Point trâ”œÂ®sorerie
  description: Visioconfâ”œÂ®rence pour le point trâ”œÂ®sorerie.
  type: date
  datesCount: [33m4[39m
  dates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  timeSlotsCount: [33m2[39m
  timeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:00'[39m,
    end: [32m'19:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'20:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mVisio trâ”œÂ®sorerie
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Trouve-nous un crâ”œÂ®neau en visio aprâ”œÂ¿s 18h pour le point trâ”œÂ®sorerie.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-06, 2025-12-07, 2025-12-08, 2025-12-09
   - Crâ”œÂ®neaux: 18:00-19:00, 19:00-20:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m4[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/associatif.manual.ts[2m > [22mGemini Tests - ASSOCIATIF[2m > [22mVisio trâ”œÂ®sorerie[33m 2169[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mDistribution flyers fin avril
[22m[39m
Â­Æ’Ã´Ã˜ [138a1519-9aa9-4a7f-813c-9ccd63116615] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Planifie la distribution de flyers sur un week-end fin avril.
  inputLength: [33m61[39m
  timestamp: 2025-12-05T18:39:15.500Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'138a1519-9aa9-4a7f-813c-9ccd63116615'[39m,
  userInputLength: [33m61[39m,
  userInputPreview: [32m'Planifie la distribution de flyers sur un week-end'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=61, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'138a1519-9aa9-4a7f-813c-9ccd63116615'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=0, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=61, result=false 

Ã”ÃœÃ–Â´Â©Ã… [138a1519-9aa9-4a7f-813c-9ccd63116615] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Planifie la distribution de flyers sur un week-end fin avril.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mDistribution flyers fin avril
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [0 â”œÂ®lâ”œÂ®ments] []
  chronoText: [90mundefined[39m
  chronoDate: [90mundefined[39m
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'month:avril'[39m, [32m'period:end'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [33m3[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [0 â”œÂ®lâ”œÂ®ments] []
  targetDates: [0 â”œÂ®lâ”œÂ®ments] []
  parseType: month
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'month'[39m,
  allowedDatesCount: [33m0[39m,
  detectedKeywords: [ [32m'month:avril'[39m, [32m'period:end'[39m ],
  validationErrors: [33m1[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'138a1519-9aa9-4a7f-813c-9ccd63116615'[39m, hintsLength: [33m0[39m }

Â­Æ’Ã´Ã± [138a1519-9aa9-4a7f-813c-9ccd63116615] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Distribution de flyers Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2 crâ”œÂ®neaux (samedi matin 9h-11h + dimanche aprâ”œÂ¿s-midi 14h-16h)
Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.


Demande: "Planifie la distribution de flyers sur un week-end fin avril."

Râ”œÃªGLES FONDAMENTALES:
- Dates futures uniquement (>= 2025-12-05)
- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)

Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES ...
    [... 1866 caractâ”œÂ¿res de plus]
  dateHints: 
  promptLength: [33m2366[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'138a1519-9aa9-4a7f-813c-9ccd63116615'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2366[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'138a1519-9aa9-4a7f-813c-9ccd63116615'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Distribution de flyers Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2 crâ”œÂ®neaux (samedi matin 9h-11h + dimanche aprâ”œÂ¿s-midi 14h-16h)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Planifie la distribution de flyers sur un week-end fin avril."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m61[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mDistribution flyers fin avril
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m443[39m }

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mDistribution flyers fin avril
[22m[39m
Â­Æ’Ã´Ã‘ [138a1519-9aa9-4a7f-813c-9ccd63116615] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Distribution de flyers",
  "description": "Planification de la distribution de flyers sur un week-end fin avril.",
  "type": "date",
  "dates": [
    "2026-04-25",
    "2026-04-26"
  ],
  "timeSlots": [
    {
      "start": "09:00",
      "end": "11:00",
      "dates": [
        "2026-04-25"
      ]
    },
    {
      "start": "14:00",
      "end": "16:00",
      "dates": [
        "2026-04-26"
      ]
    }
  ]
}
```
  responseTime: [33m1411[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'138a1519-9aa9-4a7f-813c-9ccd63116615'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [138a1519-9aa9-4a7f-813c-9ccd63116615] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2026-04-25'[39m, [32m'2026-04-26'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2026-04-25'[39m, [32m'2026-04-26'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'09:00'[39m, end: [32m'11:00'[39m, dates: [ [32m'2026-04-25'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2026-04-26'[39m ] }
]
  filteredTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'09:00'[39m, end: [32m'11:00'[39m, dates: [ [32m'2026-04-25'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2026-04-26'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [138a1519-9aa9-4a7f-813c-9ccd63116615] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Distribution de flyers
  description: Planification de la distribution de flyers sur un week-end fin avril.
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2026-04-25'[39m, [32m'2026-04-26'[39m ]
  timeSlotsCount: [33m2[39m
  timeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'09:00'[39m, end: [32m'11:00'[39m, dates: [ [32m'2026-04-25'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2026-04-26'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests/associatif.manual.ts[2m > [22m[2mGemini Tests - ASSOCIATIF[2m > [22m[2mDistribution flyers fin avril
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Planifie la distribution de flyers sur un week-end fin avril.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2026-04-25, 2026-04-26
   - Crâ”œÂ®neaux: 09:00-11:00, 14:00-16:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/associatif.manual.ts[2m > [22mGemini Tests - ASSOCIATIF[2m > [22mDistribution flyers fin avril[33m 1417[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Direct Gemini API initialisâ”œÂ®e (fetch direct) 

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Mode DIRECT GEMINI API activâ”œÂ® (bypass Edge Function) 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ VITE_GEMINI_API_KEY configurâ”œÂ®e: AIzaSyAXlQ... 

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL
[22m[39m
======================================================================
Â­Æ’ÂºÂ¬ TESTS GEMINI - CATâ”œÃ«GORIE PERSONNEL
======================================================================

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mBrunch week-end 23/24
[22m[39m
Â­Æ’Ã´Ã˜ [a462c3ec-fc0b-4214-8a51-ef27fb942970] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Calcule un brunch samedi 23 ou dimanche 24.
  inputLength: [33m43[39m
  timestamp: 2025-12-05T18:39:17.020Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'a462c3ec-fc0b-4214-8a51-ef27fb942970'[39m,
  userInputLength: [33m43[39m,
  userInputPreview: [32m'Calcule un brunch samedi 23 ou dimanche 24.'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=43, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'a462c3ec-fc0b-4214-8a51-ef27fb942970'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=2, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=43, result=false 

Ã”ÃœÃ–Â´Â©Ã… [a462c3ec-fc0b-4214-8a51-ef27fb942970] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Calcule un brunch samedi 23 ou dimanche 24.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mBrunch week-end 23/24
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'specific_date'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:samedi 23'[39m, [32m'day:samedi,dimanche'[39m, [32m'dateNumeric:23,24'[39m ],
  validationErrors: [33m1[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'a462c3ec-fc0b-4214-8a51-ef27fb942970'[39m, hintsLength: [33m458[39m }

Â­Æ’Ã´Ã± [a462c3ec-fc0b-4214-8a51-ef27fb942970] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Calcule un brunch samedi 23 ou dimanche 24.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 27 dâ”œÂ®cembre 2025, dimanche 21 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2
- CONTEXTE REPAS: 1 CRâ”œÃ«NEAU UNIQUEMENT par date

Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…
Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)
Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux...
    [... 2271 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Calcule un brunch samedi 23 ou dimanche 24.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 27 dâ”œÂ®cembre 2025, dimanche 21 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2
- CONTEXTE REPAS: 1 CRâ”œÃ«NEAU UNIQUEMENT par date

Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…
Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)
Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas

  promptLength: [33m2771[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'a462c3ec-fc0b-4214-8a51-ef27fb942970'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2771[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'a462c3ec-fc0b-4214-8a51-ef27fb942970'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Calcule un brunch samedi 23 ou dimanche 24.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 27 dâ”œÂ®cembre 2025, dimanche 21 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'- CONTEXTE REPAS: 1 CRâ”œÃ«NEAU UNIQUEMENT par date\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)\n'[39m +
    [32m'Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Brunch Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 11h30 et 13h00 (durâ”œÂ®e 90min)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Calcule un brunch samedi 23 ou dimanche 24."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m43[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mBrunch week-end 23/24
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'samedi 23'[39m, date: [32m'2025-12-06T22:00:00.000Z'[39m } ]
  chronoText: samedi 23
  chronoDate: 2025-12-06T22:00:00.000Z
  detectedKeywords: [3 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:samedi 23'[39m, [32m'day:samedi,dimanche'[39m, [32m'dateNumeric:23,24'[39m ]
  dayOfWeek: [2 â”œÂ®lâ”œÂ®ments] [ [33m6[39m, [33m0[39m ]
  month: [90mundefined[39m
  dateNumeric: {
  "day": 23,
  "dayOfWeek": 6
}
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-27'[39m, [32m'2025-12-21'[39m ]
  targetDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-26T23:00:00.000Z'[39m, [32m'2025-12-20T23:00:00.000Z'[39m ]
  parseType: specific_date

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mBrunch week-end 23/24
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m423[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mBrunch week-end 23/24
[22m[39m
Â­Æ’Ã´Ã‘ [a462c3ec-fc0b-4214-8a51-ef27fb942970] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Brunch",
  "description": "Brunch le samedi 27 dâ”œÂ®cembre 2025 ou le dimanche 21 dâ”œÂ®cembre 2025",
  "type": "date",
  "dates": [
    "2025-12-27",
    "2025-12-21"
  ],
  "timeSlots": [
    {
      "start": "11:30",
      "end": "13:00",
      "dates": [
        "2025-12-27"
      ]
    },
    {
      "start": "11:30",
      "end": "13:00",
      "dates": [
        "2025-12-21"
      ]
    }
  ]
}
```
  responseTime: [33m1486[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'a462c3ec-fc0b-4214-8a51-ef27fb942970'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [a462c3ec-fc0b-4214-8a51-ef27fb942970] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-27'[39m, [32m'2025-12-21'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-27'[39m, [32m'2025-12-21'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-27'[39m ] },
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-21'[39m ] }
]
  filteredTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-27'[39m ] },
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-21'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [a462c3ec-fc0b-4214-8a51-ef27fb942970] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Brunch
  description: Brunch le samedi 27 dâ”œÂ®cembre 2025 ou le dimanche 21 dâ”œÂ®cembre 2025
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-27'[39m, [32m'2025-12-21'[39m ]
  timeSlotsCount: [33m2[39m
  timeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-27'[39m ] },
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-21'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mBrunch week-end 23/24
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Calcule un brunch samedi 23 ou dimanche 24.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-27, 2025-12-21
   - Crâ”œÂ®neaux: 11:30-13:00, 11:30-13:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘2 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/personnel.manual.ts[2m > [22mGemini Tests - PERSONNEL[2m > [22mBrunch week-end 23/24[33m 1502[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mEscape game fin mars
[22m[39m
Â­Æ’Ã´Ã˜ [6d040ed4-12b3-43e3-aafb-91d7b0e8856d] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Propose trois soirâ”œÂ®es pour un escape game fin mars.
  inputLength: [33m51[39m
  timestamp: 2025-12-05T18:39:18.522Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'6d040ed4-12b3-43e3-aafb-91d7b0e8856d'[39m,
  userInputLength: [33m51[39m,
  userInputPreview: [32m'Propose trois soirâ”œÂ®es pour un escape game fin mars'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=51, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'6d040ed4-12b3-43e3-aafb-91d7b0e8856d'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=1, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=51, result=false 

Ã”ÃœÃ–Â´Â©Ã… [6d040ed4-12b3-43e3-aafb-91d7b0e8856d] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Propose trois soirâ”œÂ®es pour un escape game fin mars.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mEscape game fin mars
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'soir'[39m, date: [32m'2025-12-06T17:00:00.000Z'[39m } ]
  chronoText: soir
  chronoDate: 2025-12-06T17:00:00.000Z
  detectedKeywords: [3 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:soir'[39m, [32m'month:mars'[39m, [32m'period:end'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [33m2[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [0 â”œÂ®lâ”œÂ®ments] []
  targetDates: [0 â”œÂ®lâ”œÂ®ments] []
  parseType: month
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'month'[39m,
  allowedDatesCount: [33m0[39m,
  detectedKeywords: [ [32m'chrono:soir'[39m, [32m'month:mars'[39m, [32m'period:end'[39m ],
  validationErrors: [33m1[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'6d040ed4-12b3-43e3-aafb-91d7b0e8856d'[39m, hintsLength: [33m0[39m }

Â­Æ’Ã´Ã± [6d040ed4-12b3-43e3-aafb-91d7b0e8856d] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Escape game Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux en soirâ”œÂ®e entre 19h00 et 21h00 (durâ”œÂ®e 2h)
Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.


Demande: "Propose trois soirâ”œÂ®es pour un escape game fin mars."

Râ”œÃªGLES FONDAMENTALES:
- Dates futures uniquement (>= 2025-12-05)
- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)

Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-d...
    [... 1833 caractâ”œÂ¿res de plus]
  dateHints: 
  promptLength: [33m2333[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'6d040ed4-12b3-43e3-aafb-91d7b0e8856d'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2333[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'6d040ed4-12b3-43e3-aafb-91d7b0e8856d'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Escape game Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux en soirâ”œÂ®e entre 19h00 et 21h00 (durâ”œÂ®e 2h)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Propose trois soirâ”œÂ®es pour un escape game fin mars."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m51[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mEscape game fin mars
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m393[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mEscape game fin mars
[22m[39m
Â­Æ’Ã´Ã‘ [6d040ed4-12b3-43e3-aafb-91d7b0e8856d] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Escape Game - Soirâ”œÂ®es Fin Mars",
  "description": "Trois soirâ”œÂ®es disponibles pour un escape game en mars.",
  "type": "date",
  "dates": [
    "2026-03-27",
    "2026-03-28",
    "2026-03-29"
  ],
  "timeSlots": [
    {
      "start": "19:00",
      "end": "21:00",
      "dates": [
        "2026-03-27",
        "2026-03-28",
        "2026-03-29"
      ]
    }
  ]
}
```
  responseTime: [33m1336[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'6d040ed4-12b3-43e3-aafb-91d7b0e8856d'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [6d040ed4-12b3-43e3-aafb-91d7b0e8856d] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [3 â”œÂ®lâ”œÂ®ments] [ [32m'2026-03-27'[39m, [32m'2026-03-28'[39m, [32m'2026-03-29'[39m ]
  filteredDates: [3 â”œÂ®lâ”œÂ®ments] [ [32m'2026-03-27'[39m, [32m'2026-03-28'[39m, [32m'2026-03-29'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'19:00'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2026-03-27'[39m, [32m'2026-03-28'[39m, [32m'2026-03-29'[39m ]
  }
]
  filteredTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'19:00'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2026-03-27'[39m, [32m'2026-03-28'[39m, [32m'2026-03-29'[39m ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [6d040ed4-12b3-43e3-aafb-91d7b0e8856d] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Escape Game - Soirâ”œÂ®es Fin Mars
  description: Trois soirâ”œÂ®es disponibles pour un escape game en mars.
  type: date
  datesCount: [33m3[39m
  dates: [3 â”œÂ®lâ”œÂ®ments] [ [32m'2026-03-27'[39m, [32m'2026-03-28'[39m, [32m'2026-03-29'[39m ]
  timeSlotsCount: [33m1[39m
  timeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'19:00'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2026-03-27'[39m, [32m'2026-03-28'[39m, [32m'2026-03-29'[39m ]
  }
]

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mEscape game fin mars
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Propose trois soirâ”œÂ®es pour un escape game fin mars.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2026-03-27, 2026-03-28, 2026-03-29
   - Crâ”œÂ®neaux: 19:00-21:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m3[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/personnel.manual.ts[2m > [22mGemini Tests - PERSONNEL[2m > [22mEscape game fin mars[33m 1343[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mVisite musâ”œÂ®e semaine prochaine
[22m[39m
Â­Æ’Ã´Ã˜ [6ab2f5d5-853b-468e-827b-985605d38158] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Trouve un aprâ”œÂ¿s-midi libre la semaine prochaine pour la visite au musâ”œÂ®e.
  inputLength: [33m72[39m
  timestamp: 2025-12-05T18:39:19.865Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'6ab2f5d5-853b-468e-827b-985605d38158'[39m,
  userInputLength: [33m72[39m,
  userInputPreview: [32m'Trouve un aprâ”œÂ¿s-midi libre la semaine prochaine po'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=72, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'6ab2f5d5-853b-468e-827b-985605d38158'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=5, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=72, result=false 

Ã”ÃœÃ–Â´Â©Ã… [6ab2f5d5-853b-468e-827b-985605d38158] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Trouve un aprâ”œÂ¿s-midi libre la semaine prochaine pour la visite au musâ”œÂ®e.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mVisite musâ”œÂ®e semaine prochaine
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [2 â”œÂ®lâ”œÂ®ments] [
  { text: [32m'aprâ”œÂ¿s-midi'[39m, date: [32m'2025-12-06T13:00:00.000Z'[39m },
  { text: [32m'la semaine prochaine'[39m, date: [32m'2025-12-12T18:39:19.867Z'[39m }
]
  chronoText: aprâ”œÂ¿s-midi
  chronoDate: 2025-12-06T13:00:00.000Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:aprâ”œÂ¿s-midi'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T13:00:00.000Z'[39m ]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m4[39m,
  detectedKeywords: [ [32m'chrono:aprâ”œÂ¿s-midi'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'6ab2f5d5-853b-468e-827b-985605d38158'[39m, hintsLength: [33m317[39m }

Â­Æ’Ã´Ã± [6ab2f5d5-853b-468e-827b-985605d38158] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Trouve un aprâ”œÂ¿s-midi libre la semaine prochaine pour la visite au musâ”œÂ®e.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 4


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Visite au musâ”œÂ®e/exposition Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2-3 crâ”œÂ®neaux entre 14h00 et 17h00 (d...
    [... 2257 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Trouve un aprâ”œÂ¿s-midi libre la semaine prochaine pour la visite au musâ”œÂ®e.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 4

  promptLength: [33m2757[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'6ab2f5d5-853b-468e-827b-985605d38158'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2757[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'6ab2f5d5-853b-468e-827b-985605d38158'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Trouve un aprâ”œÂ¿s-midi libre la semaine prochaine pour la visite au musâ”œÂ®e.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 4\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Visite au musâ”œÂ®e/exposition Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2-3 crâ”œÂ®neaux entre 14h00 et 17h00 (durâ”œÂ®e 2-3h)\n'[39m +
    [32m'CONTEXTE: Aprâ”œÂ¿s-midi Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 14h00 et 17h00 (pas 15h-17h)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Trouve un aprâ”œÂ¿s-midi libre la semaine prochaine pour la visite au musâ”œÂ®e."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m72[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mVisite musâ”œÂ®e semaine prochaine
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m1105[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mVisite musâ”œÂ®e semaine prochaine
[22m[39m
Â­Æ’Ã´Ã‘ [6ab2f5d5-853b-468e-827b-985605d38158] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Visite au musâ”œÂ®e",
  "description": "Trouve un aprâ”œÂ¿s-midi libre la semaine prochaine pour la visite au musâ”œÂ®e.",
  "type": "date",
  "dates": [
    "2025-12-06",
    "2025-12-07",
    "2025-12-08",
    "2025-12-09"
  ],
  "timeSlots": [
    {
      "start": "14:00",
      "end": "16:00",
      "dates": [
        "2025-12-06"
      ]
    },
    {
      "start": "14:30",
      "end": "16:30",
      "dates": [
        "2025-12-06"
      ]
    },
    {
      "start": "14:00",
   ...
    [... 605 caractâ”œÂ¿res de plus]
  responseTime: [33m3141[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'6ab2f5d5-853b-468e-827b-985605d38158'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [6ab2f5d5-853b-468e-827b-985605d38158] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  filteredDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [8 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-07'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-07'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-09'[39m ] }
]
  filteredTimeSlots: [8 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-07'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-07'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-09'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [6ab2f5d5-853b-468e-827b-985605d38158] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Visite au musâ”œÂ®e
  description: Trouve un aprâ”œÂ¿s-midi libre la semaine prochaine pour la visite au musâ”œÂ®e.
  type: date
  datesCount: [33m4[39m
  dates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  timeSlotsCount: [33m8[39m
  timeSlots: [8 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-07'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-07'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'14:00'[39m, end: [32m'16:00'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'14:30'[39m, end: [32m'16:30'[39m, dates: [ [32m'2025-12-09'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mVisite musâ”œÂ®e semaine prochaine
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Trouve un aprâ”œÂ¿s-midi libre la semaine prochaine pour la visite au musâ”œÂ®e.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-06, 2025-12-07, 2025-12-08, 2025-12-09
   - Crâ”œÂ®neaux: 14:00-16:00, 14:30-16:30, 14:00-16:00, 14:30-16:30, 14:00-16:00, 14:30-16:30, 14:00-16:00, 14:30-16:30
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m4[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/personnel.manual.ts[2m > [22mGemini Tests - PERSONNEL[2m > [22mVisite musâ”œÂ®e semaine prochaine[33m 3149[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mFooting vendredi soir / samedi matin
[22m[39m
Â­Æ’Ã´Ã˜ [2865fc54-7f94-4407-a4be-a1d20ecdf1a3] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Bloque un crâ”œÂ®neau vendredi soir ou samedi matin pour un footing.
  inputLength: [33m64[39m
  timestamp: 2025-12-05T18:39:23.015Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'2865fc54-7f94-4407-a4be-a1d20ecdf1a3'[39m,
  userInputLength: [33m64[39m,
  userInputPreview: [32m'Bloque un crâ”œÂ®neau vendredi soir ou samedi matin po'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=64, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'2865fc54-7f94-4407-a4be-a1d20ecdf1a3'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=5, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=64, result=false 

Ã”ÃœÃ–Â´Â©Ã… [2865fc54-7f94-4407-a4be-a1d20ecdf1a3] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Bloque un crâ”œÂ®neau vendredi soir ou samedi matin pour un footing.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mFooting vendredi soir / samedi matin
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [2 â”œÂ®lâ”œÂ®ments] [
  { text: [32m'vendredi soir'[39m, date: [32m'2025-12-12T17:00:00.000Z'[39m },
  { text: [32m'samedi matin'[39m, date: [32m'2025-12-06T07:00:00.000Z'[39m }
]
  chronoText: vendredi soir
  chronoDate: 2025-12-12T17:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:vendredi soir'[39m, [32m'day:vendredi,samedi'[39m ]
  dayOfWeek: [2 â”œÂ®lâ”œÂ®ments] [ [33m5[39m, [33m6[39m ]
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m, [32m'2025-12-13'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12T17:00:00.000Z'[39m ]
  parseType: day_of_week
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:vendredi soir'[39m, [32m'day:vendredi,samedi'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'2865fc54-7f94-4407-a4be-a1d20ecdf1a3'[39m, hintsLength: [33m265[39m }

Â­Æ’Ã´Ã± [2865fc54-7f94-4407-a4be-a1d20ecdf1a3] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Bloque un crâ”œÂ®neau vendredi soir ou samedi matin pour un footing.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 12 dâ”œÂ®cembre 2025, samedi 13 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Activitâ”œÂ® sportive Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 1-2 crâ”œÂ®neaux courts (1h max)
  - Vendredi soir: 18h00-19h00
  - Samedi matin: 08h00-09h00
CONTEXT...
    [... 2355 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Bloque un crâ”œÂ®neau vendredi soir ou samedi matin pour un footing.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 12 dâ”œÂ®cembre 2025, samedi 13 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2855[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'2865fc54-7f94-4407-a4be-a1d20ecdf1a3'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2855[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'2865fc54-7f94-4407-a4be-a1d20ecdf1a3'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Bloque un crâ”œÂ®neau vendredi soir ou samedi matin pour un footing.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 12 dâ”œÂ®cembre 2025, samedi 13 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Activitâ”œÂ® sportive Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 1-2 crâ”œÂ®neaux courts (1h max)\n'[39m +
    [32m'  - Vendredi soir: 18h00-19h00\n'[39m +
    [32m'  - Samedi matin: 08h00-09h00\n'[39m +
    [32m'CONTEXTE: Matin Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 09h00 et 12h00 (pas 8h-11h)\n'[39m +
    [32m'CONTEXTE: Soirâ”œÂ®e Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 18h30 et 21h00\n'[39m +
    [32m"CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot\n"[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Bloque un crâ”œÂ®neau vendredi soir ou samedi matin pour un footing."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m64[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mFooting vendredi soir / samedi matin
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m393[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mFooting vendredi soir / samedi matin
[22m[39m
Â­Æ’Ã´Ã‘ [2865fc54-7f94-4407-a4be-a1d20ecdf1a3] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Footing",
  "description": "Bloquer un crâ”œÂ®neau pour un footing",
  "type": "date",
  "dates": [
    "2025-12-12",
    "2025-12-13"
  ],
  "timeSlots": [
    {
      "start": "18:00",
      "end": "19:00",
      "dates": [
        "2025-12-12"
      ]
    },
    {
      "start": "08:00",
      "end": "09:00",
      "dates": [
        "2025-12-13"
      ]
    }
  ]
}
```
  responseTime: [33m1554[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'2865fc54-7f94-4407-a4be-a1d20ecdf1a3'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [2865fc54-7f94-4407-a4be-a1d20ecdf1a3] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m, [32m'2025-12-13'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m, [32m'2025-12-13'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'18:00'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'08:00'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-13'[39m ] }
]
  filteredTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'18:00'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'08:00'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-13'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [2865fc54-7f94-4407-a4be-a1d20ecdf1a3] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Footing
  description: Bloquer un crâ”œÂ®neau pour un footing
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m, [32m'2025-12-13'[39m ]
  timeSlotsCount: [33m2[39m
  timeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'18:00'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'08:00'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-13'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mFooting vendredi soir / samedi matin
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Bloque un crâ”œÂ®neau vendredi soir ou samedi matin pour un footing.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-12, 2025-12-13
   - Crâ”œÂ®neaux: 18:00-19:00, 08:00-09:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/personnel.manual.ts[2m > [22mGemini Tests - PERSONNEL[2m > [22mFooting vendredi soir / samedi matin[33m 1560[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mDâ”œÂ«ner cousins avril
[22m[39m
Â­Æ’Ã´Ã˜ [3451151c-ffaa-4212-b83b-ed6f1f3de519] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Organise un dâ”œÂ«ner avec les cousins courant avril, plutâ”œâ”¤t le week-end.
  inputLength: [33m69[39m
  timestamp: 2025-12-05T18:39:24.575Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'3451151c-ffaa-4212-b83b-ed6f1f3de519'[39m,
  userInputLength: [33m69[39m,
  userInputPreview: [32m'Organise un dâ”œÂ«ner avec les cousins courant avril, '[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=69, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'3451151c-ffaa-4212-b83b-ed6f1f3de519'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=1, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=69, result=false 

Ã”ÃœÃ–Â´Â©Ã… [3451151c-ffaa-4212-b83b-ed6f1f3de519] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Organise un dâ”œÂ«ner avec les cousins courant avril, plutâ”œâ”¤t le week-end.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mDâ”œÂ«ner cousins avril
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [0 â”œÂ®lâ”œÂ®ments] []
  chronoText: [90mundefined[39m
  chronoDate: [90mundefined[39m
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'month:avril'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [33m3[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [0 â”œÂ®lâ”œÂ®ments] []
  targetDates: [0 â”œÂ®lâ”œÂ®ments] []
  parseType: month
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'month'[39m,
  allowedDatesCount: [33m0[39m,
  detectedKeywords: [ [32m'month:avril'[39m ],
  validationErrors: [33m1[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'3451151c-ffaa-4212-b83b-ed6f1f3de519'[39m, hintsLength: [33m166[39m }

Â­Æ’Ã´Ã± [3451151c-ffaa-4212-b83b-ed6f1f3de519] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…
Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)
Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas



Demande: "Organise un dâ”œÂ«ner avec les cousins courant avril, plutâ”œâ”¤t le week-end."

Râ”œÃªGLES FONDAMENTALES:
- Dates futures uniquement (>= 2025-12-05)
- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)

Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, e...
    [... 1825 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…
Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)
Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas

  promptLength: [33m2325[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'3451151c-ffaa-4212-b83b-ed6f1f3de519'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2325[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'3451151c-ffaa-4212-b83b-ed6f1f3de519'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)\n'[39m +
    [32m'Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Organise un dâ”œÂ«ner avec les cousins courant avril, plutâ”œâ”¤t le week-end."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m69[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mDâ”œÂ«ner cousins avril
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m606[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mDâ”œÂ«ner cousins avril
[22m[39m
Â­Æ’Ã´Ã‘ [3451151c-ffaa-4212-b83b-ed6f1f3de519] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Dâ”œÂ«ner avec les cousins",
  "description": "Organisation d'un dâ”œÂ«ner avec les cousins courant avril, plutâ”œâ”¤t le week-end.",
  "type": "date",
  "dates": [
    "2026-04-04",
    "2026-04-05",
    "2026-04-11",
    "2026-04-12",
    "2026-04-18",
    "2026-04-19",
    "2026-04-25",
    "2026-04-26"
  ],
  "timeSlots": [
    {
      "start": "19:00",
      "end": "21:00",
      "dates": [
        "2026-04-04",
        "2026-04-05",
        "2026-04-11",
        "2026-04-12",
    ...
    [... 106 caractâ”œÂ¿res de plus]
  responseTime: [33m2350[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'3451151c-ffaa-4212-b83b-ed6f1f3de519'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [3451151c-ffaa-4212-b83b-ed6f1f3de519] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [8 â”œÂ®lâ”œÂ®ments] [
  [32m'2026-04-04'[39m,
  [32m'2026-04-05'[39m,
  [32m'2026-04-11'[39m,
  [32m'2026-04-12'[39m,
  [32m'2026-04-18'[39m,
  [32m'2026-04-19'[39m,
  [32m'2026-04-25'[39m,
  [32m'2026-04-26'[39m
]
  filteredDates: [8 â”œÂ®lâ”œÂ®ments] [
  [32m'2026-04-04'[39m,
  [32m'2026-04-05'[39m,
  [32m'2026-04-11'[39m,
  [32m'2026-04-12'[39m,
  [32m'2026-04-18'[39m,
  [32m'2026-04-19'[39m,
  [32m'2026-04-25'[39m,
  [32m'2026-04-26'[39m
]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'19:00'[39m,
    end: [32m'21:00'[39m,
    dates: [
      [32m'2026-04-04'[39m,
      [32m'2026-04-05'[39m,
      [32m'2026-04-11'[39m,
      [32m'2026-04-12'[39m,
      [32m'2026-04-18'[39m,
      [32m'2026-04-19'[39m,
      [32m'2026-04-25'[39m,
      [32m'2026-04-26'[39m
    ]
  }
]
  filteredTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'19:00'[39m,
    end: [32m'21:00'[39m,
    dates: [
      [32m'2026-04-04'[39m,
      [32m'2026-04-05'[39m,
      [32m'2026-04-11'[39m,
      [32m'2026-04-12'[39m,
      [32m'2026-04-18'[39m,
      [32m'2026-04-19'[39m,
      [32m'2026-04-25'[39m,
      [32m'2026-04-26'[39m
    ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [3451151c-ffaa-4212-b83b-ed6f1f3de519] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Dâ”œÂ«ner avec les cousins
  description: Organisation d'un dâ”œÂ«ner avec les cousins courant avril, plutâ”œâ”¤t le week-end.
  type: date
  datesCount: [33m8[39m
  dates: [8 â”œÂ®lâ”œÂ®ments] [
  [32m'2026-04-04'[39m,
  [32m'2026-04-05'[39m,
  [32m'2026-04-11'[39m,
  [32m'2026-04-12'[39m,
  [32m'2026-04-18'[39m,
  [32m'2026-04-19'[39m,
  [32m'2026-04-25'[39m,
  [32m'2026-04-26'[39m
]
  timeSlotsCount: [33m1[39m
  timeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'19:00'[39m,
    end: [32m'21:00'[39m,
    dates: [
      [32m'2026-04-04'[39m,
      [32m'2026-04-05'[39m,
      [32m'2026-04-11'[39m,
      [32m'2026-04-12'[39m,
      [32m'2026-04-18'[39m,
      [32m'2026-04-19'[39m,
      [32m'2026-04-25'[39m,
      [32m'2026-04-26'[39m
    ]
  }
]

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mDâ”œÂ«ner cousins avril
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Organise un dâ”œÂ«ner avec les cousins courant avril, plutâ”œâ”¤t le week-end.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2026-04-04, 2026-04-05, 2026-04-11, 2026-04-12, 2026-04-18, 2026-04-19, 2026-04-25, 2026-04-26
   - Crâ”œÂ®neaux: 19:00-21:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m8[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/personnel.manual.ts[2m > [22mGemini Tests - PERSONNEL[2m > [22mDâ”œÂ«ner cousins avril[33m 2355[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mAnniversaire Lâ”œÂ®a 15 mai
[22m[39m
Â­Æ’Ã´Ã˜ [aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Trouve une date pour l'anniversaire de Lâ”œÂ®a autour du 15 mai.
  inputLength: [33m60[39m
  timestamp: 2025-12-05T18:39:26.930Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98'[39m,
  userInputLength: [33m60[39m,
  userInputPreview: [32m"Trouve une date pour l'anniversaire de Lâ”œÂ®a autour "[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=60, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=1, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=60, result=false 

Ã”ÃœÃ–Â´Â©Ã… [aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Trouve une date pour l'anniversaire de Lâ”œÂ®a autour du 15 mai.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mAnniversaire Lâ”œÂ®a 15 mai
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'15 mai'[39m, date: [32m'2026-05-15T10:00:00.000Z'[39m } ]
  chronoText: 15 mai
  chronoDate: 2026-05-15T10:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:15 mai'[39m, [32m'month:mai'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [33m4[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [0 â”œÂ®lâ”œÂ®ments] []
  targetDates: [0 â”œÂ®lâ”œÂ®ments] []
  parseType: month
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'month'[39m,
  allowedDatesCount: [33m0[39m,
  detectedKeywords: [ [32m'chrono:15 mai'[39m, [32m'month:mai'[39m ],
  validationErrors: [33m1[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98'[39m, hintsLength: [33m0[39m }

Â­Æ’Ã´Ã± [aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.



Demande: "Trouve une date pour l'anniversaire de Lâ”œÂ®a autour du 15 mai."

Râ”œÃªGLES FONDAMENTALES:
- Dates futures uniquement (>= 2025-12-05)
- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)

Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.

PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:
- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE
- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates

PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAU...
    [... 1650 caractâ”œÂ¿res de plus]
  dateHints: 
  promptLength: [33m2150[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2150[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m`Demande: "Trouve une date pour l'anniversaire de Lâ”œÂ®a autour du 15 mai."\n`[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m60[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mAnniversaire Lâ”œÂ®a 15 mai
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m255[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mAnniversaire Lâ”œÂ®a 15 mai
[22m[39m
Â­Æ’Ã´Ã‘ [aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Anniversaire de Lâ”œÂ®a",
  "description": "Trouver une date pour l'anniversaire de Lâ”œÂ®a autour du 15 mai.",
  "type": "date",
  "dates": [
    "2026-05-13",
    "2026-05-14",
    "2026-05-15",
    "2026-05-16",
    "2026-05-17"
  ]
}
```
  responseTime: [33m1353[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2026-05-13'[39m,
  [32m'2026-05-14'[39m,
  [32m'2026-05-15'[39m,
  [32m'2026-05-16'[39m,
  [32m'2026-05-17'[39m
]
  filteredDates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2026-05-13'[39m,
  [32m'2026-05-14'[39m,
  [32m'2026-05-15'[39m,
  [32m'2026-05-16'[39m,
  [32m'2026-05-17'[39m
]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [0 â”œÂ®lâ”œÂ®ments] []
  filteredTimeSlots: [0 â”œÂ®lâ”œÂ®ments] []
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [aa7d039c-0d6f-4e51-8d16-ee3e5b06dd98] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Anniversaire de Lâ”œÂ®a
  description: Trouver une date pour l'anniversaire de Lâ”œÂ®a autour du 15 mai.
  type: date
  datesCount: [33m5[39m
  dates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2026-05-13'[39m,
  [32m'2026-05-14'[39m,
  [32m'2026-05-15'[39m,
  [32m'2026-05-16'[39m,
  [32m'2026-05-17'[39m
]
  timeSlotsCount: [33m0[39m
  timeSlots: [0 â”œÂ®lâ”œÂ®ments] []

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mAnniversaire Lâ”œÂ®a 15 mai
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Trouve une date pour l'anniversaire de Lâ”œÂ®a autour du 15 mai.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2026-05-13, 2026-05-14, 2026-05-15, 2026-05-16, 2026-05-17
   - Crâ”œÂ®neaux: aucun
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m5[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/personnel.manual.ts[2m > [22mGemini Tests - PERSONNEL[2m > [22mAnniversaire Lâ”œÂ®a 15 mai[33m 1358[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mSâ”œÂ®ance photo familiale
[22m[39m
Â­Æ’Ã´Ã˜ [eee24099-634d-4016-aa43-47e5cb657618] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Planifie une sâ”œÂ®ance photo familiale un dimanche matin avant fin dâ”œÂ®cembre.
  inputLength: [33m73[39m
  timestamp: 2025-12-05T18:39:28.288Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'eee24099-634d-4016-aa43-47e5cb657618'[39m,
  userInputLength: [33m73[39m,
  userInputPreview: [32m'Planifie une sâ”œÂ®ance photo familiale un dimanche ma'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=73, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'eee24099-634d-4016-aa43-47e5cb657618'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=2, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=73, result=false 

Ã”ÃœÃ–Â´Â©Ã… [eee24099-634d-4016-aa43-47e5cb657618] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Planifie une sâ”œÂ®ance photo familiale un dimanche matin avant fin dâ”œÂ®cembre.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mSâ”œÂ®ance photo familiale
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'dimanche matin'[39m, date: [32m'2025-12-07T07:00:00.000Z'[39m } ]
  chronoText: dimanche matin
  chronoDate: 2025-12-07T07:00:00.000Z
  detectedKeywords: [4 â”œÂ®lâ”œÂ®ments] [
  [32m'chrono:dimanche matin'[39m,
  [32m'day:dimanche'[39m,
  [32m'month:dâ”œÂ®cembre'[39m,
  [32m'period:end'[39m
]
  dayOfWeek: [1 â”œÂ®lâ”œÂ®ments] [ [33m0[39m ]
  month: [33m11[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-21'[39m, [32m'2025-12-28'[39m ]
  targetDates: [0 â”œÂ®lâ”œÂ®ments] []
  parseType: day_of_week
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [
    [32m'chrono:dimanche matin'[39m,
    [32m'day:dimanche'[39m,
    [32m'month:dâ”œÂ®cembre'[39m,
    [32m'period:end'[39m
  ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'eee24099-634d-4016-aa43-47e5cb657618'[39m, hintsLength: [33m276[39m }

Â­Æ’Ã´Ã± [eee24099-634d-4016-aa43-47e5cb657618] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Planifie une sâ”œÂ®ance photo familiale un dimanche matin avant fin dâ”œÂ®cembre.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: dimanche 21 dâ”œÂ®cembre 2025, dimanche 28 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Sâ”œÂ®ance photo dimanche matin Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2-3 crâ”œÂ®neaux entre 09h00 et 12h00 (durâ”œÂ®e 3h)
CONTEXTE: Matin Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®ne...
    [... 2210 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Planifie une sâ”œÂ®ance photo familiale un dimanche matin avant fin dâ”œÂ®cembre.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: dimanche 21 dâ”œÂ®cembre 2025, dimanche 28 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2710[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'eee24099-634d-4016-aa43-47e5cb657618'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2710[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'eee24099-634d-4016-aa43-47e5cb657618'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Planifie une sâ”œÂ®ance photo familiale un dimanche matin avant fin dâ”œÂ®cembre.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: dimanche 21 dâ”œÂ®cembre 2025, dimanche 28 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Sâ”œÂ®ance photo dimanche matin Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2-3 crâ”œÂ®neaux entre 09h00 et 12h00 (durâ”œÂ®e 3h)\n'[39m +
    [32m'CONTEXTE: Matin Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 09h00 et 12h00 (pas 8h-11h)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Planifie une sâ”œÂ®ance photo familiale un dimanche matin avant fin dâ”œÂ®cembre."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m73[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mSâ”œÂ®ance photo familiale
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m371[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mSâ”œÂ®ance photo familiale
[22m[39m
Â­Æ’Ã´Ã‘ [eee24099-634d-4016-aa43-47e5cb657618] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Sâ”œÂ®ance photo familiale",
  "description": "Planification d'une sâ”œÂ®ance photo familiale un dimanche matin avant fin dâ”œÂ®cembre.",
  "type": "date",
  "dates": [
    "2025-12-21",
    "2025-12-28"
  ],
  "timeSlots": [
    {
      "start": "09:00",
      "end": "12:00",
      "dates": [
        "2025-12-21",
        "2025-12-28"
      ]
    }
  ]
}
```
  responseTime: [33m1152[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'eee24099-634d-4016-aa43-47e5cb657618'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [eee24099-634d-4016-aa43-47e5cb657618] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-21'[39m, [32m'2025-12-28'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-21'[39m, [32m'2025-12-28'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:00'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-21'[39m, [32m'2025-12-28'[39m ]
  }
]
  filteredTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:00'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-21'[39m, [32m'2025-12-28'[39m ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [eee24099-634d-4016-aa43-47e5cb657618] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Sâ”œÂ®ance photo familiale
  description: Planification d'une sâ”œÂ®ance photo familiale un dimanche matin avant fin dâ”œÂ®cembre.
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-21'[39m, [32m'2025-12-28'[39m ]
  timeSlotsCount: [33m1[39m
  timeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:00'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-21'[39m, [32m'2025-12-28'[39m ]
  }
]

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mSâ”œÂ®ance photo familiale
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Planifie une sâ”œÂ®ance photo familiale un dimanche matin avant fin dâ”œÂ®cembre.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-21, 2025-12-28
   - Crâ”œÂ®neaux: 09:00-12:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/personnel.manual.ts[2m > [22mGemini Tests - PERSONNEL[2m > [22mSâ”œÂ®ance photo familiale[33m 1157[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mApâ”œÂ®ro entre amis
[22m[39m
Â­Æ’Ã´Ã˜ [8680b9fe-3ccb-4a6b-8d56-6f1f655973e0] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Cherche une soirâ”œÂ®e disponible entre amis pour un apâ”œÂ®ro d'ici trois semaines.
  inputLength: [33m76[39m
  timestamp: 2025-12-05T18:39:29.445Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'8680b9fe-3ccb-4a6b-8d56-6f1f655973e0'[39m,
  userInputLength: [33m76[39m,
  userInputPreview: [32m'Cherche une soirâ”œÂ®e disponible entre amis pour un a'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=76, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'8680b9fe-3ccb-4a6b-8d56-6f1f655973e0'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=2, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=76, result=false 

Ã”ÃœÃ–Â´Â©Ã… [8680b9fe-3ccb-4a6b-8d56-6f1f655973e0] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Cherche une soirâ”œÂ®e disponible entre amis pour un apâ”œÂ®ro d'ici trois semaines.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mApâ”œÂ®ro entre amis
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'soir'[39m, date: [32m'2025-12-06T17:00:00.000Z'[39m } ]
  chronoText: soir
  chronoDate: 2025-12-06T17:00:00.000Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:soir'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T17:00:00.000Z'[39m ]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m4[39m,
  detectedKeywords: [ [32m'chrono:soir'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'8680b9fe-3ccb-4a6b-8d56-6f1f655973e0'[39m, hintsLength: [33m321[39m }

Â­Æ’Ã´Ã± [8680b9fe-3ccb-4a6b-8d56-6f1f655973e0] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Cherche une soirâ”œÂ®e disponible entre amis pour un apâ”œÂ®ro d'ici trois semaines.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 4


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Soirâ”œÂ®e Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 18h30 et 21h00
Utilise ces hints pour...
    [... 2153 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Cherche une soirâ”œÂ®e disponible entre amis pour un apâ”œÂ®ro d'ici trois semaines.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 4

  promptLength: [33m2653[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'8680b9fe-3ccb-4a6b-8d56-6f1f655973e0'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2653[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'8680b9fe-3ccb-4a6b-8d56-6f1f655973e0'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Cherche une soirâ”œÂ®e disponible entre amis pour un apâ”œÂ®ro d'ici trois semaines.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 4\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Soirâ”œÂ®e Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 18h30 et 21h00\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m`Demande: "Cherche une soirâ”œÂ®e disponible entre amis pour un apâ”œÂ®ro d'ici trois semaines."\n`[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m76[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mApâ”œÂ®ro entre amis
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m441[39m }

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mApâ”œÂ®ro entre amis
[22m[39m
Â­Æ’Ã´Ã‘ [8680b9fe-3ccb-4a6b-8d56-6f1f655973e0] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Apâ”œÂ®ro entre amis",
  "description": "Cherche une soirâ”œÂ®e disponible entre amis pour un apâ”œÂ®ro d'ici trois semaines.",
  "type": "date",
  "dates": [
    "2025-12-06",
    "2025-12-07",
    "2025-12-08",
    "2025-12-09"
  ],
  "timeSlots": [
    {
      "start": "18:30",
      "end": "21:00",
      "dates": [
        "2025-12-06",
        "2025-12-07",
        "2025-12-08",
        "2025-12-09"
      ]
    }
  ]
}
```
  responseTime: [33m1408[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'8680b9fe-3ccb-4a6b-8d56-6f1f655973e0'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [8680b9fe-3ccb-4a6b-8d56-6f1f655973e0] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  filteredDates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  filteredTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [8680b9fe-3ccb-4a6b-8d56-6f1f655973e0] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Apâ”œÂ®ro entre amis
  description: Cherche une soirâ”œÂ®e disponible entre amis pour un apâ”œÂ®ro d'ici trois semaines.
  type: date
  datesCount: [33m4[39m
  dates: [4 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  timeSlotsCount: [33m1[39m
  timeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m, [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]

[90mstdout[2m | src/test/gemini-tests/personnel.manual.ts[2m > [22m[2mGemini Tests - PERSONNEL[2m > [22m[2mApâ”œÂ®ro entre amis
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Cherche une soirâ”œÂ®e disponible entre amis pour un apâ”œÂ®ro d'ici trois semaines.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-06, 2025-12-07, 2025-12-08, 2025-12-09
   - Crâ”œÂ®neaux: 18:30-21:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m4[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/personnel.manual.ts[2m > [22mGemini Tests - PERSONNEL[2m > [22mApâ”œÂ®ro entre amis[33m 1413[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Direct Gemini API initialisâ”œÂ®e (fetch direct) 

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Mode DIRECT GEMINI API activâ”œÂ® (bypass Edge Function) 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ VITE_GEMINI_API_KEY configurâ”œÂ®e: AIzaSyAXlQ... 

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL
[22m[39m
======================================================================
Â­Æ’ÂºÂ¬ TESTS GEMINI - CATâ”œÃ«GORIE PROFESSIONNEL
======================================================================

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mDâ”œÂ®mo client mardi/mercredi
[22m[39m
Â­Æ’Ã´Ã˜ [457cbeed-f80a-4a20-b40e-4b2ab92ef99c] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Propose-moi trois crâ”œÂ®neaux mardi ou mercredi prochain pour la dâ”œÂ®mo client.
  inputLength: [33m74[39m
  timestamp: 2025-12-05T18:39:30.947Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'457cbeed-f80a-4a20-b40e-4b2ab92ef99c'[39m,
  userInputLength: [33m74[39m,
  userInputPreview: [32m'Propose-moi trois crâ”œÂ®neaux mardi ou mercredi proch'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=74, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'457cbeed-f80a-4a20-b40e-4b2ab92ef99c'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=4, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=74, result=false 

Ã”ÃœÃ–Â´Â©Ã… [457cbeed-f80a-4a20-b40e-4b2ab92ef99c] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Propose-moi trois crâ”œÂ®neaux mardi ou mercredi prochain pour la dâ”œÂ®mo client.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mDâ”œÂ®mo client mardi/mercredi
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:mardi'[39m, [32m'day:mardi,mercredi'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'457cbeed-f80a-4a20-b40e-4b2ab92ef99c'[39m, hintsLength: [33m273[39m }

Â­Æ’Ã´Ã± [457cbeed-f80a-4a20-b40e-4b2ab92ef99c] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Propose-moi trois crâ”œÂ®neaux mardi ou mercredi prochain pour la dâ”œÂ®mo client.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: mardi 9 dâ”œÂ®cembre 2025, mercredi 10 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot
Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®nea...
    [... 2119 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Propose-moi trois crâ”œÂ®neaux mardi ou mercredi prochain pour la dâ”œÂ®mo client.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: mardi 9 dâ”œÂ®cembre 2025, mercredi 10 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2619[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'457cbeed-f80a-4a20-b40e-4b2ab92ef99c'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2619[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'457cbeed-f80a-4a20-b40e-4b2ab92ef99c'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Propose-moi trois crâ”œÂ®neaux mardi ou mercredi prochain pour la dâ”œÂ®mo client.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: mardi 9 dâ”œÂ®cembre 2025, mercredi 10 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m"CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot\n"[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Propose-moi trois crâ”œÂ®neaux mardi ou mercredi prochain pour la dâ”œÂ®mo client."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m74[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mDâ”œÂ®mo client mardi/mercredi
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [2 â”œÂ®lâ”œÂ®ments] [
  { text: [32m'mardi'[39m, date: [32m'2025-12-09T11:00:00.000Z'[39m },
  { text: [32m'mercredi prochain'[39m, date: [32m'2025-12-10T11:00:00.000Z'[39m }
]
  chronoText: mardi
  chronoDate: 2025-12-09T11:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:mardi'[39m, [32m'day:mardi,mercredi'[39m ]
  dayOfWeek: [2 â”œÂ®lâ”œÂ®ments] [ [33m2[39m, [33m3[39m ]
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-09'[39m, [32m'2025-12-10'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-09T11:00:00.000Z'[39m ]
  parseType: day_of_week

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mDâ”œÂ®mo client mardi/mercredi
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m827[39m }

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mDâ”œÂ®mo client mardi/mercredi
[22m[39m
Â­Æ’Ã´Ã‘ [457cbeed-f80a-4a20-b40e-4b2ab92ef99c] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Dâ”œÂ®mo client",
  "description": "Proposition de crâ”œÂ®neaux pour la dâ”œÂ®mo client.",
  "type": "date",
  "dates": [
    "2025-12-09",
    "2025-12-10"
  ],
  "timeSlots": [
    {
      "start": "08:00",
      "end": "08:30",
      "dates": [
        "2025-12-09"
      ]
    },
    {
      "start": "08:30",
      "end": "09:00",
      "dates": [
        "2025-12-09"
      ]
    },
    {
      "start": "09:00",
      "end": "09:30",
      "dates": [
        "2025-12-09"
      ]
   ...
    [... 327 caractâ”œÂ¿res de plus]
  responseTime: [33m2647[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'457cbeed-f80a-4a20-b40e-4b2ab92ef99c'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [457cbeed-f80a-4a20-b40e-4b2ab92ef99c] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-09'[39m, [32m'2025-12-10'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-09'[39m, [32m'2025-12-10'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [6 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'08:00'[39m, end: [32m'08:30'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'08:30'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'09:00'[39m, end: [32m'09:30'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'08:00'[39m, end: [32m'08:30'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'08:30'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'09:00'[39m, end: [32m'09:30'[39m, dates: [ [32m'2025-12-10'[39m ] }
]
  filteredTimeSlots: [6 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'08:00'[39m, end: [32m'08:30'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'08:30'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'09:00'[39m, end: [32m'09:30'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'08:00'[39m, end: [32m'08:30'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'08:30'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'09:00'[39m, end: [32m'09:30'[39m, dates: [ [32m'2025-12-10'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [457cbeed-f80a-4a20-b40e-4b2ab92ef99c] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Dâ”œÂ®mo client
  description: Proposition de crâ”œÂ®neaux pour la dâ”œÂ®mo client.
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-09'[39m, [32m'2025-12-10'[39m ]
  timeSlotsCount: [33m6[39m
  timeSlots: [6 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'08:00'[39m, end: [32m'08:30'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'08:30'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'09:00'[39m, end: [32m'09:30'[39m, dates: [ [32m'2025-12-09'[39m ] },
  { start: [32m'08:00'[39m, end: [32m'08:30'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'08:30'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'09:00'[39m, end: [32m'09:30'[39m, dates: [ [32m'2025-12-10'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mDâ”œÂ®mo client mardi/mercredi
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Propose-moi trois crâ”œÂ®neaux mardi ou mercredi prochain pour la dâ”œÂ®mo client.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-09, 2025-12-10
   - Crâ”œÂ®neaux: 08:00-08:30, 08:30-09:00, 09:00-09:30, 08:00-08:30, 08:30-09:00, 09:00-09:30
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘2 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/professionnel.manual.ts[2m > [22mGemini Tests - PROFESSIONNEL[2m > [22mDâ”œÂ®mo client mardi/mercredi[33m 2661[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mPoint budget dans deux semaines
[22m[39m
Â­Æ’Ã´Ã˜ [2d760e49-9419-4334-ad6e-2a3253feea47] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Planifie un point budget dans deux semaines autour de 9h30.
  inputLength: [33m59[39m
  timestamp: 2025-12-05T18:39:33.608Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'2d760e49-9419-4334-ad6e-2a3253feea47'[39m,
  userInputLength: [33m59[39m,
  userInputPreview: [32m'Planifie un point budget dans deux semaines autour'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=59, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'2d760e49-9419-4334-ad6e-2a3253feea47'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=1, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=59, result=false 

Ã”ÃœÃ–Â´Â©Ã… [2d760e49-9419-4334-ad6e-2a3253feea47] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Planifie un point budget dans deux semaines autour de 9h30.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mPoint budget dans deux semaines
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [2 â”œÂ®lâ”œÂ®ments] [
  { text: [32m'dans deux semaines'[39m, date: [32m'2025-12-19T18:39:33.610Z'[39m },
  { text: [32m'9h30'[39m, date: [32m'2025-12-06T08:30:00.000Z'[39m }
]
  chronoText: dans deux semaines
  chronoDate: 2025-12-19T18:39:33.610Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:dans deux semaines'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-15'[39m,
  [32m'2025-12-16'[39m,
  [32m'2025-12-17'[39m,
  [32m'2025-12-18'[39m,
  [32m'2025-12-19'[39m,
  [32m'2025-12-20'[39m,
  [32m'2025-12-21'[39m
]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-19T18:39:33.610Z'[39m ]
  parseType: period
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'period'[39m,
  allowedDatesCount: [33m7[39m,
  detectedKeywords: [ [32m'chrono:dans deux semaines'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'2d760e49-9419-4334-ad6e-2a3253feea47'[39m, hintsLength: [33m386[39m }

Â­Æ’Ã´Ã± [2d760e49-9419-4334-ad6e-2a3253feea47] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Planifie un point budget dans deux semaines autour de 9h30.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 15 dâ”œÂ®cembre 2025, mardi 16 dâ”œÂ®cembre 2025, mercredi 17 dâ”œÂ®cembre 2025, jeudi 18 dâ”œÂ®cembre 2025, vendredi 19 dâ”œÂ®cembre 2025, samedi 20 dâ”œÂ®cembre 2025, dimanche 21 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 7


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Durâ”œÂ®...
    [... 2232 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Planifie un point budget dans deux semaines autour de 9h30.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 15 dâ”œÂ®cembre 2025, mardi 16 dâ”œÂ®cembre 2025, mercredi 17 dâ”œÂ®cembre 2025, jeudi 18 dâ”œÂ®cembre 2025, vendredi 19 dâ”œÂ®cembre 2025, samedi 20 dâ”œÂ®cembre 2025, dimanche 21 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 7

  promptLength: [33m2732[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'2d760e49-9419-4334-ad6e-2a3253feea47'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2732[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'2d760e49-9419-4334-ad6e-2a3253feea47'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Planifie un point budget dans deux semaines autour de 9h30.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 15 dâ”œÂ®cembre 2025, mardi 16 dâ”œÂ®cembre 2025, mercredi 17 dâ”œÂ®cembre 2025, jeudi 18 dâ”œÂ®cembre 2025, vendredi 19 dâ”œÂ®cembre 2025, samedi 20 dâ”œÂ®cembre 2025, dimanche 21 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 7\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Durâ”œÂ®e explicite (540 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 540 minutes\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Planifie un point budget dans deux semaines autour de 9h30."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m59[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mPoint budget dans deux semaines
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m512[39m }

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mPoint budget dans deux semaines
[22m[39m
Â­Æ’Ã´Ã‘ [2d760e49-9419-4334-ad6e-2a3253feea47] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Point budget",
  "description": "Planification d'un point budget",
  "type": "date",
  "dates": [
    "2025-12-15",
    "2025-12-16",
    "2025-12-17",
    "2025-12-18",
    "2025-12-19",
    "2025-12-20",
    "2025-12-21"
  ],
  "timeSlots": [
    {
      "start": "09:30",
      "end": "18:30",
      "dates": [
        "2025-12-15",
        "2025-12-16",
        "2025-12-17",
        "2025-12-18",
        "2025-12-19",
        "2025-12-20",
        "2025-12-21"
      ]
   ...
    [... 12 caractâ”œÂ¿res de plus]
  responseTime: [33m1903[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'2d760e49-9419-4334-ad6e-2a3253feea47'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [2d760e49-9419-4334-ad6e-2a3253feea47] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-15'[39m,
  [32m'2025-12-16'[39m,
  [32m'2025-12-17'[39m,
  [32m'2025-12-18'[39m,
  [32m'2025-12-19'[39m,
  [32m'2025-12-20'[39m,
  [32m'2025-12-21'[39m
]
  filteredDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-15'[39m,
  [32m'2025-12-16'[39m,
  [32m'2025-12-17'[39m,
  [32m'2025-12-18'[39m,
  [32m'2025-12-19'[39m,
  [32m'2025-12-20'[39m,
  [32m'2025-12-21'[39m
]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:30'[39m,
    end: [32m'18:30'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m,
      [32m'2025-12-20'[39m,
      [32m'2025-12-21'[39m
    ]
  }
]
  filteredTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:30'[39m,
    end: [32m'18:30'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m,
      [32m'2025-12-20'[39m,
      [32m'2025-12-21'[39m
    ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [2d760e49-9419-4334-ad6e-2a3253feea47] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Point budget
  description: Planification d'un point budget
  type: date
  datesCount: [33m7[39m
  dates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-15'[39m,
  [32m'2025-12-16'[39m,
  [32m'2025-12-17'[39m,
  [32m'2025-12-18'[39m,
  [32m'2025-12-19'[39m,
  [32m'2025-12-20'[39m,
  [32m'2025-12-21'[39m
]
  timeSlotsCount: [33m1[39m
  timeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:30'[39m,
    end: [32m'18:30'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m,
      [32m'2025-12-20'[39m,
      [32m'2025-12-21'[39m
    ]
  }
]

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mPoint budget dans deux semaines
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Planifie un point budget dans deux semaines autour de 9h30.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-15, 2025-12-16, 2025-12-17, 2025-12-18, 2025-12-19, 2025-12-20, 2025-12-21
   - Crâ”œÂ®neaux: 09:30-18:30
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m7[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/professionnel.manual.ts[2m > [22mGemini Tests - PROFESSIONNEL[2m > [22mPoint budget dans deux semaines[33m 1909[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mRâ”œÂ®union projet semaine du 18
[22m[39m
Â­Æ’Ã´Ã˜ [97bd0287-161a-4fc6-906c-9d97a5fa3da9] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Gâ”œÂ®nâ”œÂ¿re une râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t en fin de journâ”œÂ®e.
  inputLength: [33m69[39m
  timestamp: 2025-12-05T18:39:35.517Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'97bd0287-161a-4fc6-906c-9d97a5fa3da9'[39m,
  userInputLength: [33m69[39m,
  userInputPreview: [32m'Gâ”œÂ®nâ”œÂ¿re une râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=69, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'97bd0287-161a-4fc6-906c-9d97a5fa3da9'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=3, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=69, result=false 

Ã”ÃœÃ–Â´Â©Ã… [97bd0287-161a-4fc6-906c-9d97a5fa3da9] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Gâ”œÂ®nâ”œÂ¿re une râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t en fin de journâ”œÂ®e.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mRâ”œÂ®union projet semaine du 18
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [0 â”œÂ®lâ”œÂ®ments] []
  chronoText: [90mundefined[39m
  chronoDate: [90mundefined[39m
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'semaineDu:18'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-15'[39m,
  [32m'2025-12-16'[39m,
  [32m'2025-12-17'[39m,
  [32m'2025-12-18'[39m,
  [32m'2025-12-19'[39m
]
  targetDates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-14T23:00:00.000Z'[39m,
  [32m'2025-12-15T23:00:00.000Z'[39m,
  [32m'2025-12-16T23:00:00.000Z'[39m,
  [32m'2025-12-17T23:00:00.000Z'[39m,
  [32m'2025-12-18T23:00:00.000Z'[39m
]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m5[39m,
  detectedKeywords: [ [32m'semaineDu:18'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'97bd0287-161a-4fc6-906c-9d97a5fa3da9'[39m, hintsLength: [33m344[39m }

Â­Æ’Ã´Ã± [97bd0287-161a-4fc6-906c-9d97a5fa3da9] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Gâ”œÂ®nâ”œÂ¿re une râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t en fin de journâ”œÂ®e.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 15 dâ”œÂ®cembre 2025, mardi 16 dâ”œÂ®cembre 2025, mercredi 17 dâ”œÂ®cembre 2025, jeudi 18 dâ”œÂ®cembre 2025, vendredi 19 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 5



Demande: "Gâ”œÂ®nâ”œÂ¿re une râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t en fin de journâ”œÂ®e."

Râ”œÃªGLES FONDAME...
    [... 2003 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Gâ”œÂ®nâ”œÂ¿re une râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t en fin de journâ”œÂ®e.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 15 dâ”œÂ®cembre 2025, mardi 16 dâ”œÂ®cembre 2025, mercredi 17 dâ”œÂ®cembre 2025, jeudi 18 dâ”œÂ®cembre 2025, vendredi 19 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 5

  promptLength: [33m2503[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'97bd0287-161a-4fc6-906c-9d97a5fa3da9'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2503[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'97bd0287-161a-4fc6-906c-9d97a5fa3da9'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Gâ”œÂ®nâ”œÂ¿re une râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t en fin de journâ”œÂ®e.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 15 dâ”œÂ®cembre 2025, mardi 16 dâ”œÂ®cembre 2025, mercredi 17 dâ”œÂ®cembre 2025, jeudi 18 dâ”œÂ®cembre 2025, vendredi 19 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 5\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Gâ”œÂ®nâ”œÂ¿re une râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t en fin de journâ”œÂ®e."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m69[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mRâ”œÂ®union projet semaine du 18
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m1233[39m }

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mRâ”œÂ®union projet semaine du 18
[22m[39m
Â­Æ’Ã´Ã‘ [97bd0287-161a-4fc6-906c-9d97a5fa3da9] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Râ”œÂ®union projet",
  "description": "Râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t en fin de journâ”œÂ®e.",
  "type": "date",
  "dates": [
    "2025-12-15",
    "2025-12-16",
    "2025-12-17",
    "2025-12-18",
    "2025-12-19"
  ],
  "timeSlots": [
    {
      "start": "18:30",
      "end": "19:00",
      "dates": [
        "2025-12-15",
        "2025-12-16",
        "2025-12-17",
        "2025-12-18",
        "2025-12-19"
      ]
    },
    {
      "start": "19:00",
      "end": "19:...
    [... 733 caractâ”œÂ¿res de plus]
  responseTime: [33m3882[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'97bd0287-161a-4fc6-906c-9d97a5fa3da9'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [97bd0287-161a-4fc6-906c-9d97a5fa3da9] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-15'[39m,
  [32m'2025-12-16'[39m,
  [32m'2025-12-17'[39m,
  [32m'2025-12-18'[39m,
  [32m'2025-12-19'[39m
]
  filteredDates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-15'[39m,
  [32m'2025-12-16'[39m,
  [32m'2025-12-17'[39m,
  [32m'2025-12-18'[39m,
  [32m'2025-12-19'[39m
]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [5 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'19:00'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'19:30'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'19:30'[39m,
    end: [32m'20:00'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'20:00'[39m,
    end: [32m'20:30'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'20:30'[39m,
    end: [32m'21:00'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  }
]
  filteredTimeSlots: [5 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'19:00'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'19:30'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'19:30'[39m,
    end: [32m'20:00'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'20:00'[39m,
    end: [32m'20:30'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'20:30'[39m,
    end: [32m'21:00'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [97bd0287-161a-4fc6-906c-9d97a5fa3da9] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Râ”œÂ®union projet
  description: Râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t en fin de journâ”œÂ®e.
  type: date
  datesCount: [33m5[39m
  dates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-15'[39m,
  [32m'2025-12-16'[39m,
  [32m'2025-12-17'[39m,
  [32m'2025-12-18'[39m,
  [32m'2025-12-19'[39m
]
  timeSlotsCount: [33m5[39m
  timeSlots: [5 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'19:00'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'19:30'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'19:30'[39m,
    end: [32m'20:00'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'20:00'[39m,
    end: [32m'20:30'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  },
  {
    start: [32m'20:30'[39m,
    end: [32m'21:00'[39m,
    dates: [
      [32m'2025-12-15'[39m,
      [32m'2025-12-16'[39m,
      [32m'2025-12-17'[39m,
      [32m'2025-12-18'[39m,
      [32m'2025-12-19'[39m
    ]
  }
]

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mRâ”œÂ®union projet semaine du 18
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Gâ”œÂ®nâ”œÂ¿re une râ”œÂ®union projet la semaine du 18, plutâ”œâ”¤t en fin de journâ”œÂ®e.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-15, 2025-12-16, 2025-12-17, 2025-12-18, 2025-12-19
   - Crâ”œÂ®neaux: 18:30-19:00, 19:00-19:30, 19:30-20:00, 20:00-20:30, 20:30-21:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘2 dates | Obtenu: [33m5[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/professionnel.manual.ts[2m > [22mGemini Tests - PROFESSIONNEL[2m > [22mRâ”œÂ®union projet semaine du 18[33m 3891[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mRevue slides avant vendredi midi
[22m[39m
Â­Æ’Ã´Ã˜ [66945f46-9fe5-4977-b7e0-cc299366e5b3] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Trouve un crâ”œÂ®neau avant vendredi midi pour passer en revue les slides.
  inputLength: [33m70[39m
  timestamp: 2025-12-05T18:39:39.408Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'66945f46-9fe5-4977-b7e0-cc299366e5b3'[39m,
  userInputLength: [33m70[39m,
  userInputPreview: [32m'Trouve un crâ”œÂ®neau avant vendredi midi pour passer '[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=70, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'66945f46-9fe5-4977-b7e0-cc299366e5b3'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=3, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=70, result=false 

Ã”ÃœÃ–Â´Â©Ã… [66945f46-9fe5-4977-b7e0-cc299366e5b3] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Trouve un crâ”œÂ®neau avant vendredi midi pour passer en revue les slides.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mRevue slides avant vendredi midi
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'vendredi'[39m, date: [32m'2025-12-12T11:00:00.000Z'[39m } ]
  chronoText: vendredi
  chronoDate: 2025-12-12T11:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:vendredi'[39m, [32m'day:vendredi'[39m ]
  dayOfWeek: [1 â”œÂ®lâ”œÂ®ments] [ [33m5[39m ]
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12T11:00:00.000Z'[39m ]
  parseType: day_of_week
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m1[39m,
  detectedKeywords: [ [32m'chrono:vendredi'[39m, [32m'day:vendredi'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'66945f46-9fe5-4977-b7e0-cc299366e5b3'[39m, hintsLength: [33m246[39m }

Â­Æ’Ã´Ã± [66945f46-9fe5-4977-b7e0-cc299366e5b3] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Trouve un crâ”œÂ®neau avant vendredi midi pour passer en revue les slides.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 12 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 1


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot
Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.


Demande: "Tr...
    [... 2088 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Trouve un crâ”œÂ®neau avant vendredi midi pour passer en revue les slides.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 12 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 1

  promptLength: [33m2588[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'66945f46-9fe5-4977-b7e0-cc299366e5b3'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2588[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'66945f46-9fe5-4977-b7e0-cc299366e5b3'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Trouve un crâ”œÂ®neau avant vendredi midi pour passer en revue les slides.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 12 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 1\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m"CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot\n"[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Trouve un crâ”œÂ®neau avant vendredi midi pour passer en revue les slides."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m70[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mRevue slides avant vendredi midi
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m992[39m }

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mRevue slides avant vendredi midi
[22m[39m
Â­Æ’Ã´Ã‘ [66945f46-9fe5-4977-b7e0-cc299366e5b3] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Passer en revue les slides",
  "description": null,
  "type": "date",
  "dates": [
    "2025-12-12"
  ],
  "timeSlots": [
    {
      "start": "08:00",
      "end": "08:30",
      "dates": [
        "2025-12-12"
      ]
    },
    {
      "start": "08:30",
      "end": "09:00",
      "dates": [
        "2025-12-12"
      ]
    },
    {
      "start": "09:00",
      "end": "09:30",
      "dates": [
        "2025-12-12"
      ]
    },
    {
      "start": "09:30",
      "end"...
    [... 492 caractâ”œÂ¿res de plus]
  responseTime: [33m3306[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'66945f46-9fe5-4977-b7e0-cc299366e5b3'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [66945f46-9fe5-4977-b7e0-cc299366e5b3] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m ]
  filteredDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [8 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'08:00'[39m, end: [32m'08:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'08:30'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'09:00'[39m, end: [32m'09:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'09:30'[39m, end: [32m'10:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'10:00'[39m, end: [32m'10:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'10:30'[39m, end: [32m'11:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'11:00'[39m, end: [32m'11:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'11:30'[39m, end: [32m'12:00'[39m, dates: [ [32m'2025-12-12'[39m ] }
]
  filteredTimeSlots: [8 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'08:00'[39m, end: [32m'08:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'08:30'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'09:00'[39m, end: [32m'09:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'09:30'[39m, end: [32m'10:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'10:00'[39m, end: [32m'10:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'10:30'[39m, end: [32m'11:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'11:00'[39m, end: [32m'11:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'11:30'[39m, end: [32m'12:00'[39m, dates: [ [32m'2025-12-12'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [66945f46-9fe5-4977-b7e0-cc299366e5b3] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Passer en revue les slides
  description: [1mnull[22m
  type: date
  datesCount: [33m1[39m
  dates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m ]
  timeSlotsCount: [33m8[39m
  timeSlots: [8 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'08:00'[39m, end: [32m'08:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'08:30'[39m, end: [32m'09:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'09:00'[39m, end: [32m'09:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'09:30'[39m, end: [32m'10:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'10:00'[39m, end: [32m'10:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'10:30'[39m, end: [32m'11:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'11:00'[39m, end: [32m'11:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'11:30'[39m, end: [32m'12:00'[39m, dates: [ [32m'2025-12-12'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mRevue slides avant vendredi midi
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Trouve un crâ”œÂ®neau avant vendredi midi pour passer en revue les slides.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-12
   - Crâ”œÂ®neaux: 08:00-08:30, 08:30-09:00, 09:00-09:30, 09:30-10:00, 10:00-10:30, 10:30-11:00, 11:00-11:30, 11:30-12:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m1[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/professionnel.manual.ts[2m > [22mGemini Tests - PROFESSIONNEL[2m > [22mRevue slides avant vendredi midi[33m 3314[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mStand-up express demain matin
[22m[39m
Â­Æ’Ã´Ã˜ [fb73da31-e0bb-41ff-967f-f1dfd572b8e1] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Organise un stand-up express demain matin pour l'â”œÂ®quipe support.
  inputLength: [33m64[39m
  timestamp: 2025-12-05T18:39:42.723Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'fb73da31-e0bb-41ff-967f-f1dfd572b8e1'[39m,
  userInputLength: [33m64[39m,
  userInputPreview: [32m"Organise un stand-up express demain matin pour l'â”œÂ®"[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=64, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'fb73da31-e0bb-41ff-967f-f1dfd572b8e1'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=2, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=64, result=false 

Ã”ÃœÃ–Â´Â©Ã… [fb73da31-e0bb-41ff-967f-f1dfd572b8e1] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Organise un stand-up express demain matin pour l'â”œÂ®quipe support.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mStand-up express demain matin
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'demain matin'[39m, date: [32m'2025-12-06T07:00:00.000Z'[39m } ]
  chronoText: demain matin
  chronoDate: 2025-12-06T07:00:00.000Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:demain matin'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T07:00:00.000Z'[39m ]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:demain matin'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'fb73da31-e0bb-41ff-967f-f1dfd572b8e1'[39m, hintsLength: [33m259[39m }

Â­Æ’Ã´Ã± [fb73da31-e0bb-41ff-967f-f1dfd572b8e1] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Organise un stand-up express demain matin pour l'â”œÂ®quipe support.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Matin Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 09h00 et 12h00 (pas 8h-11h)
Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.


Dem...
    [... 2091 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Organise un stand-up express demain matin pour l'â”œÂ®quipe support.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2591[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'fb73da31-e0bb-41ff-967f-f1dfd572b8e1'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2591[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'fb73da31-e0bb-41ff-967f-f1dfd572b8e1'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Organise un stand-up express demain matin pour l'â”œÂ®quipe support.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Matin Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 09h00 et 12h00 (pas 8h-11h)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m`Demande: "Organise un stand-up express demain matin pour l'â”œÂ®quipe support."\n`[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m64[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mStand-up express demain matin
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m999[39m }

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mStand-up express demain matin
[22m[39m
Â­Æ’Ã´Ã‘ [fb73da31-e0bb-41ff-967f-f1dfd572b8e1] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Stand-up express â”œÂ®quipe support",
  "description": "Organise un stand-up express demain matin pour l'â”œÂ®quipe support.",
  "type": "date",
  "dates": [
    "2025-12-08",
    "2025-12-09"
  ],
  "timeSlots": [
    {
      "start": "09:00",
      "end": "09:30",
      "dates": [
        "2025-12-08",
        "2025-12-09"
      ]
    },
    {
      "start": "09:30",
      "end": "10:00",
      "dates": [
        "2025-12-08",
        "2025-12-09"
      ]
    },
    {
      "star...
    [... 499 caractâ”œÂ¿res de plus]
  responseTime: [33m2969[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'fb73da31-e0bb-41ff-967f-f1dfd572b8e1'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [fb73da31-e0bb-41ff-967f-f1dfd572b8e1] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [6 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:00'[39m,
    end: [32m'09:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'09:30'[39m,
    end: [32m'10:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:00'[39m,
    end: [32m'10:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:30'[39m,
    end: [32m'11:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:00'[39m,
    end: [32m'11:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:30'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  filteredTimeSlots: [6 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:00'[39m,
    end: [32m'09:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'09:30'[39m,
    end: [32m'10:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:00'[39m,
    end: [32m'10:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:30'[39m,
    end: [32m'11:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:00'[39m,
    end: [32m'11:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:30'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [fb73da31-e0bb-41ff-967f-f1dfd572b8e1] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Stand-up express â”œÂ®quipe support
  description: Organise un stand-up express demain matin pour l'â”œÂ®quipe support.
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  timeSlotsCount: [33m6[39m
  timeSlots: [6 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'09:00'[39m,
    end: [32m'09:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'09:30'[39m,
    end: [32m'10:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:00'[39m,
    end: [32m'10:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'10:30'[39m,
    end: [32m'11:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:00'[39m,
    end: [32m'11:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'11:30'[39m,
    end: [32m'12:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]

[90mstdout[2m | src/test/gemini-tests/professionnel.manual.ts[2m > [22m[2mGemini Tests - PROFESSIONNEL[2m > [22m[2mStand-up express demain matin
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Organise un stand-up express demain matin pour l'â”œÂ®quipe support.
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-08, 2025-12-09
   - Crâ”œÂ®neaux: 09:00-09:30, 09:30-10:00, 10:00-10:30, 10:30-11:00, 11:00-11:30, 11:30-12:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘1 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/professionnel.manual.ts[2m > [22mGemini Tests - PROFESSIONNEL[2m > [22mStand-up express demain matin[33m 2976[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Direct Gemini API initialisâ”œÂ®e (fetch direct) 

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Mode DIRECT GEMINI API activâ”œÂ® (bypass Edge Function) 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ VITE_GEMINI_API_KEY configurâ”œÂ®e: AIzaSyAXlQ... 

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG
[22m[39m
======================================================================
Â­Æ’ÂºÂ¬ TESTS GEMINI - CATâ”œÃ«GORIE BUG
======================================================================

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[CRITIQUE] Dâ”œÂ®jeuner entre midi et deux Ã”Ã¥Ã† 1 crâ”œÂ®neau
[22m[39m
Â­Æ’Ã´Ã˜ [2a30c41b-f5d6-4738-9f76-1e277b31bb4a] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: fais-moi un sondage pour râ”œÂ®server un dâ”œÂ®jeuner la semaine prochaine entre midi et deux
  inputLength: [33m85[39m
  timestamp: 2025-12-05T18:39:45.789Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'2a30c41b-f5d6-4738-9f76-1e277b31bb4a'[39m,
  userInputLength: [33m85[39m,
  userInputPreview: [32m'fais-moi un sondage pour râ”œÂ®server un dâ”œÂ®jeuner la s'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=85, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'2a30c41b-f5d6-4738-9f76-1e277b31bb4a'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=85, result=false 

Ã”ÃœÃ–Â´Â©Ã… [2a30c41b-f5d6-4738-9f76-1e277b31bb4a] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: fais-moi un sondage pour râ”œÂ®server un dâ”œÂ®jeuner la semaine prochaine entre midi et deux
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[CRITIQUE] Dâ”œÂ®jeuner entre midi et deux Ã”Ã¥Ã† 1 crâ”œÂ®neau
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'period'[39m,
  allowedDatesCount: [33m7[39m,
  detectedKeywords: [ [32m'chrono:la semaine prochaine'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'2a30c41b-f5d6-4738-9f76-1e277b31bb4a'[39m, hintsLength: [33m624[39m }

Â­Æ’Ã´Ã± [2a30c41b-f5d6-4738-9f76-1e277b31bb4a] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "fais-moi un sondage pour râ”œÂ®server un dâ”œÂ®jeuner la semaine prochaine entre midi et deux":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025, mercredi 10 dâ”œÂ®cembre 2025, jeudi 11 dâ”œÂ®cembre 2025, vendredi 12 dâ”œÂ®cembre 2025, samedi 13 dâ”œÂ®cembre 2025, dimanche 14 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 7
- CONTEXTE REPAS: 1 CRâ”œÃ«NEAU UNIQU...
    [... 2495 caractâ”œÂ¿res de plus]
  dateHints:
    
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "fais-moi un sondage pour râ”œÂ®server un dâ”œÂ®jeuner la semaine prochaine entre midi et deux":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025, mercredi 10 dâ”œÂ®cembre 2025, jeudi 11 dâ”œÂ®cembre 2025, vendredi 12 dâ”œÂ®cembre 2025, samedi 13 dâ”œÂ®cembre 2025, dimanche 14 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 7
- CONTEXTE REPAS: 1 CRâ”œÃ«NEAU UNIQUEMENT par date

Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…
Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN...
    [... 124 caractâ”œÂ¿res de plus]
  promptLength: [33m2995[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'2a30c41b-f5d6-4738-9f76-1e277b31bb4a'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2995[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'2a30c41b-f5d6-4738-9f76-1e277b31bb4a'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "fais-moi un sondage pour râ”œÂ®server un dâ”œÂ®jeuner la semaine prochaine entre midi et deux":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025, mercredi 10 dâ”œÂ®cembre 2025, jeudi 11 dâ”œÂ®cembre 2025, vendredi 12 dâ”œÂ®cembre 2025, samedi 13 dâ”œÂ®cembre 2025, dimanche 14 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 7\n'[39m +
    [32m'- CONTEXTE REPAS: 1 CRâ”œÃ«NEAU UNIQUEMENT par date\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)\n'[39m +
    [32m'Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Dâ”œÂ®jeuner/partenariats Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2-3 crâ”œÂ®neaux entre 11h30 et 13h30 (durâ”œÂ®e 1h)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "fais-moi un sondage pour râ”œÂ®server un dâ”œÂ®jeuner la semaine prochaine entre midi et deux"\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m85[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[CRITIQUE] Dâ”œÂ®jeuner entre midi et deux Ã”Ã¥Ã† 1 crâ”œÂ®neau
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'la semaine prochaine'[39m, date: [32m'2025-12-12T18:39:45.798Z'[39m } ]
  chronoText: la semaine prochaine
  chronoDate: 2025-12-12T18:39:45.798Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:la semaine prochaine'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m,
  [32m'2025-12-13'[39m,
  [32m'2025-12-14'[39m
]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12T18:39:45.798Z'[39m ]
  parseType: period

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[CRITIQUE] Dâ”œÂ®jeuner entre midi et deux Ã”Ã¥Ã† 1 crâ”œÂ®neau
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m571[39m }

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[CRITIQUE] Dâ”œÂ®jeuner entre midi et deux Ã”Ã¥Ã† 1 crâ”œÂ®neau
[22m[39m
Â­Æ’Ã´Ã‘ [2a30c41b-f5d6-4738-9f76-1e277b31bb4a] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Dâ”œÂ®jeuner la semaine prochaine",
  "description": "Sondage pour râ”œÂ®server un dâ”œÂ®jeuner la semaine prochaine entre midi et deux",
  "type": "date",
  "dates": [
    "2025-12-08",
    "2025-12-09",
    "2025-12-10",
    "2025-12-11",
    "2025-12-12",
    "2025-12-13",
    "2025-12-14"
  ],
  "timeSlots": [
    {
      "start": "12:30",
      "end": "13:30",
      "dates": [
        "2025-12-08",
        "2025-12-09",
        "2025-12-10",
        "2025-12-11",
        "2025-12-...
    [... 71 caractâ”œÂ¿res de plus]
  responseTime: [33m2212[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'2a30c41b-f5d6-4738-9f76-1e277b31bb4a'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [2a30c41b-f5d6-4738-9f76-1e277b31bb4a] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m,
  [32m'2025-12-13'[39m,
  [32m'2025-12-14'[39m
]
  filteredDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m,
  [32m'2025-12-13'[39m,
  [32m'2025-12-14'[39m
]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'12:30'[39m,
    end: [32m'13:30'[39m,
    dates: [
      [32m'2025-12-08'[39m,
      [32m'2025-12-09'[39m,
      [32m'2025-12-10'[39m,
      [32m'2025-12-11'[39m,
      [32m'2025-12-12'[39m,
      [32m'2025-12-13'[39m,
      [32m'2025-12-14'[39m
    ]
  }
]
  filteredTimeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'12:30'[39m,
    end: [32m'13:30'[39m,
    dates: [
      [32m'2025-12-08'[39m,
      [32m'2025-12-09'[39m,
      [32m'2025-12-10'[39m,
      [32m'2025-12-11'[39m,
      [32m'2025-12-12'[39m,
      [32m'2025-12-13'[39m,
      [32m'2025-12-14'[39m
    ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [2a30c41b-f5d6-4738-9f76-1e277b31bb4a] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Dâ”œÂ®jeuner la semaine prochaine
  description: Sondage pour râ”œÂ®server un dâ”œÂ®jeuner la semaine prochaine entre midi et deux
  type: date
  datesCount: [33m7[39m
  dates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m,
  [32m'2025-12-13'[39m,
  [32m'2025-12-14'[39m
]
  timeSlotsCount: [33m1[39m
  timeSlots: [1 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'12:30'[39m,
    end: [32m'13:30'[39m,
    dates: [
      [32m'2025-12-08'[39m,
      [32m'2025-12-09'[39m,
      [32m'2025-12-10'[39m,
      [32m'2025-12-11'[39m,
      [32m'2025-12-12'[39m,
      [32m'2025-12-13'[39m,
      [32m'2025-12-14'[39m
    ]
  }
]

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[CRITIQUE] Dâ”œÂ®jeuner entre midi et deux Ã”Ã¥Ã† 1 crâ”œÂ®neau
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: fais-moi un sondage pour râ”œÂ®server un dâ”œÂ®jeuner la semaine prochaine entre midi et deux
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-08, 2025-12-09, 2025-12-10, 2025-12-11, 2025-12-12, 2025-12-13, 2025-12-14
   - Crâ”œÂ®neaux: 12:30-13:30
   Ã”Â£Ã  Attendu: 1 crâ”œÂ®neau | Obtenu: [33m1[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/bug.manual.ts[2m > [22mGemini Tests - BUG[2m > [22m[CRITIQUE] Dâ”œÂ®jeuner entre midi et deux Ã”Ã¥Ã† 1 crâ”œÂ®neau[33m 2226[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[HAUTE] Brunch samedi ou dimanche Ã”Ã¥Ã† 2 dates
[22m[39m
Â­Æ’Ã´Ã˜ [5c2b1d4c-22b1-48d5-a959-f77d378fe336] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: prâ”œÂ®vois un brunch samedi ou dimanche
  inputLength: [33m36[39m
  timestamp: 2025-12-05T18:39:48.015Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'5c2b1d4c-22b1-48d5-a959-f77d378fe336'[39m,
  userInputLength: [33m36[39m,
  userInputPreview: [32m'prâ”œÂ®vois un brunch samedi ou dimanche'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=36, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'5c2b1d4c-22b1-48d5-a959-f77d378fe336'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=2, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=36, result=false 

Ã”ÃœÃ–Â´Â©Ã… [5c2b1d4c-22b1-48d5-a959-f77d378fe336] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: prâ”œÂ®vois un brunch samedi ou dimanche
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[HAUTE] Brunch samedi ou dimanche Ã”Ã¥Ã† 2 dates
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [2 â”œÂ®lâ”œÂ®ments] [
  { text: [32m'samedi'[39m, date: [32m'2025-12-06T11:00:00.000Z'[39m },
  { text: [32m'dimanche'[39m, date: [32m'2025-12-07T11:00:00.000Z'[39m }
]
  chronoText: samedi
  chronoDate: 2025-12-06T11:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:samedi'[39m, [32m'day:samedi,dimanche'[39m ]
  dayOfWeek: [2 â”œÂ®lâ”œÂ®ments] [ [33m6[39m, [33m0[39m ]
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T11:00:00.000Z'[39m ]
  parseType: day_of_week
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:samedi'[39m, [32m'day:samedi,dimanche'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'5c2b1d4c-22b1-48d5-a959-f77d378fe336'[39m, hintsLength: [33m449[39m }

Â­Æ’Ã´Ã± [5c2b1d4c-22b1-48d5-a959-f77d378fe336] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "prâ”œÂ®vois un brunch samedi ou dimanche":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2
- CONTEXTE REPAS: 1 CRâ”œÃ«NEAU UNIQUEMENT par date

Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…
Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)
Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un ...
    [... 2255 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "prâ”œÂ®vois un brunch samedi ou dimanche":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2
- CONTEXTE REPAS: 1 CRâ”œÃ«NEAU UNIQUEMENT par date

Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…
Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)
Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas

  promptLength: [33m2755[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'5c2b1d4c-22b1-48d5-a959-f77d378fe336'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2755[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'5c2b1d4c-22b1-48d5-a959-f77d378fe336'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "prâ”œÂ®vois un brunch samedi ou dimanche":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: samedi 6 dâ”œÂ®cembre 2025, dimanche 7 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'- CONTEXTE REPAS: 1 CRâ”œÃ«NEAU UNIQUEMENT par date\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)\n'[39m +
    [32m'Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Brunch Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 11h30 et 13h00 (durâ”œÂ®e 90min)\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "prâ”œÂ®vois un brunch samedi ou dimanche"\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m36[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[HAUTE] Brunch samedi ou dimanche Ã”Ã¥Ã† 2 dates
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m413[39m }

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[HAUTE] Brunch samedi ou dimanche Ã”Ã¥Ã† 2 dates
[22m[39m
Â­Æ’Ã´Ã‘ [5c2b1d4c-22b1-48d5-a959-f77d378fe336] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Brunch samedi ou dimanche",
  "description": "Prâ”œÂ®vois un brunch samedi ou dimanche",
  "type": "date",
  "dates": [
    "2025-12-06",
    "2025-12-07"
  ],
  "timeSlots": [
    {
      "start": "11:30",
      "end": "13:00",
      "dates": [
        "2025-12-06"
      ]
    },
    {
      "start": "11:30",
      "end": "13:00",
      "dates": [
        "2025-12-07"
      ]
    }
  ]
}
```
  responseTime: [33m1335[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'5c2b1d4c-22b1-48d5-a959-f77d378fe336'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [5c2b1d4c-22b1-48d5-a959-f77d378fe336] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-07'[39m ] }
]
  filteredTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-07'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [5c2b1d4c-22b1-48d5-a959-f77d378fe336] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Brunch samedi ou dimanche
  description: Prâ”œÂ®vois un brunch samedi ou dimanche
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06'[39m, [32m'2025-12-07'[39m ]
  timeSlotsCount: [33m2[39m
  timeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-06'[39m ] },
  { start: [32m'11:30'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-07'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests/bug.manual.ts[2m > [22m[2mGemini Tests - BUG[2m > [22m[2m[HAUTE] Brunch samedi ou dimanche Ã”Ã¥Ã† 2 dates
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: prâ”œÂ®vois un brunch samedi ou dimanche
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-06, 2025-12-07
   - Crâ”œÂ®neaux: 11:30-13:00, 11:30-13:00
   Ã”Â£Ã  Attendu: Ã”Ã«Ã‘2 dates | Obtenu: [33m2[39m

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/bug.manual.ts[2m > [22mGemini Tests - BUG[2m > [22m[HAUTE] Brunch samedi ou dimanche Ã”Ã¥Ã† 2 dates[33m 1340[2mms[22m[39m
[90mstdout[2m | src/test/gemini-form-polls.test.ts[2m > [22m[2mGemini Form Polls Tests
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Direct Gemini API initialisâ”œÂ®e (fetch direct) 

[90mstdout[2m | src/test/gemini-form-polls.test.ts[2m > [22m[2mGemini Form Polls Tests
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Mode DIRECT GEMINI API activâ”œÂ® (bypass Edge Function) 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ VITE_GEMINI_API_KEY configurâ”œÂ®e: AIzaSyAXlQ... 

[90mstdout[2m | src/test/gemini-form-polls.test.ts[2m > [22m[2mGemini Form Polls Tests
[22m[39m
======================================================================
Â­Æ’ÂºÂ¬ TESTS GEMINI - FORM POLLS
======================================================================
   Total prompts: 10
   Prompts filtrâ”œÂ®s: 0
   Tests â”œÂ®chouâ”œÂ®s â”œÃ¡ relancer: dejeuner-partenariats-mercredi, bureau-asso-30min, comite-quartier-quinze-jours

[90mstdout[2m | src/test/gemini-form-polls.test.ts[2m > [22m[2mGemini Form Polls Tests
[22m[39m
Â­Æ’Ã´Ã¨ Rapport gâ”œÂ®nâ”œÂ®râ”œÂ®: C:\Users\Julien Fritsch\Documents\GitHub\DooDates-bug\tests\reports\gemini-form-polls-report.md

======================================================================
Â­Æ’Ã´Ã¨ Râ”œÃ«SUMâ”œÃ« DES TESTS
======================================================================
   Ã”Â£Ã  Râ”œÂ®ussis: 0/0
   Ã”Ã˜Ã® â”œÃ«chouâ”œÂ®s: 0/0
   Â­Æ’Ã´Ãª Score: 0.00/0 (0.0%)
======================================================================

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Direct Gemini API initialisâ”œÂ®e (fetch direct) 

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Mode DIRECT GEMINI API activâ”œÂ® (bypass Edge Function) 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ VITE_GEMINI_API_KEY configurâ”œÂ®e: AIzaSyAXlQ... 

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s
[22m[39m
============================================================
Â­Æ’Ã´Ã¯ CONFIGURATION DES TESTS
============================================================
   Total prompts disponibles: 60
   Prompts sâ”œÂ®lectionnâ”œÂ®s: 3
   Tests â”œÂ®chouâ”œÂ®s â”œÃ¡ relancer: dejeuner-partenariats-mercredi, bureau-asso-30min, comite-quartier-quinze-jours
============================================================

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mPROFESSIONNEL (1 tests)[2m > [22m[2m[HAUTE] Dâ”œÂ®jeuner partenariats mercredi 11h-13h
[22m[39m
Â­Æ’Ã¶Ã¤ Test: dejeuner-partenariats-mercredi (tentative 1/3)
   Prompt: "Cherche un crâ”œÂ®neau entre 11h et 13h mercredi pour un dâ”œÂ®jeuner partenariats."

Â­Æ’Ã´Ã˜ [bc823ba6-5f86-4513-ac4b-8041beb332b0] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Cherche un crâ”œÂ®neau entre 11h et 13h mercredi pour un dâ”œÂ®jeuner partenariats.
  inputLength: [33m75[39m
  timestamp: 2025-12-05T18:39:49.637Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'bc823ba6-5f86-4513-ac4b-8041beb332b0'[39m,
  userInputLength: [33m75[39m,
  userInputPreview: [32m'Cherche un crâ”œÂ®neau entre 11h et 13h mercredi pour '[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Type imposâ”œÂ® depuis l'UI { requestId: [32m'bc823ba6-5f86-4513-ac4b-8041beb332b0'[39m, pollType: [32m'date'[39m }
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=75, result=false 

Ã”ÃœÃ–Â´Â©Ã… [bc823ba6-5f86-4513-ac4b-8041beb332b0] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: UI (override)
  processedInput: Cherche un crâ”œÂ®neau entre 11h et 13h mercredi pour un dâ”œÂ®jeuner partenariats.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mPROFESSIONNEL (1 tests)[2m > [22m[2m[HAUTE] Dâ”œÂ®jeuner partenariats mercredi 11h-13h
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m0[39m,
  detectedKeywords: [ [32m'chrono:11h et'[39m, [32m'day:mercredi'[39m ],
  validationErrors: [33m1[39m,
  validationWarnings: [33m1[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'bc823ba6-5f86-4513-ac4b-8041beb332b0'[39m, hintsLength: [33m166[39m }

Â­Æ’Ã´Ã± [bc823ba6-5f86-4513-ac4b-8041beb332b0] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…
Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)
Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Dâ”œÂ®jeuner/partenariats Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2-3 crâ”œÂ®neaux entre 11h30 et 13h30 (durâ”œÂ®e 1h)
CONTEXTE: Durâ”œÂ®e explicite (660 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 660 minutes
CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moi...
    [... 2188 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…
Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)
Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas

  promptLength: [33m2688[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'bc823ba6-5f86-4513-ac4b-8041beb332b0'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2688[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'bc823ba6-5f86-4513-ac4b-8041beb332b0'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… CONTEXTE REPAS Dâ”œÃ«TECTâ”œÃ« Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer UN SEUL crâ”œÂ®neau par date (ex: 12h-14h pour dâ”œÂ®jeuner, 19h-21h pour dâ”œÂ«ner)\n'[39m +
    [32m'Ã”Ã¥Ã† NE PAS gâ”œÂ®nâ”œÂ®rer de multiples crâ”œÂ®neaux pour un repas\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Dâ”œÂ®jeuner/partenariats Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer 2-3 crâ”œÂ®neaux entre 11h30 et 13h30 (durâ”œÂ®e 1h)\n'[39m +
    [32m'CONTEXTE: Durâ”œÂ®e explicite (660 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 660 minutes\n'[39m +
    [32m"CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot\n"[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Cherche un crâ”œÂ®neau entre 11h et 13h mercredi pour un dâ”œÂ®jeuner partenariats."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m75[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mPROFESSIONNEL (1 tests)[2m > [22m[2m[HAUTE] Dâ”œÂ®jeuner partenariats mercredi 11h-13h
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [2 â”œÂ®lâ”œÂ®ments] [
  { text: [32m'11h et'[39m, date: [32m'2025-12-06T16:00:00.000Z'[39m },
  { text: [32m'13h mercredi'[39m, date: [32m'2025-12-10T12:00:00.000Z'[39m }
]
  chronoText: 11h et
  chronoDate: 2025-12-06T16:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:11h et'[39m, [32m'day:mercredi'[39m ]
  dayOfWeek: [1 â”œÂ®lâ”œÂ®ments] [ [33m3[39m ]
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [0 â”œÂ®lâ”œÂ®ments] []
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T16:00:00.000Z'[39m ]
  parseType: day_of_week

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mPROFESSIONNEL (1 tests)[2m > [22m[2m[HAUTE] Dâ”œÂ®jeuner partenariats mercredi 11h-13h
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m441[39m }

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mPROFESSIONNEL (1 tests)[2m > [22m[2m[HAUTE] Dâ”œÂ®jeuner partenariats mercredi 11h-13h
[22m[39m
Â­Æ’Ã´Ã‘ [bc823ba6-5f86-4513-ac4b-8041beb332b0] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Dâ”œÂ®jeuner partenariats",
  "description": "Crâ”œÂ®neau pour un dâ”œÂ®jeuner partenariats",
  "type": "date",
  "dates": ["2025-12-10"],
  "timeSlots": [
    {
      "start": "11:30",
      "end": "12:30",
      "dates": ["2025-12-10"]
    },
    {
      "start": "12:00",
      "end": "13:00",
      "dates": ["2025-12-10"]
    },
    {
      "start": "12:30",
      "end": "13:30",
      "dates": ["2025-12-10"]
    }
  ]
}
```
  responseTime: [33m1477[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'bc823ba6-5f86-4513-ac4b-8041beb332b0'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [bc823ba6-5f86-4513-ac4b-8041beb332b0] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-10'[39m ]
  filteredDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-10'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [3 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'11:30'[39m, end: [32m'12:30'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'12:00'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'12:30'[39m, end: [32m'13:30'[39m, dates: [ [32m'2025-12-10'[39m ] }
]
  filteredTimeSlots: [3 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'11:30'[39m, end: [32m'12:30'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'12:00'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'12:30'[39m, end: [32m'13:30'[39m, dates: [ [32m'2025-12-10'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [bc823ba6-5f86-4513-ac4b-8041beb332b0] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Dâ”œÂ®jeuner partenariats
  description: Crâ”œÂ®neau pour un dâ”œÂ®jeuner partenariats
  type: date
  datesCount: [33m1[39m
  dates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-10'[39m ]
  timeSlotsCount: [33m3[39m
  timeSlots: [3 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'11:30'[39m, end: [32m'12:30'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'12:00'[39m, end: [32m'13:00'[39m, dates: [ [32m'2025-12-10'[39m ] },
  { start: [32m'12:30'[39m, end: [32m'13:30'[39m, dates: [ [32m'2025-12-10'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mPROFESSIONNEL (1 tests)[2m > [22m[2m[HAUTE] Dâ”œÂ®jeuner partenariats mercredi 11h-13h
[22m[39m   Ã”Ã…â–’Â´Â©Ã… Durâ”œÂ®e: 1493ms
   Â­Æ’Ã´Ã˜ Titre gâ”œÂ®nâ”œÂ®râ”œÂ®: "Dâ”œÂ®jeuner partenariats"
   Â­Æ’Ã´Ã˜ Description gâ”œÂ®nâ”œÂ®râ”œÂ®e: "Crâ”œÂ®neau pour un dâ”œÂ®jeuner partenariats"
   Ã”Â£Ã  Râ”œÂ®ponse reâ”œÂºue
   Â­Æ’Ã´Ã¨ 1 dates, 3 crâ”œÂ®neaux
   Ã”Â£Ã  Score: 4.0/4.0
   Â­Æ’Ã´Ã¨ Breakdown: Type=1.0, Dates=1.0, Crâ”œÂ®neaux=1.0, Mots=1.0

 [32mÃ”Â£Ã´[39m src/test/gemini-tests.manual.ts[2m > [22mGemini Tests Consolidâ”œÂ®s[2m > [22mPROFESSIONNEL (1 tests)[2m > [22m[HAUTE] Dâ”œÂ®jeuner partenariats mercredi 11h-13h[33m 1495[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mASSOCIATIF (2 tests)[2m > [22m[2m[MOYENNE] Bureau associatif 90min fin de semaine
[22m[39m
Â­Æ’Ã¶Ã¤ Test: bureau-asso-30min (tentative 1/3)
   Prompt: "Trouve un crâ”œÂ®neau de 90 minutes en fin de semaine prochaine pour le bureau de l'asso."

Â­Æ’Ã´Ã˜ [033f9489-1ce0-47a4-a363-53fb7872c312] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Trouve un crâ”œÂ®neau de 90 minutes en fin de semaine prochaine pour le bureau de l'asso.
  inputLength: [33m85[39m
  timestamp: 2025-12-05T18:39:51.132Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'033f9489-1ce0-47a4-a363-53fb7872c312'[39m,
  userInputLength: [33m85[39m,
  userInputPreview: [32m'Trouve un crâ”œÂ®neau de 90 minutes en fin de semaine '[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Type imposâ”œÂ® depuis l'UI { requestId: [32m'033f9489-1ce0-47a4-a363-53fb7872c312'[39m, pollType: [32m'date'[39m }
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=85, result=false 

Ã”ÃœÃ–Â´Â©Ã… [033f9489-1ce0-47a4-a363-53fb7872c312] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: UI (override)
  processedInput: Trouve un crâ”œÂ®neau de 90 minutes en fin de semaine prochaine pour le bureau de l'asso.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mASSOCIATIF (2 tests)[2m > [22m[2m[MOYENNE] Bureau associatif 90min fin de semaine
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [2 â”œÂ®lâ”œÂ®ments] [
  { text: [32m'de 90 minutes'[39m, date: [32m'2025-12-05T20:09:51.134Z'[39m },
  { text: [32m'de semaine prochaine'[39m, date: [32m'2025-12-12T18:39:51.134Z'[39m }
]
  chronoText: de 90 minutes
  chronoDate: 2025-12-05T20:09:51.134Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:de 90 minutes'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-05T20:09:51.134Z'[39m ]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:de 90 minutes'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'033f9489-1ce0-47a4-a363-53fb7872c312'[39m, hintsLength: [33m283[39m }

Â­Æ’Ã´Ã± [033f9489-1ce0-47a4-a363-53fb7872c312] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Trouve un crâ”œÂ®neau de 90 minutes en fin de semaine prochaine pour le bureau de l'asso.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 5 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Durâ”œÂ®e explicite (90 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 90 minutes
CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã†...
    [... 2226 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Trouve un crâ”œÂ®neau de 90 minutes en fin de semaine prochaine pour le bureau de l'asso.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 5 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2726[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'033f9489-1ce0-47a4-a363-53fb7872c312'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2726[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'033f9489-1ce0-47a4-a363-53fb7872c312'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Trouve un crâ”œÂ®neau de 90 minutes en fin de semaine prochaine pour le bureau de l'asso.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 5 dâ”œÂ®cembre 2025, lundi 8 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Durâ”œÂ®e explicite (90 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 90 minutes\n'[39m +
    [32m"CONTEXTE: 'crâ”œÂ®neau' mentionnâ”œÂ® Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer au moins 1 timeSlot\n"[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m`Demande: "Trouve un crâ”œÂ®neau de 90 minutes en fin de semaine prochaine pour le bureau de l'asso."\n`[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m85[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mASSOCIATIF (2 tests)[2m > [22m[2m[MOYENNE] Bureau associatif 90min fin de semaine
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m1109[39m }

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mASSOCIATIF (2 tests)[2m > [22m[2m[MOYENNE] Bureau associatif 90min fin de semaine
[22m[39m
Â­Æ’Ã´Ã‘ [033f9489-1ce0-47a4-a363-53fb7872c312] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Cr\u00e9neau pour le bureau de l'asso",
  "description": "Trouve un cr\u00e9neau de 90 minutes en fin de semaine prochaine pour le bureau de l'asso.",
  "type": "date",
  "dates": [
    "2025-12-05",
    "2025-12-08"
  ],
  "timeSlots": [
    {
      "start": "17:00",
      "end": "18:30",
      "dates": [
        "2025-12-05"
      ]
    },
    {
      "start": "17:30",
      "end": "19:00",
      "dates": [
        "2025-12-05"
      ]
    },
    {
      "start": "18:00",...
    [... 609 caractâ”œÂ¿res de plus]
  responseTime: [33m2983[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'033f9489-1ce0-47a4-a363-53fb7872c312'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [033f9489-1ce0-47a4-a363-53fb7872c312] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [8 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'17:00'[39m, end: [32m'18:30'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'17:30'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'18:00'[39m, end: [32m'19:30'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'18:30'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'17:00'[39m, end: [32m'18:30'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'17:30'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'18:00'[39m, end: [32m'19:30'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'18:30'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-08'[39m ] }
]
  filteredTimeSlots: [8 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'17:00'[39m, end: [32m'18:30'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'17:30'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'18:00'[39m, end: [32m'19:30'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'18:30'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'17:00'[39m, end: [32m'18:30'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'17:30'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'18:00'[39m, end: [32m'19:30'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'18:30'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-08'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [033f9489-1ce0-47a4-a363-53fb7872c312] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Crâ”œÂ®neau pour le bureau de l'asso
  description: Trouve un crâ”œÂ®neau de 90 minutes en fin de semaine prochaine pour le bureau de l'asso.
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-05'[39m, [32m'2025-12-08'[39m ]
  timeSlotsCount: [33m8[39m
  timeSlots: [8 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'17:00'[39m, end: [32m'18:30'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'17:30'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'18:00'[39m, end: [32m'19:30'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'18:30'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-05'[39m ] },
  { start: [32m'17:00'[39m, end: [32m'18:30'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'17:30'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'18:00'[39m, end: [32m'19:30'[39m, dates: [ [32m'2025-12-08'[39m ] },
  { start: [32m'18:30'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-08'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mASSOCIATIF (2 tests)[2m > [22m[2m[MOYENNE] Bureau associatif 90min fin de semaine
[22m[39m   Ã”Ã…â–’Â´Â©Ã… Durâ”œÂ®e: 2990ms
   Â­Æ’Ã´Ã˜ Titre gâ”œÂ®nâ”œÂ®râ”œÂ®: "Crâ”œÂ®neau pour le bureau de l'asso"
   Â­Æ’Ã´Ã˜ Description gâ”œÂ®nâ”œÂ®râ”œÂ®e: "Trouve un crâ”œÂ®neau de 90 minutes en fin de semaine prochaine pour le bureau de l'asso."
   Ã”Â£Ã  Râ”œÂ®ponse reâ”œÂºue
   Â­Æ’Ã´Ã¨ 2 dates, 8 crâ”œÂ®neaux
   Ã”Â£Ã  Score: 4.0/4.0
   Â­Æ’Ã´Ã¨ Breakdown: Type=1.0, Dates=1.0, Crâ”œÂ®neaux=1.0, Mots=1.0

 [32mÃ”Â£Ã´[39m src/test/gemini-tests.manual.ts[2m > [22mGemini Tests Consolidâ”œÂ®s[2m > [22mASSOCIATIF (2 tests)[2m > [22m[MOYENNE] Bureau associatif 90min fin de semaine[33m 2990[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mASSOCIATIF (2 tests)[2m > [22m[2m[MOYENNE] Comitâ”œÂ® de quartier J+15 - 2h
[22m[39m
Â­Æ’Ã¶Ã¤ Test: comite-quartier-quinze-jours (tentative 1/3)
   Prompt: "Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quinze jours, sur 2 heures, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e."

Â­Æ’Ã´Ã˜ [4b13c568-6b91-4780-8668-c8216cac640a] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quinze jours, sur 2 heures, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.
  inputLength: [33m100[39m
  timestamp: 2025-12-05T18:39:54.123Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'4b13c568-6b91-4780-8668-c8216cac640a'[39m,
  userInputLength: [33m100[39m,
  userInputPreview: [32m'Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quin'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Type imposâ”œÂ® depuis l'UI { requestId: [32m'4b13c568-6b91-4780-8668-c8216cac640a'[39m, pollType: [32m'date'[39m }
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=100, result=false 

Ã”ÃœÃ–Â´Â©Ã… [4b13c568-6b91-4780-8668-c8216cac640a] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: UI (override)
  processedInput: Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quinze jours, sur 2 heures, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mASSOCIATIF (2 tests)[2m > [22m[2m[MOYENNE] Comitâ”œÂ® de quartier J+15 - 2h
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'soir'[39m, date: [32m'2025-12-06T17:00:00.000Z'[39m } ]
  chronoText: soir
  chronoDate: 2025-12-06T17:00:00.000Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:soir'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T17:00:00.000Z'[39m ]
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:soir'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'4b13c568-6b91-4780-8668-c8216cac640a'[39m, hintsLength: [33m295[39m }

Â­Æ’Ã´Ã± [4b13c568-6b91-4780-8668-c8216cac640a] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quinze jours, sur 2 heures, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Soirâ”œÂ®e Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 18h30 et 21h00
CONTEXTE: Durâ”œÂ®e explicite (120 min) Ã”Ã¥Ã† OBLIGATOIR...
    [... 2239 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quinze jours, sur 2 heures, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2739[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'4b13c568-6b91-4780-8668-c8216cac640a'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2739[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'4b13c568-6b91-4780-8668-c8216cac640a'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quinze jours, sur 2 heures, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Soirâ”œÂ®e Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 18h30 et 21h00\n'[39m +
    [32m'CONTEXTE: Durâ”œÂ®e explicite (120 min) Ã”Ã¥Ã† OBLIGATOIRE: Gâ”œÂ®nâ”œÂ®rer des timeSlots de 120 minutes\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quinze jours, sur 2 heures, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e."\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m100[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mASSOCIATIF (2 tests)[2m > [22m[2m[MOYENNE] Comitâ”œÂ® de quartier J+15 - 2h
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m525[39m }

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mASSOCIATIF (2 tests)[2m > [22m[2m[MOYENNE] Comitâ”œÂ® de quartier J+15 - 2h
[22m[39m
Â­Æ’Ã´Ã‘ [4b13c568-6b91-4780-8668-c8216cac640a] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Râ”œÂ®union du comitâ”œÂ® de quartier",
  "description": "Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quinze jours, sur 2 heures, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.",
  "type": "date",
  "dates": [
    "2025-12-08",
    "2025-12-09"
  ],
  "timeSlots": [
    {
      "start": "18:30",
      "end": "20:30",
      "dates": [
        "2025-12-08",
        "2025-12-09"
      ]
    },
    {
      "start": "19:00",
      "end": "21:00",
      "dates": [
        "2025-12-08",
        "2025-12-09...
    [... 25 caractâ”œÂ¿res de plus]
  responseTime: [33m1596[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'4b13c568-6b91-4780-8668-c8216cac640a'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [4b13c568-6b91-4780-8668-c8216cac640a] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'20:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  filteredTimeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'20:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [4b13c568-6b91-4780-8668-c8216cac640a] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Râ”œÂ®union du comitâ”œÂ® de quartier
  description: Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quinze jours, sur 2 heures, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e.
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  timeSlotsCount: [33m2[39m
  timeSlots: [2 â”œÂ®lâ”œÂ®ments] [
  {
    start: [32m'18:30'[39m,
    end: [32m'20:30'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  },
  {
    start: [32m'19:00'[39m,
    end: [32m'21:00'[39m,
    dates: [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  }
]

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s[2m > [22m[2mASSOCIATIF (2 tests)[2m > [22m[2m[MOYENNE] Comitâ”œÂ® de quartier J+15 - 2h
[22m[39m   Ã”Ã…â–’Â´Â©Ã… Durâ”œÂ®e: 1599ms
   Â­Æ’Ã´Ã˜ Titre gâ”œÂ®nâ”œÂ®râ”œÂ®: "Râ”œÂ®union du comitâ”œÂ® de quartier"
   Â­Æ’Ã´Ã˜ Description gâ”œÂ®nâ”œÂ®râ”œÂ®e: "Prâ”œÂ®vois la râ”œÂ®union du comitâ”œÂ® de quartier dans quinze jours, sur 2 heures, plutâ”œâ”¤t en dâ”œÂ®but de soirâ”œÂ®e."
   Ã”Â£Ã  Râ”œÂ®ponse reâ”œÂºue
   Â­Æ’Ã´Ã¨ 2 dates, 4 crâ”œÂ®neaux
   Ã”Â£Ã  Score: 4.0/4.0
   Â­Æ’Ã´Ã¨ Breakdown: Type=1.0, Dates=1.0, Crâ”œÂ®neaux=1.0, Mots=1.0

 [32mÃ”Â£Ã´[39m src/test/gemini-tests.manual.ts[2m > [22mGemini Tests Consolidâ”œÂ®s[2m > [22mASSOCIATIF (2 tests)[2m > [22m[MOYENNE] Comitâ”œÂ® de quartier J+15 - 2h[33m 1600[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s
[22m[39m
============================================================
Â­Æ’Ã´Ã¨ RAPPORT FINAL
============================================================
   Ã”Â£Ã  Râ”œÂ®ussis: 3/3
   Ã”Ã˜Ã® â”œÃ«chouâ”œÂ®s: 0/3
   Â­Æ’Ã´Ãª Score moyen: 100.0%
============================================================

[90mstdout[2m | src/test/gemini-tests.manual.ts[2m > [22m[2mGemini Tests Consolidâ”œÂ®s
[22m[39m
Â­Æ’Ã´Ã¤ Rapport JSON: C:\Users\Julien Fritsch\Documents\GitHub\DooDates-bug\tests\reports\gemini-tests-report.json
Â­Æ’Ã´Ã¤ Rapport Markdown: C:\Users\Julien Fritsch\Documents\GitHub\DooDates-bug\tests\reports\gemini-tests-report.md

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Direct Gemini API initialisâ”œÂ®e (fetch direct) 

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Mode DIRECT GEMINI API activâ”œÂ® (bypass Edge Function) 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ VITE_GEMINI_API_KEY configurâ”œÂ®e: AIzaSyAXlQ... 

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE
[22m[39m
======================================================================
Â­Æ’ÂºÂ¬ TESTS GEMINI - CATâ”œÃ«GORIE EDGE (CAS LIMITES)
======================================================================

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mCaractâ”œÂ¿res spâ”œÂ®ciaux dans le prompt
[22m[39m
Â­Æ’Ã´Ã˜ [13abdd70-c236-4878-a26a-d7678980ce6d] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: râ”œÂ®union @work #urgent
  inputLength: [33m21[39m
  timestamp: 2025-12-05T18:39:55.821Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'13abdd70-c236-4878-a26a-d7678980ce6d'[39m,
  userInputLength: [33m21[39m,
  userInputPreview: [32m'râ”œÂ®union @work #urgent'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=21, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'13abdd70-c236-4878-a26a-d7678980ce6d'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=1, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=21, result=false 

Ã”ÃœÃ–Â´Â©Ã… [13abdd70-c236-4878-a26a-d7678980ce6d] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: râ”œÂ®union @work #urgent
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mCaractâ”œÂ¿res spâ”œÂ®ciaux dans le prompt
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m0[39m,
  detectedKeywords: [],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'13abdd70-c236-4878-a26a-d7678980ce6d'[39m, hintsLength: [33m0[39m }

Â­Æ’Ã´Ã± [13abdd70-c236-4878-a26a-d7678980ce6d] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.



Demande: "râ”œÂ®union @work #urgent"

Râ”œÃªGLES FONDAMENTALES:
- Dates futures uniquement (>= 2025-12-05)
- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)

Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.

PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:
- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE
- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates

PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:
Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMEN...
    [... 1611 caractâ”œÂ¿res de plus]
  dateHints: 
  promptLength: [33m2111[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'13abdd70-c236-4878-a26a-d7678980ce6d'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2111[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'13abdd70-c236-4878-a26a-d7678980ce6d'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "râ”œÂ®union @work #urgent"\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m21[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mCaractâ”œÂ¿res spâ”œÂ®ciaux dans le prompt
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [0 â”œÂ®lâ”œÂ®ments] []
  chronoText: [90mundefined[39m
  chronoDate: [90mundefined[39m
  detectedKeywords: [0 â”œÂ®lâ”œÂ®ments] []
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [0 â”œÂ®lâ”œÂ®ments] []
  targetDates: [0 â”œÂ®lâ”œÂ®ments] []
  parseType: unknown

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mCaractâ”œÂ¿res spâ”œÂ®ciaux dans le prompt
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m243[39m }

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mCaractâ”œÂ¿res spâ”œÂ®ciaux dans le prompt
[22m[39m
Â­Æ’Ã´Ã‘ [13abdd70-c236-4878-a26a-d7678980ce6d] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "râ”œÂ®union",
  "description": "urgent",
  "type": "date",
  "dates": [
    "2025-12-05",
    "2025-12-06",
    "2025-12-07",
    "2025-12-08",
    "2025-12-09",
    "2025-12-10",
    "2025-12-11"
  ],
  "timeSlots": []
}
```
  responseTime: [33m1542[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'13abdd70-c236-4878-a26a-d7678980ce6d'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [13abdd70-c236-4878-a26a-d7678980ce6d] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-05'[39m,
  [32m'2025-12-06'[39m,
  [32m'2025-12-07'[39m,
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m
]
  filteredDates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-05'[39m,
  [32m'2025-12-06'[39m,
  [32m'2025-12-07'[39m,
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m
]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [0 â”œÂ®lâ”œÂ®ments] []
  filteredTimeSlots: [0 â”œÂ®lâ”œÂ®ments] []
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [13abdd70-c236-4878-a26a-d7678980ce6d] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: râ”œÂ®union
  description: urgent
  type: date
  datesCount: [33m7[39m
  dates: [7 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-05'[39m,
  [32m'2025-12-06'[39m,
  [32m'2025-12-07'[39m,
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m
]
  timeSlotsCount: [33m0[39m
  timeSlots: [0 â”œÂ®lâ”œÂ®ments] []

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mCaractâ”œÂ¿res spâ”œÂ®ciaux dans le prompt
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: râ”œÂ®union @work #urgent
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-05, 2025-12-06, 2025-12-07, 2025-12-08, 2025-12-09, 2025-12-10, 2025-12-11
   - Crâ”œÂ®neaux: aucun

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/edge.manual.ts[2m > [22mGemini Tests - EDGE[2m > [22mCaractâ”œÂ¿res spâ”œÂ®ciaux dans le prompt[33m 1556[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mPrompt trâ”œÂ¿s court
[22m[39m
Â­Æ’Ã´Ã˜ [d136050a-5af7-4bdf-b94e-168fb6597745] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: râ”œÂ®union demain
  inputLength: [33m14[39m
  timestamp: 2025-12-05T18:39:57.378Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'd136050a-5af7-4bdf-b94e-168fb6597745'[39m,
  userInputLength: [33m14[39m,
  userInputPreview: [32m'râ”œÂ®union demain'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=14, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'd136050a-5af7-4bdf-b94e-168fb6597745'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=2, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=14, result=false 

Ã”ÃœÃ–Â´Â©Ã… [d136050a-5af7-4bdf-b94e-168fb6597745] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: râ”œÂ®union demain
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mPrompt trâ”œÂ¿s court
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'demain'[39m, date: [32m'2025-12-06T18:39:57.379Z'[39m } ]
  chronoText: demain
  chronoDate: 2025-12-06T18:39:57.379Z
  detectedKeywords: [1 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:demain'[39m ]
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-06T18:39:57.379Z'[39m ]
  parseType: specific_date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'specific_date'[39m,
  allowedDatesCount: [33m2[39m,
  detectedKeywords: [ [32m'chrono:demain'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'd136050a-5af7-4bdf-b94e-168fb6597745'[39m, hintsLength: [33m209[39m }

Â­Æ’Ã´Ã± [d136050a-5af7-4bdf-b94e-168fb6597745] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "râ”œÂ®union demain":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2



Demande: "râ”œÂ®union demain"

Râ”œÃªGLES FONDAMENTALES:
- Dates futures uniquement (>= 2025-12-05)
- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)

Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT...
    [... 1813 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "râ”œÂ®union demain":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 2

  promptLength: [33m2313[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'd136050a-5af7-4bdf-b94e-168fb6597745'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2313[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'd136050a-5af7-4bdf-b94e-168fb6597745'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "râ”œÂ®union demain":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: lundi 8 dâ”œÂ®cembre 2025, mardi 9 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 2\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "râ”œÂ®union demain"\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m14[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mPrompt trâ”œÂ¿s court
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m149[39m }

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mPrompt trâ”œÂ¿s court
[22m[39m
Â­Æ’Ã´Ã‘ [d136050a-5af7-4bdf-b94e-168fb6597745] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "râ”œÂ®union",
  "description": null,
  "type": "date",
  "dates": [
    "2025-12-08",
    "2025-12-09"
  ],
  "timeSlots": []
}
```
  responseTime: [33m850[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'd136050a-5af7-4bdf-b94e-168fb6597745'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [d136050a-5af7-4bdf-b94e-168fb6597745] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  filteredDates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [0 â”œÂ®lâ”œÂ®ments] []
  filteredTimeSlots: [0 â”œÂ®lâ”œÂ®ments] []
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [d136050a-5af7-4bdf-b94e-168fb6597745] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: râ”œÂ®union
  description: [1mnull[22m
  type: date
  datesCount: [33m2[39m
  dates: [2 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-08'[39m, [32m'2025-12-09'[39m ]
  timeSlotsCount: [33m0[39m
  timeSlots: [0 â”œÂ®lâ”œÂ®ments] []

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mPrompt trâ”œÂ¿s court
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: râ”œÂ®union demain
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-08, 2025-12-09
   - Crâ”œÂ®neaux: aucun

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/edge.manual.ts[2m > [22mGemini Tests - EDGE[2m > [22mPrompt trâ”œÂ¿s court[33m 856[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mPrompt avec emojis
[22m[39m
Â­Æ’Ã´Ã˜ [054ba4d9-4a47-4abc-b358-c58252f90008] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨
  inputLength: [33m37[39m
  timestamp: 2025-12-05T18:39:58.234Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'054ba4d9-4a47-4abc-b358-c58252f90008'[39m,
  userInputLength: [33m37[39m,
  userInputPreview: [32m'Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=37, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'054ba4d9-4a47-4abc-b358-c58252f90008'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=2, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=37, result=false 

Ã”ÃœÃ–Â´Â©Ã… [054ba4d9-4a47-4abc-b358-c58252f90008] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mPrompt avec emojis
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [1 â”œÂ®lâ”œÂ®ments] [ { text: [32m'vendredi soir'[39m, date: [32m'2025-12-12T17:00:00.000Z'[39m } ]
  chronoText: vendredi soir
  chronoDate: 2025-12-12T17:00:00.000Z
  detectedKeywords: [2 â”œÂ®lâ”œÂ®ments] [ [32m'chrono:vendredi soir'[39m, [32m'day:vendredi'[39m ]
  dayOfWeek: [1 â”œÂ®lâ”œÂ®ments] [ [33m5[39m ]
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m ]
  targetDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12T17:00:00.000Z'[39m ]
  parseType: day_of_week
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'day_of_week'[39m,
  allowedDatesCount: [33m1[39m,
  detectedKeywords: [ [32m'chrono:vendredi soir'[39m, [32m'day:vendredi'[39m ],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'054ba4d9-4a47-4abc-b358-c58252f90008'[39m, hintsLength: [33m213[39m }

Â­Æ’Ã´Ã± [054ba4d9-4a47-4abc-b358-c58252f90008] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.

Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 12 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 1


Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
CONTEXTE: Soirâ”œÂ®e Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 18h30 et 21h00
Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.


Demande: "Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨"

Râ”œÃªGLES FOND...
    [... 2006 caractâ”œÂ¿res de plus]
  dateHints: 
Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…
Basâ”œÂ® sur l'analyse temporelle de "Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨":
- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 12 dâ”œÂ®cembre 2025
- NOMBRE DE DATES ATTENDUES: 1

  promptLength: [33m2506[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'054ba4d9-4a47-4abc-b358-c58252f90008'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2506[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'054ba4d9-4a47-4abc-b358-c58252f90008'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… INSTRUCTIONS STRICTES SUR LES DATES Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m`Basâ”œÂ® sur l'analyse temporelle de "Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨":\n`[39m +
    [32m'- DATES AUTORISâ”œÃ«ES UNIQUEMENT: vendredi 12 dâ”œÂ®cembre 2025\n'[39m +
    [32m'- NOMBRE DE DATES ATTENDUES: 1\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… HINTS CONTEXTUELS Dâ”œÃ«TECTâ”œÃ«S Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'CONTEXTE: Soirâ”œÂ®e Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer crâ”œÂ®neaux entre 18h30 et 21h00\n'[39m +
    [32m'Utilise ces hints pour affiner la sâ”œÂ®lection des crâ”œÂ®neaux horaires.\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨"\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m37[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mPrompt avec emojis
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m688[39m }

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mPrompt avec emojis
[22m[39m
Â­Æ’Ã´Ã‘ [054ba4d9-4a47-4abc-b358-c58252f90008] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText:
    ```json
{
  "title": "Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨",
  "description": null,
  "type": "date",
  "dates": [
    "2025-12-12"
  ],
  "timeSlots": [
    {
      "start": "18:30",
      "end": "19:00",
      "dates": [
        "2025-12-12"
      ]
    },
    {
      "start": "19:00",
      "end": "19:30",
      "dates": [
        "2025-12-12"
      ]
    },
    {
      "start": "19:30",
      "end": "20:00",
      "dates": [
        "2025-12-12"
      ]
    },
    {
      "start": "20:00",
...
    [... 188 caractâ”œÂ¿res de plus]
  responseTime: [33m2079[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'054ba4d9-4a47-4abc-b358-c58252f90008'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [054ba4d9-4a47-4abc-b358-c58252f90008] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m ]
  filteredDates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m ]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [5 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'18:30'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'19:00'[39m, end: [32m'19:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'19:30'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'20:00'[39m, end: [32m'20:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'20:30'[39m, end: [32m'21:00'[39m, dates: [ [32m'2025-12-12'[39m ] }
]
  filteredTimeSlots: [5 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'18:30'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'19:00'[39m, end: [32m'19:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'19:30'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'20:00'[39m, end: [32m'20:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'20:30'[39m, end: [32m'21:00'[39m, dates: [ [32m'2025-12-12'[39m ] }
]
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [054ba4d9-4a47-4abc-b358-c58252f90008] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨
  description: [1mnull[22m
  type: date
  datesCount: [33m1[39m
  dates: [1 â”œÂ®lâ”œÂ®ments] [ [32m'2025-12-12'[39m ]
  timeSlotsCount: [33m5[39m
  timeSlots: [5 â”œÂ®lâ”œÂ®ments] [
  { start: [32m'18:30'[39m, end: [32m'19:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'19:00'[39m, end: [32m'19:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'19:30'[39m, end: [32m'20:00'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'20:00'[39m, end: [32m'20:30'[39m, dates: [ [32m'2025-12-12'[39m ] },
  { start: [32m'20:30'[39m, end: [32m'21:00'[39m, dates: [ [32m'2025-12-12'[39m ] }
]

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mPrompt avec emojis
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Â­Æ’Ã„Ã« Organise une fâ”œÂ¬te vendredi soir Â­Æ’Ã„Ã¨
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-12
   - Crâ”œÂ®neaux: 18:30-19:00, 19:00-19:30, 19:30-20:00, 20:00-20:30, 20:30-21:00

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/edge.manual.ts[2m > [22mGemini Tests - EDGE[2m > [22mPrompt avec emojis[33m 2092[2mms[22m[39m
[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mMâ”œÂ®lange franâ”œÂºais/anglais
[22m[39m
Â­Æ’Ã´Ã˜ [4875e3dd-ba02-43b6-b48c-da35834f6f41] 1. QUESTION UTILISATEUR
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  input: Schedule a meeting pour next week please
  inputLength: [33m40[39m
  timestamp: 2025-12-05T18:40:00.326Z
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã­ GeminiService.generatePollFromText appelâ”œÂ® {
  requestId: [32m'4875e3dd-ba02-43b6-b48c-da35834f6f41'[39m,
  userInputLength: [33m40[39m,
  userInputPreview: [32m'Schedule a meeting pour next week please'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=40, result=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã¯ Dâ”œÂ®tection automatique du type {
  requestId: [32m'4875e3dd-ba02-43b6-b48c-da35834f6f41'[39m,
  isMarkdown: [33mfalse[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Poll type detection: strongFormScore=0, formScore=0, totalFormScore=0, dateScore=1, hasSondage=false 
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Markdown detection: title=false, sections=false, questions=false, checkboxes=false, length=40, result=false 

Ã”ÃœÃ–Â´Â©Ã… [4875e3dd-ba02-43b6-b48c-da35834f6f41] 2. TRAITEMENT DU CODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  pollType: date
  pollTypeSource: auto-detection
  processedInput: Schedule a meeting pour next week please
  markdownDetected: [33mfalse[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Generating Date Poll from user input 

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mMâ”œÂ®lange franâ”œÂºais/anglais
[22m[39m
Â­Æ’Ã´Ã  [temporal-parser] 3. PARSING CHRONO-NODE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  chronoResult: [0 â”œÂ®lâ”œÂ®ments] []
  chronoText: [90mundefined[39m
  chronoDate: [90mundefined[39m
  detectedKeywords: [0 â”œÂ®lâ”œÂ®ments] []
  dayOfWeek: [90mundefined[39m
  month: [90mundefined[39m
  dateNumeric: [90mundefined[39m
  relativeDays: [90mundefined[39m
  relativeWeeks: [90mundefined[39m
  allowedDates: [0 â”œÂ®lâ”œÂ®ments] []
  targetDates: [0 â”œÂ®lâ”œÂ®ments] []
  parseType: unknown
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã  Dates prâ”œÂ®-parsâ”œÂ®es avec temporalParser {
  type: [32m'unknown'[39m,
  allowedDatesCount: [33m0[39m,
  detectedKeywords: [],
  validationErrors: [33m0[39m,
  validationWarnings: [33m0[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã„Â» Hints envoyâ”œÂ®s â”œÃ¡ Gemini { requestId: [32m'4875e3dd-ba02-43b6-b48c-da35834f6f41'[39m, hintsLength: [33m0[39m }

Â­Æ’Ã´Ã± [4875e3dd-ba02-43b6-b48c-da35834f6f41] 4. PROMPT ENVOYâ”œÃ« â”œÃ‡ GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  prompt:
    Tu es l'IA DooDates, expert en planification temporelle.



Demande: "Schedule a meeting pour next week please"

Râ”œÃªGLES FONDAMENTALES:
- Dates futures uniquement (>= 2025-12-05)
- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)

Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.

PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:
- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE
- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates

PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:
Gâ”œÂ®nâ”œÂ®rer ...
    [... 1630 caractâ”œÂ¿res de plus]
  dateHints: 
  promptLength: [33m2130[39m
  pollType: date
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel geminiBackend.generateContent {
  requestId: [32m'4875e3dd-ba02-43b6-b48c-da35834f6f41'[39m,
  mode: [32m'DIRECT'[39m,
  hasUserInput: [33mtrue[39m,
  hasPrompt: [33mtrue[39m,
  promptLength: [33m2130[39m
}
Â­Æ’Ã‰Ã¸ Â­Æ’Ã®Ã‰ Â­Æ’Ã´Ã˜ Prompt complet envoyâ”œÂ® â”œÃ¡ Gemini {
  requestId: [32m'4875e3dd-ba02-43b6-b48c-da35834f6f41'[39m,
  prompt: [32m"Tu es l'IA DooDates, expert en planification temporelle.\n"[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'\n'[39m +
    [32m'Demande: "Schedule a meeting pour next week please"\n'[39m +
    [32m'\n'[39m +
    [32m'Râ”œÃªGLES FONDAMENTALES:\n'[39m +
    [32m'- Dates futures uniquement (>= 2025-12-05)\n'[39m +
    [32m"- Calculer â”œÃ¡ partir d'aujourd'hui (2025-12-05)\n"[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… NOTE: Si des INSTRUCTIONS STRICTES SUR LES DATES sont prâ”œÂ®sentes ci-dessus, elles PRIMENT sur les râ”œÂ¿gles ci-dessous.\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #1 - SPâ”œÃ«CIFICITâ”œÃ« DE LA DEMANDE:\n'[39m +
    [32m'- Date trâ”œÂ¿s spâ”œÂ®cifique Ã”Ã¥Ã† 1 DATE PRINCIPALE\n'[39m +
    [32m'- Pâ”œÂ®riode vague Ã”Ã¥Ã† 5-7 dates\n'[39m +
    [32m'\n'[39m +
    [32m'PRIORITâ”œÃ« #2 - CRâ”œÃ«NEAUX HORAIRES:\n'[39m +
    [32m'Gâ”œÂ®nâ”œÂ®rer timeSlots UNIQUEMENT si mentionnâ”œÂ® :\n'[39m +
    [32m'- Heures prâ”œÂ®cises ("9h", "14h30")\n'[39m +
    [32m'- Plages horaires ("matin", "aprâ”œÂ¿s-midi", "soir", "midi")\n'[39m +
    [32m'- Mots-clâ”œÂ®s repas ("dâ”œÂ®jeuner", "dâ”œÂ«ner", "brunch")\n'[39m +
    [32m'- Durâ”œÂ®es ("1h", "30 minutes")\n'[39m +
    [32m'\n'[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã… Râ”œÃªGLE ABSOLUE - REPAS + DATE SPâ”œÃ«CIFIQUE Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…Ã”ÃœÃ¡Â´Â©Ã…\n'[39m +
    [32m'Si REPAS et DATE SPâ”œÃ«CIFIQUE :\n'[39m +
    [32m'Ã”Ã¥Ã† 1 DATE UNIQUEMENT\n'[39m +
    [32m"Ã”Ã¥Ã† 1 CRâ”œÃ«NEAU UNIQUEMENT autour de l'heure du repas\n"[39m +
    [32m'\n'[39m +
    [32m'EXCEPTION â”œÃ‡ LA Râ”œÃªGLE ABSOLUE :\n'[39m +
    [32m'Si la demande contient "ou" :\n'[39m +
    [32m'Ã”Ã¥Ã† Gâ”œÂ®nâ”œÂ®rer TOUTES les options mentionnâ”œÂ®es\n'[39m +
    [32m'\n'[39m +
    [32m"CRâ”œÃ«NEAUX PAR TYPE D'â”œÃ«Vâ”œÃ«NEMENT:\n"[39m +
    [32m'Ã”ÃœÃ¡Â´Â©Ã… IMPORTANT : Si REPAS + DATE SPâ”œÃ«CIFIQUE Ã”Ã¥Ã† Voir râ”œÂ¿gle absolue ci-dessus\n'[39m +
    [32m'\n'[39m +
    [32m'Pour les autres cas :\n'[39m +
    [32m'- Dâ”œÂ®jeuners : 1 crâ”œÂ®neau (12h30-13h30) par date\n'[39m +
    [32m'- Dâ”œÂ«ners : 1 crâ”œÂ®neau (19h00-20h00) par date\n'[39m +
    [32m'- Matin : Plusieurs crâ”œÂ®neaux (8h-12h, toutes les 30min)\n'[39m +
    [32m'- Aprâ”œÂ¿s-midi : Plusieurs crâ”œÂ®neaux (14h-17h, toutes les 30min)\n'[39m +
    [32m'- Soir : Plusieurs crâ”œÂ®neaux (18h30-21h00)\n'[39m +
    [32m'\n'[39m +
    [32m'EXPRESSIONS TEMPORELLES:\n'[39m +
    [32m'- "cette semaine" = semaine actuelle\n'[39m +
    [32m'- "semaine prochaine" = semaine suivante\n'[39m +
    [32m'- "demain" = 2025-12-06\n'[39m +
    [32m'- "dans X jours" = 2025-12-05 + X jours\n'[39m +
    [32m'- "dans X semaines" = 2025-12-05 + (X â”œÃ¹ 7) jours\n'[39m +
    [32m'\n'[39m +
    [32m'EXEMPLES:\n'[39m +
    [32m'- "râ”œÂ®union lundi ou mardi" Ã”Ã¥Ã† type: "date", timeSlots: []\n'[39m +
    [32m'- "râ”œÂ®union lundi matin" Ã”Ã¥Ã† 1 date (lundi), plusieurs crâ”œÂ®neaux matin\n'[39m +
    [32m'- "dâ”œÂ®jeuner demain midi" Ã”Ã¥Ã† 1 date (demain), 1 crâ”œÂ®neau (12h00-13h00)\n'[39m +
    [32m'- "disponibilitâ”œÂ® cette semaine" Ã”Ã¥Ã† 5-7 dates, pas de crâ”œÂ®neaux\n'[39m +
    [32m'\n'[39m +
    [32m'FORMAT JSON:\n'[39m +
    [32m'{\n'[39m +
    [32m'  "title": "Titre",\n'[39m +
    [32m'  "description": "Description optionnelle",\n'[39m +
    [32m'  "type": "date",\n'[39m +
    [32m'  "dates": ["YYYY-MM-DD"],\n'[39m +
    [32m'  "timeSlots": [{"start": "HH:MM", "end": "HH:MM", "dates": ["YYYY-MM-DD"]}]\n'[39m +
    [32m'}\n'[39m +
    [32m'\n'[39m +
    [32m'IMPORTANT:\n'[39m +
    [32m'- Râ”œÂ®pondre UNIQUEMENT avec le JSON valide.\n'[39m +
    [32m'- Pas de markdown, pas de texte avant/aprâ”œÂ¿s.\n'[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Ã¶Ã Appel DIRECT â”œÃ¡ Gemini API (fetch) { inputLength: [33m40[39m, hasPrompt: [33mtrue[39m, config: [90mundefined[39m }

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mMâ”œÂ®lange franâ”œÂºais/anglais
[22m[39mÃ”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Ã”Â£Ã  Râ”œÂ®ponse Gemini reâ”œÂºue (fetch direct) { responseLength: [33m218[39m }

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mMâ”œÂ®lange franâ”œÂºais/anglais
[22m[39m
Â­Æ’Ã´Ã‘ [4875e3dd-ba02-43b6-b48c-da35834f6f41] 5. Râ”œÃ«PONSE BRUTE GEMINI
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  rawText: ```json
{
  "title": "Meeting",
  "description": "Scheduled meeting",
  "type": "date",
  "dates": [
    "2025-12-08",
    "2025-12-09",
    "2025-12-10",
    "2025-12-11",
    "2025-12-12"
  ],
  "timeSlots": []
}
```
  responseTime: [33m968[39m
  error: [90mundefined[39m
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Â­Æ’Æ’Ã³ Râ”œÂ®ponse geminiBackend reâ”œÂºue {
  requestId: [32m'4875e3dd-ba02-43b6-b48c-da35834f6f41'[39m,
  success: [33mtrue[39m,
  hasData: [33mtrue[39m,
  error: [90mundefined[39m
}
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Raw Gemini response received 

Â­Æ’Ã¶Ã¤ [4875e3dd-ba02-43b6-b48c-da35834f6f41] 6. TRAITEMENT DE LA Râ”œÃ«PONSE
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  jsonExtracted: [33mtrue[39m
  parsedDates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m
]
  filteredDates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m
]
  datesRemoved: [0 â”œÂ®lâ”œÂ®ments] []
  parsedTimeSlots: [0 â”œÂ®lâ”œÂ®ments] []
  filteredTimeSlots: [0 â”œÂ®lâ”œÂ®ments] []
  timeSlotsRemoved: [33m0[39m
  parseErrors: [0 â”œÂ®lâ”œÂ®ments] []
Ã”Ã¤â•£Â´Â©Ã… Â­Æ’Ã®Ã‰ Date Poll successfully generated 

Ã”Â£Ã  [4875e3dd-ba02-43b6-b48c-da35834f6f41] 7. Râ”œÃ«PONSE FINALE AFFICHâ”œÃ«E
Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡Ã”Ã¶Ã‡
  success: [33mtrue[39m
  title: Meeting
  description: Scheduled meeting
  type: date
  datesCount: [33m5[39m
  dates: [5 â”œÂ®lâ”œÂ®ments] [
  [32m'2025-12-08'[39m,
  [32m'2025-12-09'[39m,
  [32m'2025-12-10'[39m,
  [32m'2025-12-11'[39m,
  [32m'2025-12-12'[39m
]
  timeSlotsCount: [33m0[39m
  timeSlots: [0 â”œÂ®lâ”œÂ®ments] []

[90mstdout[2m | src/test/gemini-tests/edge.manual.ts[2m > [22m[2mGemini Tests - EDGE[2m > [22m[2mMâ”œÂ®lange franâ”œÂºais/anglais
[22m[39m
Â­Æ’Ã´Ã˜ QUESTION: Schedule a meeting pour next week please
Â­Æ’Ã´Ã  Râ”œÃ«PONSE:
   - Dates: 2025-12-08, 2025-12-09, 2025-12-10, 2025-12-11, 2025-12-12
   - Crâ”œÂ®neaux: aucun

 [32mÃ”Â£Ã´[39m src/test/gemini-tests/edge.manual.ts[2m > [22mGemini Tests - EDGE[2m > [22mMâ”œÂ®lange franâ”œÂºais/anglais[33m 974[2mms[22m[39m

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â» Failed Suites 3 Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»

 FAIL  src/test/gemini-form-polls.test.ts [ src/test/gemini-form-polls.test.ts ]
Error: No test found in suite src/test/gemini-form-polls.test.ts
Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[1/3]Ã”Ã„Â»

 FAIL  src/test/gemini-form-polls.test.ts > Gemini Form Polls Tests
Error: No test found in suite Gemini Form Polls Tests
Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[2/3]Ã”Ã„Â»

 FAIL  src/test/prompts-generation.manual.ts [ src/test/prompts-generation.manual.ts ]
Error: Failed to resolve import "../lib/gemini" from "src/test/prompts-generation.manual.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: C:/Users/Julien Fritsch/Documents/GitHub/DooDates-bug/src/test/prompts-generation.manual.ts:7:30
  3  |   * Teste les prompts de cas limites dâ”œÂ®finis dans TESTS-PROMPTS-GENERATION.md
  4  |   */ import { describe, it, expect, beforeAll, afterAll } from "vitest";
  5  |  import { GeminiService } from "../lib/gemini";
     |                                 ^
  6  |  // Tests de cas limites pour la gâ”œÂ®nâ”œÂ®ration de sondages
  7  |  const testCases = [
 Ã”Ã˜Â» TransformPluginContext._formatLog ../../../../Julien%20Fritsch/Documents/GitHub/DooDates-bug/node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:42528:41
 Ã”Ã˜Â» TransformPluginContext.error ../../../../Julien%20Fritsch/Documents/GitHub/DooDates-bug/node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:42525:16
 Ã”Ã˜Â» normalizeUrl ../../../../Julien%20Fritsch/Documents/GitHub/DooDates-bug/node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:40504:23
 Ã”Ã˜Â» ../../../../Julien%20Fritsch/Documents/GitHub/DooDates-bug/node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:40623:37
 Ã”Ã˜Â» TransformPluginContext.transform ../../../../Julien%20Fritsch/Documents/GitHub/DooDates-bug/node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:40550:7
 Ã”Ã˜Â» EnvironmentPluginContainer.transform ../../../../Julien%20Fritsch/Documents/GitHub/DooDates-bug/node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:42323:18
 Ã”Ã˜Â» loadAndTransform ../../../../Julien%20Fritsch/Documents/GitHub/DooDates-bug/node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:35739:27

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[3/3]Ã”Ã„Â»


[2m Test Files [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m6 passed[39m[22m[90m (8)[39m
[2m      Tests [22m [1m[32m32 passed[39m[22m[90m (32)[39m
[2m   Start at [22m 19:38:46
[2m   Duration [22m 74.86s[2m (transform 421ms, setup 503ms, collect 224ms, tests 71.68s, environment 1.32s, prepare 643ms)[22m

